"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[29],{4386:function(s,e,t){t.r(e),t.d(e,{default:function(){return w}});var a=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("form",{ref:"resetPasswordForm",staticClass:"w-100 clearfix",attrs:{method:"post"}},[t("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"password"}},[t("div",{staticClass:"input-unit"},[t("popper",{ref:"passwordHint",attrs:{trigger:"focus",placement:"bottom"},scopedSlots:s._u([{key:"handle",fn:function(){return[t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordFirst,expression:"passwordFirst"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:s._uid+"password_first"},domProps:{value:s.passwordFirst},on:{input:function(e){e.target.composing||(s.passwordFirst=e.target.value)}}})]},proxy:!0},{key:"title",fn:function(){return[s._v("\n                    "+s._s(s.$translate("Ceres::Template.resetPwPasswordHintTitle"))+"\n                ")]},proxy:!0},{key:"content",fn:function(){return[t("ul",{staticClass:"pl-3"},[t("li",[s._v(s._s(s.$translate("Ceres::Template.resetPwPasswordHintLength")))]),s._v(" "),t("li",[s._v(s._s(s.$translate("Ceres::Template.resetPwPasswordHintDigit")))]),s._v(" "),t("li",[s._v(s._s(s.$translate("Ceres::Template.resetPwPasswordHintChar")))])])]},proxy:!0}])}),s._v(" "),t("label",{attrs:{for:s._uid+"password_first"}},[s._v(s._s(s.$translate("Ceres::Template.resetPwNewPassword"))+"*")])],1)]),s._v(" "),t("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"ref"}},[t("div",{staticClass:"input-unit"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordSecond,expression:"passwordSecond"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:s._uid+"password_second","data-validate-ref":"#"+s._uid+"password_first"},domProps:{value:s.passwordSecond},on:{input:function(e){e.target.composing||(s.passwordSecond=e.target.value)}}}),s._v(" "),t("label",{attrs:{for:s._uid+"password_second"}},[s._v(s._s(s.$translate("Ceres::Template.resetPwRepeatPassword"))+"*")])])]),s._v(" "),t("button",{staticClass:"btn btn-primary btn-appearance btn-large float-right",attrs:{disabled:s.isDisabled},on:{click:function(e){return e.preventDefault(),s.validatePassword(e)}}},[t("span",[s._v(s._s(s.$translate("Ceres::Template.resetPwSave")))]),s._v(" "),t("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}})])])};a._withStripped=!0;var r=t(7412),o=t(3279),i=t(1023),d=t(3085),n=t(1452),l={name:"reset-password-form",props:{contactId:{type:Number,required:!0},hash:{type:String,required:!0}},data:()=>({passwordFirst:"",passwordSecond:"",isDisabled:!1}),methods:{validatePassword(){r.default.validate(this.$refs.resetPasswordForm).done((()=>{this.saveNewPassword()})).fail((s=>{r.default.markInvalidFields(s,"has-error");const e=(0,i.le)(s[0])?null:s[0].dataset.validate;"password"===e?n.default.error(this.$translate("Ceres::Template.resetPwInvalidPassword")):"ref"===e&&n.default.error(this.$translate("Ceres::Template.resetPwRepeatNewPassword"))}))},saveNewPassword(){this.isDisabled=!0,d.default.post("/rest/io/customer/password",{password:this.passwordFirst,password2:this.passwordSecond,contactId:this.contactId,hash:this.hash}).done((()=>{(0,o.T8)(window.location.origin),n.default.success(this.$translate("Ceres::Template.resetPwChangePasswordSuccessful")).closeAfter(3e3)})).fail((()=>{this.isDisabled=!1,n.default.error(this.$translate("Ceres::Template.resetPwChangePasswordFailed")).closeAfter(5e3)}))}}},p=(0,t(1900).Z)(l,a,[],!1,null,null,null);p.options.__file="resources/js/src/app/components/customer/ResetPasswordForm.vue";var w=p.exports}}]);
//# sourceMappingURL=ceres-29.min.js.map