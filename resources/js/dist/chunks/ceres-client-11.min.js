(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{342:function(e,t,i){var s=i(6),r=i(211),a=i(13),n=i(31),o=i(157).onFreeze,p=Object.freeze;s({target:"Object",stat:!0,forced:a((function(){p(1)})),sham:!r},{freeze:function(e){return p&&n(e)?p(o(e)):e}})},358:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.currentOffer?i("category-item",{attrs:{"item-data":e.currentOffer.item,"decimal-count":e.$ceres.config.item.storeSpecial,"image-url-accessor":"urlMiddle","padding-classes":e.paddingClasses,"padding-inline-styles":e.paddingInlineStyles,"force-url-with-variation-id":!0},scopedSlots:e._u([{key:"store-special",fn:function(){return[e.storeSpecial?i("item-store-special",{attrs:{"store-special":e.storeSpecial,"recommended-retail-price":e.prices.rrp,"variation-retail-price":e.prices.price,"decimal-count":e.$ceres.config.item.storeSpecial}}):e._e()]},proxy:!0},{key:"item-image",fn:function(){return[e.displaySettings.customImagePath?i("a",{attrs:{href:e._f("itemURL")(e.currentOffer.item)}},[i("lazy-img",{attrs:{"image-url":e.displaySettings.customImagePath,alt:e._f("itemName")(e.currentOffer.item),title:e._f("itemName")(e.currentOffer.item)}})],1):e._e()]},proxy:!0},e.currentOffer&&1!==e.whenIsCurrentOffer()&&e.isActiveByStock?{key:"item-details",fn:function(){return[i("live-shopping-details",{attrs:{"live-shopping-data":e.currentOffer,"display-settings":e.displaySettings,prices:e.prices,"is-active-by-stock":e.isActiveByStock,"show-net-prices":e.showNetPrices},on:{"reload-offer":function(t){return e.reloadOffer()}},scopedSlots:e._u([{key:"after-item-name",fn:function(){return[i("div",{staticClass:"live-shopping-add-to-basket"},[i("add-to-basket",{attrs:{"variation-id":e.currentOffer.item.variation.id,"is-salable":!!e.currentOffer.item.filter&&e.currentOffer.item.filter.isSalable,"has-children":!!e.currentOffer.item.filter&&e.currentOffer.item.filter.hasActiveChildren,"interval-quantity":e.currentOffer.item.variation.intervalOrderQuantity||1,"minimum-quantity":e.currentOffer.item.variation.minimumOrderQuantity,"maximum-quantity":e.currentOffer.item.variation.maximumOrderQuantity&&e.currentOffer.item.variation.maximumOrderQuantity>0?e.currentOffer.item.variation.maximumOrderQuantity:null,"order-properties":e.currentOffer.item.properties.filter((function(e){return e.property.isOderProperty})),"has-order-properties":e.currentOffer.item.hasOrderProperties,"use-large-scale":!1,"show-quantity":!1,"item-url":e._f("itemURL")(e.currentOffer.item),"item-type":e.currentOffer.item.item.itemType}})],1)]},proxy:!0}],null,!1,741665433)})]},proxy:!0}:null],null,!0)}):i("div",[e._t("default")],2)],1)};s._withStripped=!0;i(342),i(45),i(57);var r=i(1),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"live-shopping-details"},[i("div",{staticClass:"h3 live-shopping-item-name"},[i("a",{attrs:{href:e._f("itemURL")(e.liveShoppingData.item)}},[e._v("\n            "+e._s(e._f("itemName")(e.liveShoppingData.item))+"\n        ")])]),e._v(" "),e._t("after-item-name"),e._v(" "),e.displaySettings.showTimer||e.displaySettings.showStock?i("div",{staticClass:"live-shopping-countdown"},[i("hr",{staticClass:"live-shopping-countdown-separator"}),e._v(" "),e.displaySettings.showTimer?i("div",{staticClass:"live-shopping-countdown-heading"},[e.hasStarted?i("div",[e._v("\n                "+e._s(e.$translate("Ceres::Template.liveShoppingOfferEndsIn"))+"\n            ")]):i("div",[e._v("\n                "+e._s(e.$translate("Ceres::Template.liveShoppingOfferBeginsIn"))+"\n            ")])]):e._e(),e._v(" "),e.displaySettings.showTimer&&e.duration?i("div",{staticClass:"live-shopping-countdown-thread-container"},[e.duration.days>0?i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.days))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingDays")))])]):e._e(),e._v(" "),i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.hours))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingHours")))])]),e._v(" "),i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.minutes))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingMinutes")))])]),e._v(" "),e.duration.days<=0?i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.seconds))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingSeconds")))])]):e._e()]):e._e(),e._v(" "),e.hasStarted&&!e.hasClosed?[e.displaySettings.showTimer&&e.displaySettings.showTimerProgress?i("div",{staticClass:"live-shopping-progress"},[i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",class:"progress-"+10*Math.round(e.timePercentage/10),style:"width:"+e.timePercentage+"%",attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})])]):e._e(),e._v(" "),e.displaySettings.showStock?i("div",{staticClass:"live-shopping-progress"},[i("div",{staticClass:"live-shopping-progress-heading"},[i("span",[e._v(e._s(e.$translate("Ceres::Template.liveShoppingRemainingStock",{quantityRemaining:e.itemQuantityRemaining,quantityMax:e.liveShoppingData.liveShopping.quantityMax})))])]),e._v(" "),e.displaySettings.showStockProgress?i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",class:"progress-"+10*Math.round(e.quantitySoldPercentage/10),style:"width:"+e.quantitySoldPercentage+"%",attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()]):e._e()]:e._e()],2):e._e(),e._v(" "),e.hasStarted&&!e.hasClosed?i("div",{staticClass:"live-shopping-prices bg-danger"},[i("div",{staticClass:"live-shopping-prices-inner"},[!isNaN(e.itemPriceRebatePercentage)&&e.itemPriceRebatePercentage>0?i("div",{staticClass:"live-shopping-prices-rebate"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingRebate",{rebate:e.itemPriceRebatePercentage})))]):e._e(),e._v(" "),i("div",{staticClass:"live-shopping-prices-container"},[i("div",{staticClass:"live-shopping-price"},[i("strong",[e._v(e._s(e.prices.price.unitPrice.formatted)+" *")])]),e._v(" "),e.displaySettings.showCrossPrice&&e.prices.rrp&&e.prices.rrp.unitPrice.value>0?i("span",[e.prices.isRrpDefaultPrice?i("span",{domProps:{innerHTML:e._s(e.oldPriceBefore)}}):i("span",{domProps:{innerHTML:e._s(e.oldPriceRrp)}})]):e._e()])]),e._v(" "),i("div",{staticClass:"live-shopping-prices-additional-info"},["C62"!==e.liveShoppingData.item.unit.unitOfMeasurement||1!==e.liveShoppingData.item.unit.content?i("div",[i("span",[e._v(e._s(e.liveShoppingData.item.unit.content))]),e._v(" "),i("span",[e._v(e._s(e.liveShoppingData.item.unit.names.name))]),e._v(" "),e.liveShoppingData.item.variation.mayShowUnitPrice?i("span",[e._v("| "+e._s(e.prices.price.basePrice))]):e._e()]):e._e(),e._v("\n\n            * "),e.showNetPrices?[e._v(e._s(e.$translate("Ceres::Template.itemExclVAT")))]:[e._v(e._s(e.$translate("Ceres::Template.itemInclVAT")))],e._v(" "+e._s(e.$translate("Ceres::Template.itemExclusive"))+"\n            "),e.$ceres.config.global.shippingCostsCategoryId>0?i("a",{attrs:{"data-toggle":"modal",href:"#shippingscosts",title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))]):i("a",{attrs:{title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))])],2)]):i("div",{staticClass:"thumb-content"},[i("div",[i("div",{staticClass:"prices"},[i("div",{staticClass:"price-view-port"},[e.displaySettings.showCrossPrice&&e.prices.rrp.price.value>0?i("del",{staticClass:"crossprice"},[e._v("\n                        "+e._s(e._f("itemCrossPrice")(e.prices.rrp.price.formatted))+"\n                    ")]):e._e()]),e._v(" "),i("div",{staticClass:"price"},[e._v("\n                    "+e._s(e.prices.price.price.formatted)+" *\n                ")])]),e._v(" "),"C62"!==e.liveShoppingData.item.unit.unitOfMeasurement||1!==e.liveShoppingData.item.unit.content?i("div",{staticClass:"category-unit-price small"},[i("span",[e._v(e._s(e.liveShoppingData.item.unit.content))]),e._v(" "),i("span",[e._v(e._s(e.liveShoppingData.item.unit.names.name))]),e._v(" "),e.liveShoppingData.item.variation.mayShowUnitPrice?i("span",[e._v("| "+e._s(e.prices.price.basePrice))]):e._e()]):e._e(),e._v(" "),i("span",{staticClass:"vat small text-muted"},[e._v("\n                * "),e.showNetPrices?[e._v(e._s(e.$translate("Ceres::Template.itemExclVAT")))]:[e._v(e._s(e.$translate("Ceres::Template.itemInclVAT")))],e._v(" "+e._s(e.$translate("Ceres::Template.itemExclusive"))+"\n                "),e.$ceres.config.global.shippingCostsCategoryId>0?i("a",{attrs:{"data-toggle":"modal",href:"#shippingscosts",title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))]):i("a",{attrs:{title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))])],2)])])],2)};a._withStripped=!0;i(74),i(46),i(17);var n=i(92),o=i.n(n),p={props:{liveShoppingData:{type:Object,required:!0},displaySettings:{type:Object,default:function(){return{showCrossPrice:!0,showStock:!0,showStockProgress:!0,showTimer:!0,showTimerProgress:!0}}},prices:{type:Object,required:!0},isActiveByStock:{type:Boolean},showNetPrices:{type:Boolean}},data:function(){return{currentInterval:null,duration:null,hasClosed:null,hasStarted:null,itemPriceRebatePercentage:0,itemQuantityRemaining:0,momentBegin:null,momentEnd:null,quantitySoldPercentage:0,timePercentage:0}},computed:{oldPriceBefore:function(){return this.$translate("Ceres::Template.liveShoppingBefore",{price:"<del>"+this.prices.rrp.unitPrice.formatted+"</del>"})},oldPriceRrp:function(){return this.$translate("Ceres::Template.liveShoppingRrp",{price:"<del>"+this.prices.rrp.unitPrice.formatted+"</del>"})}},created:function(){this.initializeDataAndTimer()},methods:{initializeDataAndTimer:function(){var e=this,t=o()();this.momentBegin=o.a.unix(this.liveShoppingData.liveShopping.fromTime),this.momentEnd=o.a.unix(this.liveShoppingData.liveShopping.toTime),this.hasStarted=this.momentBegin.valueOf()<t.valueOf(),this.hasClosed=this.momentEnd.valueOf()<t.valueOf(),this.setQuantitySoldPercentage(),this.hasStarted&&!this.hasClosed&&this.setItemPriceRebatePercentage(),clearInterval(this.currentInterval),this.calculations(),this.currentInterval=setInterval((function(){e.calculations()}),1e3)},setQuantitySoldPercentage:function(){var e=this.liveShoppingData.liveShopping,t=100-e.quantitySold/e.quantityMax*100;this.itemQuantityRemaining=e.quantityMax-e.quantitySold,this.quantitySoldPercentage=t.toFixed(App.config.item.storeSpecial)},setItemPriceRebatePercentage:function(){var e=this.prices.price.price.value,t=this.prices.rrp&&this.prices.rrp.price.value||0;if(0===t)this.itemPriceRebatePercentage=0;else{var i=100-e/t*100;i=(i=i.toFixed(App.config.item.storeSpecial)).replace(".",App.decimalSeparator),this.itemPriceRebatePercentage=i}},calculations:function(){var e,t=o()(),i=0;e=this.momentEnd.diff(this.momentBegin,"second"),i=this.hasStarted?this.momentEnd.diff(t,"second"):this.momentBegin.diff(t,"second"),this.timePercentage=(i/e*100).toFixed(App.config.item.storeSpecial),this.duration=this.getDuration(i);var s=!this.hasStarted&&this.momentBegin<t,r=!this.hasClosed&&this.momentEnd<t;(s||r)&&(clearInterval(this.currentInterval),this.$emit("reload-offer"))},getDuration:function(e){var t=Math.floor(e/86400);e-=60*t*60*24;var i=Math.floor(e/3600);e-=60*i*60;var s=Math.floor(e/60);return{days:t,hours:i,minutes:s,seconds:e-=60*s}}},watch:{liveShoppingData:function(){this.initializeDataAndTimer()}}},l=i(2),c=Object(l.a)(p,a,[],!1,null,null,null);c.options.__file="resources/js/src/app/components/liveShopping/LiveShoppingDetails.vue";var u=c.exports,d=i(208),v=Object.freeze({past:1,now:2,future:3}),m={components:{LiveShoppingDetails:u,ItemStoreSpecial:d.a},props:{liveShoppingId:{type:Number,required:!0,validator:function(e){return e%1==0&&e>=1&&e<=10}},displaySettings:{type:Object},paddingClasses:{type:String,default:null},paddingInlineStyles:{type:String,default:null},sorting:{type:String,default:null},showNetPrices:{type:Boolean}},computed:{currentOffer:function(){return this.$store.state.liveShopping.liveShoppingOffers[this._uid]},isActive:function(){return this.isActiveByTime&&this.isActiveByStock},isActiveByTime:function(){if(!Object(r.e)(this.currentOffer)){var e=1e3*parseInt(this.currentOffer.liveShopping.fromTime),t=1e3*parseInt(this.currentOffer.liveShopping.toTime),i=Date.now();return e<i&&i<t}return!1},isActiveByStock:function(){if(!Object(r.e)(this.currentOffer)){var e=this.currentOffer.liveShopping;return e.quantitySold<e.quantityMax}return!1},storeSpecial:function(){if(!Object(r.e)(this.currentOffer)){if(this.isActive)return{id:1};var e=this.whenIsCurrentOffer(),t="";return e===v.past?t=this.$translate("Ceres::Template.liveShoppingOfferClosed"):e===v.future?t=this.$translate("Ceres::Template.liveShoppingNextOffer"):e===v.now&&(t=this.$translate("Ceres::Template.liveShoppingOfferSoldOut")),{id:-1,names:{name:t}}}return null},prices:function(){var e=this.currentOffer.item.prices,t={price:e.default,rrp:e.rrp,isRrpDefaultPrice:!1};return Object(r.e)(e.specialOffer)||(t.price=e.specialOffer,t.rrp=e.default||e.rrp,t.isRrpDefaultPrice=!!e.default),t}},mounted:function(){this.reloadOffer()},methods:{whenIsCurrentOffer:function(){var e=1e3*parseInt(this.currentOffer.liveShopping.fromTime),t=1e3*parseInt(this.currentOffer.liveShopping.toTime),i=Date.now();return e<i&&i>t?v.past:e<i&&i<t?v.now:v.future},reloadOffer:function(){this.$store.dispatch("retrieveLiveShoppingOffer",{liveShoppingId:this.liveShoppingId,sorting:this.sorting,uid:this._uid})}}},h=Object(l.a)(m,s,[],!1,null,null,null);h.options.__file="resources/js/src/app/components/liveShopping/LiveShoppingItem.vue";t.default=h.exports}}]);
//# sourceMappingURL=ceres-client-11.min.js.map