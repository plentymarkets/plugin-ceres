(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{399:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cmp-totals"},[s("div",{staticClass:"h3"},[t._v(t._s(t.$translate("Ceres::Template.basketSum")))]),t._v(" "),s("div",{staticClass:"component-loading with-icon refreshing",class:{"is-loading":t.isBasketLoading}},[s("dl",[t._t("before-item-sum"),t._v(" "),t.visibleFields.includes("basketValueNet")?[s("dt",{class:{"font-weight-bold":t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketValue"))+" "+t._s(t.$translate("Ceres::Template.basketNet"))+"\n                ")]),s("dd",{class:{"font-weight-bold":t.showNetPrices},attrs:{"data-testing":"item-sum-net"}},[t._v("\n                    "+t._s(t._f("currency")(t.calculateBaseValue(t.basket.itemSumNet,t.basket.basketRebate)))+"\n                ")])]:t._e(),t._v(" "),t.visibleFields.includes("basketValueGross")?[s("dt",{class:{"font-weight-bold":!t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketValue"))+" "+t._s(t.$translate("Ceres::Template.basketGross"))+"\n                ")]),s("dd",{class:{"font-weight-bold":!t.showNetPrices},attrs:{"data-testing":"item-sum"}},[t._v("\n                    "+t._s(t._f("currency")(t.calculateBaseValue(t.basket.itemSum,t.basket.basketRebate)))+"\n                ")])]:t._e(),t._v(" "),t.visibleFields.includes("rebate")&&t.basket.basketRebate?[s("dt",{staticClass:"rebate-hint"},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketRebate"))+"\n                ")]),t.showNetPrices?s("dd",{staticClass:"rebate-hint"},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketRebateSign"))+t._s(t._f("currency")(t.calculateBaseValue(t.basket.itemSumNet,t.basket.basketRebate)-t.basket.itemSumNet))+"\n                ")]):s("dd",{staticClass:"rebate-hint"},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketRebateSign"))+t._s(t._f("currency")(t.calculateBaseValue(t.basket.itemSum,t.basket.basketRebate)-t.basket.itemSum))+"\n                ")]),t._v(" "),s("dt",{class:{"font-weight-bold":t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketSubTotal"))+" "+t._s(t.$translate("Ceres::Template.basketNet"))+"\n                ")]),s("dd",{class:{"font-weight-bold":t.showNetPrices}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.itemSumNet))+"\n                ")]),t._v(" "),s("dt",{class:{"font-weight-bold":!t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketSubTotal"))+" "+t._s(t.$translate("Ceres::Template.basketGross"))+"\n                ")]),s("dd",{class:{"font-weight-bold":!t.showNetPrices}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.itemSum))+"\n                ")])]:t._e(),t._v(" "),t._t("after-item-sum"),t._v(" "),t._t("before-shipping-costs"),t._v(" "),t.visibleFields.includes("shippingCostsNet")?[s("dt",{class:{"font-weight-bold":t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketShippingCosts"))+" "+t._s(t.$translate("Ceres::Template.basketNet"))+"\n                ")]),s("dd",{class:{"font-weight-bold":t.showNetPrices},attrs:{"data-testing":"shipping-amount-net"}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.shippingAmountNet))+"\n                ")])]:t._e(),t._v(" "),t.visibleFields.includes("shippingCostsGross")?[s("dt",{class:{"font-weight-bold":!t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketShippingCosts"))+" "+t._s(t.$translate("Ceres::Template.basketGross"))+"\n                ")]),s("dd",{class:{"font-weight-bold":!t.showNetPrices},attrs:{"data-testing":"shipping-amount"}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.shippingAmount))+"\n                ")])]:t._e(),t._v(" "),t._t("after-shipping-costs"),t._v(" "),t.visibleFields.includes("promotionCoupon")&&t.basket.couponCode&&"promotion"===t.basket.couponCampaignType?[s("dt",{staticClass:"font-weight-bold"},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketCoupon"))+"\n                ")]),s("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"promotion-coupon"}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.couponDiscount))+"\n                ")])]:t._e(),t._v(" "),s("hr"),t._v(" "),t._t("before-total-sum"),t._v(" "),t.visibleFields.includes("totalSumNet")?[s("dt",{class:{"font-weight-bold":t.showNetPrices}},[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketTotalSum"))+" "+t._s(t.$translate("Ceres::Template.basketNet"))+"\n                ")]),s("dd",{class:{"font-weight-bold":t.showNetPrices},attrs:{"data-testing":"basket-amount-net"}},[t._v("\n                    "+t._s(t._f("currency")(t.basket.basketAmountNet))+"\n                ")])]:t._e(),t._v(" "),t._t("before-vat"),t._v(" "),t._l(t.basket.totalVats,(function(e){return t.visibleFields.includes("vats")?s("div",{staticClass:"vatTotals"},[s("dt",[t._v("\n                    "+t._s(t.$translate("Ceres::Template.basketVAT"))+" "+t._s(e.vatValue)+"%\n                ")]),s("dd",{attrs:{"data-testing":"vat-amount"}},[t._v("\n                    "+t._s(t._f("currency")(e.vatAmount))+"\n                ")])]):t._e()})),t._v(" "),t._t("after-vat"),t._v(" "),s("div",{staticClass:"totalSum"},[s("hr"),t._v(" "),t.visibleFields.includes("additionalCosts")&&t.propertiesWithAdditionalCosts.length?[t._l(t.propertiesWithAdditionalCosts,(function(e){return[s("dt",{key:"property-name-"+e.propertyId,staticClass:"font-weight-bold"},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),s("dd",{key:"property-price-"+e.propertyId,staticClass:"font-weight-bold"},[t._v("\n                            "+t._s(t._f("currency")(e.price))+"\n                        ")])]}))]:t._e(),t._v(" "),t.visibleFields.includes("totalSumGross")?[s("dt",{class:{"font-weight-bold":!t.showNetPrices}},[t._v("\n                        "+t._s(t.$translate("Ceres::Template.basketTotalSum"))+" "+t._s(t.$translate("Ceres::Template.basketGross"))+"\n                    ")]),s("dd",{class:{"font-weight-bold":!t.showNetPrices},attrs:{"data-testing":"basket-amount"}},[t._v("\n                        "+t._s(t._f("currency")(t.basket.basketAmount))+"\n                    ")])]:t._e(),t._v(" "),t.visibleFields.includes("salesCoupon")&&t.basket.couponCode&&"sales"===t.basket.couponCampaignType?[s("dt",{staticClass:"font-weight-bold"},[t._v("\n                        "+t._s(t.$translate("Ceres::Template.basketCoupon"))+"\n                    ")]),s("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"sales-coupon"}},[t._v("\n                        "+t._s(t._f("currency")(t.basket.couponDiscount))+"\n                    ")])]:t._e(),t._v(" "),t.visibleFields.includes("openAmount")&&"sales"===t.basket.couponCampaignType?[s("dt",{staticClass:"font-weight-bold"},[t._v("\n                        "+t._s(t.$translate("Ceres::Template.basketOpenAmount"))+"\n                    ")]),s("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"open-amount"}},[t._v("\n                        "+t._s(t._f("currency")(t.basket.openAmount))+"\n                    ")])]:t._e()],2),t._v(" "),t._t("after-total-sum")],2)]),t._v(" "),t.basket.isExportDelivery&&t.deliveryExportTranslation?s("div",{staticClass:"alert alert-info w-100"},[t._v("\n        "+t._s(t.deliveryExportTranslation)+"\n    ")]):t._e()])};n._withStripped=!0;s(26),s(4),s(13),s(28),s(7),s(51),s(17),s(52),s(16),s(3),s(22),s(10),s(14),s(15),s(8),s(11);var a=s(20);function r(t,e){var s;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(s=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){s=t[Symbol.iterator]()},n:function(){var t=s.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==s.return||s.return()}finally{if(l)throw r}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u={name:"basket-totals",props:{visibleFields:{type:Array,default:function(){return["basketValueNet","basketValueGross","rebate","shippingCostsNet","shippingCostsGross","promotionCoupon","totalSumNet","vats","additionalCosts","totalSumGross","salesCoupon","openAmount"]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({currentShippingCountry:function(){var t=this.basket.shippingCountryId;return this.shippingCountries.find((function(e){return e.id===t}))},shopCountry:function(){var t=this.basket.shopCountryId;return this.shippingCountries.find((function(e){return e.id===t}))},deliveryExportTranslation:function(){var t=this.shopCountry&&this.shopCountry.currLangName,e=this.currentShippingCountry&&this.currentShippingCountry.currLangName;return this.$translate("Ceres::Template.basketExportDeliveryWarning",{from:t,to:e})},propertiesWithAdditionalCosts:function(){var t,e=this,s=[],n=r(this.basketItems);try{for(n.s();!(t=n.n()).done;){var a,i=t.value,o=r(i.variation.data.properties.filter((function(t){return t.property.isShownAsAdditionalCosts&&!1===t.property.isOderProperty})));try{var l=function(){var t=a.value,n=s.find((function(e){return e.propertyId===t.propertyId}));n?n.quantity+=i.quantity:s.push({propertyId:t.propertyId,name:t.property.names.name,quantity:i.quantity,surcharge:e.$options.filters.propertySurcharge(i.variation.data.properties,t.propertyId)})};for(o.s();!(a=o.n()).done;)l()}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}for(var u=0,c=s;u<c.length;u++){var p=c[u];p.price=p.quantity*p.surcharge}return s}},Object(a.e)({basket:function(t){return t.basket.data},basketItems:function(t){return t.basket.items},isBasketLoading:function(t){return t.basket.isBasketLoading},shippingCountries:function(t){return t.localization.shippingCountries},showNetPrices:function(t){return t.basket.showNetPrices}})),methods:{calculateBaseValue:function(t,e){return t/(100-e)*100}}},c=s(5),p=Object(c.a)(u,n,[],!1,null,null,null);p.options.__file="resources/js/src/app/components/basket/BasketTotals.vue";e.default=p.exports}}]);
//# sourceMappingURL=ceres-21.min.js.map