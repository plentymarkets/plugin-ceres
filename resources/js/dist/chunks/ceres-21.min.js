(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{447:function(e,t,s){"use strict";s.r(t);s(39),s(15),s(47);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cmp-totals"},[t("div",{staticClass:"h3"},[e._v(e._s(e.$translate("Ceres::Template.basketSum")))]),e._v(" "),t("div",{staticClass:"component-loading with-icon refreshing",class:{"is-loading":e.isBasketLoading}},[t("dl",[e._t("before-item-sum"),e._v(" "),(e.visibleFields.includes("additionalCosts")||e.visibleFields.includes("basket.additional_costs"))&&e.displayedProperties.length?[e._l(e.displayedProperties,(function(s){return[t("dt",{key:"property-name-"+s.propertyId,class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"additionalcost-with-tax"}},[e._v("\n                        "+e._s(s.name)+"\n                    ")]),t("dd",{key:"property-price-"+s.propertyId,class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                        "+e._s(e._f("currency")(s.price))+"\n                    ")])]}))]:e._e(),e._v(" "),e.visibleFields.includes("basketValueNet")||e.visibleFields.includes("basket.value_of_items_net")?[t("dt",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketValue"))+" "+e._s(e.$translate("Ceres::Template.basketNet"))+"\n                ")]),t("dd",{class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"item-sum-net"}},[e._v("\n                    "+e._s(e._f("currency")(e.calculateBaseValue(e.basket.itemSumNet,e.basket.basketRebate)))+"\n                ")])]:e._e(),e._v(" "),e.visibleFields.includes("basketValueGross")||e.visibleFields.includes("basket.value_of_items_gross")?[t("dt",{class:{"font-weight-bold":!e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketValue"))+" "+e._s(e.$translate("Ceres::Template.basketGross"))+"\n                ")]),t("dd",{class:{"font-weight-bold":!e.showNetPrices},attrs:{"data-testing":"item-sum"}},[e._v("\n                    "+e._s(e._f("currency")(e.calculateBaseValue(e.basket.itemSum,e.basket.basketRebate)))+"\n                ")])]:e._e(),e._v(" "),(e.visibleFields.includes("rebate")||e.visibleFields.includes("basket.rebate"))&&e.basket.basketRebate?[t("dt",{staticClass:"rebate-hint"},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketRebate"))+"\n                ")]),e.showNetPrices?t("dd",{staticClass:"rebate-hint"},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketRebateSign"))+e._s(e._f("currency")(e.calculateBaseValue(e.basket.itemSumNet,e.basket.basketRebate)-e.basket.itemSumNet))+"\n                ")]):t("dd",{staticClass:"rebate-hint"},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketRebateSign"))+e._s(e._f("currency")(e.calculateBaseValue(e.basket.itemSum,e.basket.basketRebate)-e.basket.itemSum))+"\n                ")]),e._v(" "),t("dt",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketSubTotal"))+" "+e._s(e.$translate("Ceres::Template.basketNet"))+"\n                ")]),t("dd",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.itemSumNet))+"\n                ")]),e._v(" "),t("dt",{class:{"font-weight-bold":!e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketSubTotal"))+" "+e._s(e.$translate("Ceres::Template.basketGross"))+"\n                ")]),t("dd",{class:{"font-weight-bold":!e.showNetPrices}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.itemSum))+"\n                ")])]:e._e(),e._v(" "),e._t("after-item-sum"),e._v(" "),e._t("before-shipping-costs"),e._v(" "),e.visibleFields.includes("shippingCostsNet")||e.visibleFields.includes("basket.shipping_costs_net")?[t("dt",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketShippingCosts"))+" "+e._s(e.$translate("Ceres::Template.basketNet"))+"\n                ")]),t("dd",{class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"shipping-amount-net"}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.shippingAmountNet))+"\n                ")])]:e._e(),e._v(" "),e.visibleFields.includes("shippingCostsGross")||e.visibleFields.includes("basket.shipping_costs_gross")?[t("dt",{class:{"font-weight-bold":!e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketShippingCosts"))+" "+e._s(e.$translate("Ceres::Template.basketGross"))+"\n                ")]),t("dd",{class:{"font-weight-bold":!e.showNetPrices},attrs:{"data-testing":"shipping-amount"}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.shippingAmount))+"\n                ")])]:e._e(),e._v(" "),e._t("after-shipping-costs"),e._v(" "),(e.visibleFields.includes("promotionCoupon")||e.visibleFields.includes("basket.promotion_coupon"))&&e.basket.couponCode&&"promotion"===e.basket.couponCampaignType?[t("dt",{staticClass:"font-weight-bold"},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketCoupon"))+"\n                ")]),t("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"promotion-coupon"}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.couponDiscount))+"\n                ")])]:e._e(),e._v(" "),e.visibleFields.includes("subAmount")||e.visibleFields.includes("basket.order_total_net")||e.visibleFields.includes("vats")||e.visibleFields.includes("basket.vat")?t("hr"):e._e(),e._v(" "),e._t("before-total-sum"),e._v(" "),e.visibleFields.includes("subAmount")||e.visibleFields.includes("basket.order_total_net")?[t("dt",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketSubAmount"))+" "+e._s(e.$translate("Ceres::Template.basketNet"))+"\n                ")]),t("dd",{class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"basket-sub-amount"}},[e._v("\n                    "+e._s(e._f("currency")(e.basket.subAmount))+"\n                ")])]:e._e(),e._v(" "),e._t("before-vat"),e._v(" "),e._l(e.basket.totalVats,(function(s){return e.visibleFields.includes("vats")||e.visibleFields.includes("basket.vat")?[t("dt",[e._v("\n                    "+e._s(e.$translate("Ceres::Template.basketVAT"))+" "+e._s(s.vatValue)+"%\n                ")]),t("dd",{attrs:{"data-testing":"vat-amount"}},[e._v("\n                    "+e._s(e._f("currency")(s.vatAmount))+"\n                ")])]:e._e()})),e._v(" "),e._t("after-vat"),e._v(" "),(e.visibleFields.includes("additionalCosts")||e.visibleFields.includes("basket.additional_costs"))&&e.displayedPropertiesWithoutTax.length?[e._l(e.displayedPropertiesWithoutTax,(function(s){return[t("dt",{key:"property-name-"+s.propertyId,class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"additionalcost-without-tax"}},[e._v("\n                        "+e._s(s.name)+"\n                    ")]),t("dd",{key:"property-price-"+s.propertyId,class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                        "+e._s(e._f("currency")(s.price))+"\n                    ")])]}))]:e._e(),e._v(" "),t("div",{staticClass:"totalSum"},[t("hr"),e._v(" "),e.visibleFields.includes("totalSumNet")||e.visibleFields.includes("basket.order_total_net")?[t("dt",{class:{"font-weight-bold":e.showNetPrices}},[e._v("\n                        "+e._s(e.$translate("Ceres::Template.basketTotalSum"))+" "+e._s(e.$translate("Ceres::Template.basketNet"))+"\n                    ")]),t("dd",{class:{"font-weight-bold":e.showNetPrices},attrs:{"data-testing":"basket-amount-net"}},[e._v("\n                        "+e._s(e._f("currency")(e.basket.basketAmountNet))+"\n                    ")])]:e._e(),e._v(" "),e.visibleFields.includes("totalSumGross")||e.visibleFields.includes("basket.order_total_gross")?[t("dt",{class:{"font-weight-bold":!e.showNetPrices}},[e._v("\n                        "+e._s(e.$translate("Ceres::Template.basketTotalSum"))+" "+e._s(e.$translate("Ceres::Template.basketGross"))+"\n                    ")]),t("dd",{class:{"font-weight-bold":!e.showNetPrices},attrs:{"data-testing":"basket-amount"}},[e._v("\n                        "+e._s(e._f("currency")(e.basket.basketAmount))+"\n                    ")])]:e._e(),e._v(" "),(e.visibleFields.includes("salesCoupon")||e.visibleFields.includes("basket.sales_coupon"))&&e.basket.couponCode&&"sales"===e.basket.couponCampaignType?[t("dt",{staticClass:"font-weight-bold"},[e._v("\n                        "+e._s(e.$translate("Ceres::Template.basketCoupon"))+"\n                    ")]),t("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"sales-coupon"}},[e._v("\n                        "+e._s(e._f("currency")(e.basket.couponDiscount))+"\n                    ")])]:e._e(),e._v(" "),(e.visibleFields.includes("openAmount")||e.visibleFields.includes("basket.open_amount"))&&"sales"===e.basket.couponCampaignType?[t("dt",{staticClass:"font-weight-bold"},[e._v("\n                        "+e._s(e.$translate("Ceres::Template.basketOpenAmount"))+"\n                    ")]),t("dd",{staticClass:"font-weight-bold",attrs:{"data-testing":"open-amount"}},[e._v("\n                        "+e._s(e._f("currency")(e.basket.openAmount))+"\n                    ")])]:e._e()],2),e._v(" "),e._t("after-total-sum")],2)]),e._v(" "),e.basket.isExportDelivery&&e.deliveryExportTranslation?t("div",{staticClass:"alert alert-info w-100"},[e._v("\n        "+e._s(e.deliveryExportTranslation)+"\n    ")]):e._e()])};n._withStripped=!0;s(12),s(13),s(16),s(44),s(4),s(32),s(27),s(8),s(21),s(45),s(24),s(60),s(61),s(33),s(2),s(6),s(20),s(14),s(22),s(11);var r=s(25),a=s(86);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return l(e,t);var s={}.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){s&&(e=s);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==s.return||s.return()}finally{if(o)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=Array(t);s<t;s++)n[s]=e[s];return n}function u(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var d={name:"basket-totals",data:function(){return{displayedProperties:[],displayedPropertiesWithoutTax:[]}},created:function(){this.setPropertiesForTotals(this.basketItems)},watch:{basketItems:{deep:!0,handler:function(e){this.setPropertiesForTotals(e)}}},props:{visibleFields:{type:Array,default:function(){return["basketValueNet","basketValueGross","rebate","shippingCostsNet","shippingCostsGross","promotionCoupon","totalSumNet","vats","additionalCosts","totalSumGross","salesCoupon","openAmount","subAmount"]}}},computed:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?u(Object(s),!0).forEach((function(t){c(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({currentShippingCountry:function(){var e=this.basket.shippingCountryId;return this.shippingCountries.find((function(t){return t.id===e}))},shopCountry:function(){var e=this.basket.shopCountryId;return this.shippingCountries.find((function(t){return t.id===e}))},deliveryExportTranslation:function(){var e=this.shopCountry&&this.shopCountry.currLangName,t=this.currentShippingCountry&&this.currentShippingCountry.currLangName;return this.$translate("Ceres::Template.basketExportDeliveryWarning",{from:e,to:t})}},Object(r.e)({basket:function(e){return e.basket.data},basketItems:function(e){return e.basket.items},isBasketLoading:function(e){return e.basket.isBasketLoading},shippingCountries:function(e){return e.localization.shippingCountries},showNetPrices:function(e){return e.basket.showNetPrices}})),methods:{calculateBaseValue:function(e,t){return e/(100-t)*100},isVariationProperty:function(e){return e.property.isOderProperty&&App.useVariationOrderProperties},isInBasketItemOrderParams:function(e,t){return!t.property.isOderProperty&&!App.useVariationOrderProperties||!!e.basketItemOrderParams.find((function(e){return Number(e.propertyId)===Number(t.propertyId)}))},setPropertiesForTotals:function(e){var t=this;this.displayedPropertiesWithoutTax=[],this.displayedProperties=[];var s,n=o(e);try{var r=function(){var e,n=s.value;null===(e=n.variation.data.properties)||void 0===e||e.forEach((function(e){if(t.isInBasketItemOrderParams(n,e)&&(Object(a.b)(e)||!Object(a.a)(e)&&App.useVariationOrderProperties)){var s=t.displayedProperties.find((function(t){return t.propertyId===e.propertyId})),r=t.displayedPropertiesWithoutTax.find((function(t){return t.propertyId===e.propertyId})),i=s||r;if(i)i.quantity+=n.quantity;else{var o={propertyId:e.propertyId,name:e.property.names.name,quantity:n.quantity,surcharge:t.$options.filters.propertySurcharge(n.variation.data.properties,e.propertyId),vatId:e.property.vatId};Object(a.a)(e)?t.displayedProperties.push(o):t.displayedPropertiesWithoutTax.push(o)}}}))};for(n.s();!(s=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}this.displayedPropertiesWithoutTax.forEach((function(e){e.price=e.quantity*e.surcharge})),this.displayedProperties.forEach((function(e){e.price=e.quantity*e.surcharge}))}}},p=s(5),b=Object(p.a)(d,n,[],!1,null,null,null);t.default=b.exports}}]);
//# sourceMappingURL=ceres-21.min.js.map