(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{388:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bkr-cc",attrs:{itemscope:"",itemtype:"http://schema.org/Thing"}},[i("div",{ref:"single",staticClass:"bkr-cc single-carousel owl-carousel owl-theme owl-single-item mt-0",attrs:{id:"imageGallery"}},t._l(t.singleImages,(function(e){return i("div",{staticClass:"prop-1-1 slide-owl-wrap"},[i("a",{class:{largeVideoThumb:e.position<0},attrs:{href:e.url,"data-fancybox":"single-item-image"+t._uid}},[e.position>=0?i("img",{staticClass:"owl-lazy",attrs:{"data-src":e.url,alt:t.getAltText(e),title:t.getImageName(e)}}):i("img",{staticClass:"owl-lazy",attrs:{"data-src":e.thumb,alt:"Video abspielen"}})])])})),0),t._v(" "),t.showThumbs?i("div",{ref:"thumbs",staticClass:"owl-thumbs owl-carousel owl-theme owl-single-item",attrs:{id:"thumb-carousel"}},t._l(t.carouselImages,(function(e,r){return i("div",{staticClass:"prop-1-1"},[i("div",{staticClass:"image-container",on:{click:function(e){return t.goTo(r)}}},[i("lazy-img",{class:{active:t.currentItem===r,videoButton:e.position<0},attrs:{"picture-class":e.class,"image-url":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})],1)])})),0):t._e()])};r._withStripped=!0;i(43),i(3),i(52),i(44),i(14),i(66),i(4),i(9),i(11),i(19),i(75),i(36),i(25),i(8),i(21),i(10),i(6),i(17),i(18);var a=i(1);function n(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,n=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw n}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var s={name:"item-image-carousel",props:{maxQuantity:{type:Number,default:10},videoCarouselPosition:{type:Number,default:1},imageUrlAccessor:{type:String,default:"url"},showThumbs:{type:Boolean,default:!0},showDots:{type:Boolean,default:!0},animationStyle:{type:String,default:"standard"},pluginPath:{type:String,default:""}},inject:{itemId:{default:null}},data:function(){return{currentItem:0,initialized:!1}},computed:{currentVariation:function(){return this.$store.getters["".concat(this.itemId,"/currentItemVariation")]},youtubeVideoIds:function(){var t="";if(Object(a.e)(this.currentVariation.variationProperties))return[];var e,i=n(this.currentVariation.variationProperties);try{for(i.s();!(e=i.n()).done;){var r,o=n(e.value.properties);try{for(o.s();!(r=o.n()).done;){var s=r.value;192===s.id&&(t=s.values.value.trim())}}catch(t){o.e(t)}finally{o.f()}}}catch(t){i.e(t)}finally{i.f()}return t.split(",").map((function(t){return t.trim()})).filter((function(t){return""!==t}))},carouselImages:function(){var t=this.$options.filters.itemImages(this.currentVariation.images,"urlPreview").slice(0,this.maxQuantity),e=[];if(this.videoThumbUrl&&this.youtubeVideoIds.length>0){var i,r=-1,a=n(this.youtubeVideoIds);try{for(a.s();!(i=a.n()).done;){var o={url:"https://img.youtube.com/vi/"+i.value+"/mqdefault.jpg",class:"owl-thumb border-appearance videoButton",alternate:"Video abspielen",position:r,name:""};e.push(o),r--}}catch(t){a.e(t)}finally{a.f()}}return t.splice.apply(t,[this.videoCarouselPosition,0].concat(e)),t},singleImages:function(){var t=this.$options.filters.itemImages(this.currentVariation.images,this.imageUrlAccessor).slice(0,this.maxQuantity),e=[];if(this.videoThumbUrl&&this.youtubeVideoIds.length>0){var i,r=-1,a=n(this.youtubeVideoIds);try{for(a.s();!(i=a.n()).done;){var o=i.value,s={url:"https://www.youtube.com/watch?v="+o+"?autoplay=0",thumb:"https://img.youtube.com/vi/"+o+"/maxresdefault.jpg",alternate:"Video abspielen",position:r,name:""};e.push(s),r--}}catch(t){a.e(t)}finally{a.f()}}return t.splice.apply(t,[this.videoCarouselPosition,0].concat(e)),t},videoThumbUrl:function(){var t,e=null===(t=this.currentVariation.variationProperties)||void 0===t?void 0:t.find((function(t){return 4===t.id}));return(e?e.properties.filter((function(t){return 192===t.id})):[]).length>0}},watch:{currentVariation:{handler:function(t,e){var i=this;t!==e&&setTimeout((function(){i.reInitialize()}),1)},deep:!0}},mounted:function(){var t=this;this.$nextTick((function(){t.initCarousel(),t.initThumbCarousel()}))},methods:{getImageCount:function(){return this.carouselImages.length>this.maxQuantity?this.maxQuantity:this.carouselImages.length},reInitialize:function(){var t=$(this.$refs.single);t.trigger("destroy.owl.carousel"),t.html(t.find(".owl-stage-outer").html()).removeClass("owl-loaded"),t.find(".owl-item").remove();var e=$(this.$refs.thumbs);e.trigger("destroy.owl.carousel"),e.html(e.find(".owl-stage-outer").html()).removeClass("owl-loaded"),e.find(".owl-item").remove(),this.initCarousel(),this.initThumbCarousel()},initCarousel:function(){var t=this,e=this.getImageCount(),i={autoHeight:!0,dots:this.showDots,items:1,lazyLoad:!0,video:!0,rewind:!0,margin:10,mouseDrag:e>1,nav:e>1,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350,onChanged:function(e){$(t.$refs.thumbs).trigger("to.owl.carousel",[e.page.index,350])},onInitialized:function(e){t.initialized=!0}};"standard"!==this.animationStyle&&(i.animateOut=this.animationStyle),$(this.$refs.single).owlCarousel(i),$(this.$refs.single).on("changed.owl.carousel",(function(e){t.currentItem=e.page.index}))},initThumbCarousel:function(){$(this.$refs.thumbs).owlCarousel({autoHeight:!0,dots:!1,items:6,lazyLoad:!0,loop:!1,margin:5,mouseDrag:!1,center:!1,nav:!0,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350})},goTo:function(t){t<0?$("#videoModal").modal("toggle"):$(this.$refs.single).trigger("to.owl.carousel",[t,350])},getAltText:function(t){return t&&t.alternate?t.alternate:this.$options.filters.itemName(this.currentVariation)},getImageName:function(t){return t&&t.name?t.name:this.$options.filters.itemName(this.currentVariation)}}},l=i(2),u=Object(l.a)(s,r,[],!1,null,null,null);u.options.__file="resources/js/src/app/components/item/ItemImageCarousel.vue";e.default=u.exports}}]);
//# sourceMappingURL=ceres-client-35.min.js.map