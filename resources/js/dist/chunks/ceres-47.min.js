"use strict";(self.webpackChunkCeres=self.webpackChunkCeres||[]).push([[47],{78346:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ Coupon; }\n});\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.index-of.js\nvar es_array_index_of = __webpack_require__(82772);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/basket/Coupon.vue?vue&type=template&id=0916c176&\n\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c("div", {\n    staticClass: "cmp"\n  }, [_vm.isCheckoutReadonly && !!_vm.$translate("Ceres::Template.couponReadonlyInfoText") ? _c("p", [_vm._v("\\n        " + _vm._s(_vm.couponReadonlyInfoText) + "\\n    ")]) : _vm._e(), _vm._v(" "), _c("div", {\n    class: {\n      "input-group": true,\n      "component-loading": _vm.isCheckoutReadonly,\n      "is-loading": _vm.isCheckoutReadonly\n    }\n  }, [_c("input", {\n    directives: [{\n      name: "model",\n      rawName: "v-model",\n      value: _vm.couponCode,\n      expression: "couponCode"\n    }],\n    staticClass: "form-control",\n    attrs: {\n      type: "text",\n      placeholder: _vm.$translate("Ceres::Template.couponEnterCoupon"),\n      disabled: _vm.disabled || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-input"\n    },\n    domProps: {\n      value: _vm.couponCode\n    },\n    on: {\n      keyup: function keyup($event) {\n        if (!$event.type.indexOf("key") && _vm._k($event.keyCode, "enter", 13, $event.key, "Enter")) return null;\n        return _vm.redeemCode();\n      },\n      input: function input($event) {\n        if ($event.target.composing) return;\n        _vm.couponCode = $event.target.value;\n      }\n    }\n  }), _vm._v(" "), _c("span", {\n    staticClass: "input-group-btn"\n  }, [!_vm.disabled ? _c("button", {\n    staticClass: "btn btn-medium btn-primary btn-appearance",\n    attrs: {\n      type: "button",\n      disabled: _vm.waiting || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-redeem"\n    },\n    on: {\n      click: function click($event) {\n        return _vm.redeemCode();\n      }\n    }\n  }, [_c("icon", {\n    attrs: {\n      icon: "gift",\n      loading: _vm.waiting\n    }\n  }), _vm._v("\\n                " + _vm._s(_vm.$translate("Ceres::Template.couponRedeem")) + "\\n            ")], 1) : _c("button", {\n    staticClass: "btn btn-medium btn-danger",\n    attrs: {\n      type: "button",\n      disabled: _vm.waiting || _vm.isCheckoutReadonly,\n      "data-testing": "coupon-remove"\n    },\n    on: {\n      click: function click($event) {\n        return _vm.removeCode();\n      }\n    }\n  }, [_c("icon", {\n    attrs: {\n      icon: "trash",\n      loading: _vm.waiting\n    }\n  }), _vm._v("\\n                " + _vm._s(_vm.$translate("Ceres::Template.couponRemove")) + "\\n            ")], 1)])])]);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\n\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue?vue&type=template&id=0916c176&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.exec.js\nvar es_regexp_exec = __webpack_require__(74916);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.replace.js\nvar es_string_replace = __webpack_require__(15306);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.to-string.js\nvar es_object_to_string = __webpack_require__(41539);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.regexp.to-string.js\nvar es_regexp_to_string = __webpack_require__(39714);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.to-primitive.js\nvar es_symbol_to_primitive = __webpack_require__(96649);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.date.to-primitive.js\nvar es_date_to_primitive = __webpack_require__(96078);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.js\nvar es_symbol = __webpack_require__(82526);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.description.js\nvar es_symbol_description = __webpack_require__(41817);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.number.constructor.js\nvar es_number_constructor = __webpack_require__(9653);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.define-property.js\nvar es_object_define_property = __webpack_require__(69070);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.keys.js\nvar es_object_keys = __webpack_require__(47941);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.filter.js\nvar es_array_filter = __webpack_require__(57327);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptor.js\nvar es_object_get_own_property_descriptor = __webpack_require__(38880);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.for-each.js\nvar web_dom_collections_for_each = __webpack_require__(54747);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.get-own-property-descriptors.js\nvar es_object_get_own_property_descriptors = __webpack_require__(49337);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.object.define-properties.js\nvar es_object_define_properties = __webpack_require__(33321);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.symbol.iterator.js\nvar es_symbol_iterator = __webpack_require__(32165);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.iterator.js\nvar es_array_iterator = __webpack_require__(66992);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/es.string.iterator.js\nvar es_string_iterator = __webpack_require__(78783);\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(33948);\n// EXTERNAL MODULE: ./resources/js/src/app/exceptions/ExceptionMap.js\nvar ExceptionMap = __webpack_require__(6799);\n// EXTERNAL MODULE: ./resources/js/src/app/services/TranslationService.js\nvar TranslationService = __webpack_require__(16698);\n// EXTERNAL MODULE: ./node_modules/vuex/dist/vuex.esm.js\nvar vuex_esm = __webpack_require__(20629);\n;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/basket/Coupon.vue?vue&type=script&lang=js&\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return _typeof(key) === "symbol" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (_typeof(res) !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }\nvar NotificationService = __webpack_require__(41841);\n\n\n\n/* harmony default export */ var Couponvue_type_script_lang_js_ = ({\n  name: "coupon",\n  props: {\n    template: {\n      type: String,\n      default: "#vue-coupon"\n    }\n  },\n  data: function data() {\n    return {\n      waiting: false,\n      couponCode: ""\n    };\n  },\n  watch: {\n    redeemedCouponCode: function redeemedCouponCode(val) {\n      this.couponCode = val;\n    }\n  },\n  computed: _objectSpread({\n    disabled: function disabled() {\n      if (this.redeemedCouponCode) {\n        return true;\n      }\n      return false;\n    }\n  }, (0,vuex_esm/* mapState */.rn)({\n    redeemedCouponCode: function redeemedCouponCode(state) {\n      return state.basket.data.couponCode;\n    },\n    isBasketLoading: function isBasketLoading(state) {\n      return state.basket.isBasketLoading;\n    },\n    isCheckoutReadonly: function isCheckoutReadonly(state) {\n      return state.checkout.readOnly;\n    }\n  })),\n  mounted: function mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      if (_this.redeemedCouponCode) {\n        _this.couponCode = _this.redeemedCouponCode;\n      }\n    });\n  },\n  methods: {\n    redeemCode: function redeemCode() {\n      var _this2 = this;\n      // remove whitespaces\n      this.couponCode = this.couponCode.replace(/\\s/g, "");\n      if (this.couponCode.length > 0) {\n        this.waiting = true;\n        this.$store.dispatch("redeemCouponCode", this.couponCode).then(function (response) {\n          _this2.waiting = false;\n          NotificationService.success(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRedeemSuccess")).closeAfter(10000);\n        }, function (error) {\n          _this2.waiting = false;\n          NotificationService.error(_this2.getCouponRedemptionErrorMessage(error)).closeAfter(10000);\n        });\n      } else {\n        NotificationService.error(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponIsEmpty")).closeAfter(10000);\n      }\n    },\n    removeCode: function removeCode() {\n      var _this3 = this;\n      this.waiting = true;\n      this.$store.dispatch("removeCouponCode", this.couponCode).then(function (response) {\n        _this3.waiting = false;\n        NotificationService.success(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRemoveSuccess")).closeAfter(10000);\n      }, function (error) {\n        _this3.waiting = false;\n        NotificationService.error(TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRemoveFailure")).closeAfter(10000);\n      });\n    },\n    getCouponRedemptionErrorMessage: function getCouponRedemptionErrorMessage(error) {\n      var errorCode = error && error.warn && error.warn.code || 0;\n      if (errorCode > 0 && ExceptionMap/* default.has */.Z.has(errorCode.toString())) {\n        return TranslationService/* default.translate */.Z.translate("Ceres::Template." + ExceptionMap/* default.get */.Z.get(errorCode.toString()));\n      }\n      return TranslationService/* default.translate */.Z.translate("Ceres::Template.couponRedeemFailure");\n    }\n  }\n});\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue?vue&type=script&lang=js&\n /* harmony default export */ var basket_Couponvue_type_script_lang_js_ = (Couponvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(51900);\n;// CONCATENATED MODULE: ./resources/js/src/app/components/basket/Coupon.vue\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,componentNormalizer/* default */.Z)(\n  basket_Couponvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Coupon = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEU7O0FDNUtrTixDQUFDLDBFQUFlLDhCQUFHLEVBQUMsQzs7OztBQ0FsSjtBQUMzQjtBQUNMOzs7QUFHckQ7QUFDQSxDQUFzRztBQUN0RyxnQkFBZ0Isc0NBQVU7QUFDMUIsRUFBRSxxQ0FBTTtBQUNSLEVBQUUsTUFBTTtBQUNSLEVBQUUsZUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvYmFza2V0L0NvdXBvbi52dWU/OTY3OSIsIndlYnBhY2s6Ly9DZXJlcy8uL3Jlc291cmNlcy9qcy9zcmMvYXBwL2NvbXBvbmVudHMvYmFza2V0L0NvdXBvbi52dWU/OTkwNyIsIndlYnBhY2s6Ly9DZXJlcy9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2Jhc2tldC9Db3Vwb24udnVlPzkwMzkiLCJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2Jhc2tldC9Db3Vwb24udnVlPzRkMTQiLCJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2Jhc2tldC9Db3Vwb24udnVlP2M1ZjAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiY21wXCIgfSwgW1xuICAgIF92bS5pc0NoZWNrb3V0UmVhZG9ubHkgJiZcbiAgICAhIV92bS4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlYWRvbmx5SW5mb1RleHRcIilcbiAgICAgID8gX2MoXCJwXCIsIFtcbiAgICAgICAgICBfdm0uX3YoXCJcXG4gICAgICAgIFwiICsgX3ZtLl9zKF92bS5jb3Vwb25SZWFkb25seUluZm9UZXh0KSArIFwiXFxuICAgIFwiKSxcbiAgICAgICAgXSlcbiAgICAgIDogX3ZtLl9lKCksXG4gICAgX3ZtLl92KFwiIFwiKSxcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzOiB7XG4gICAgICAgICAgXCJpbnB1dC1ncm91cFwiOiB0cnVlLFxuICAgICAgICAgIFwiY29tcG9uZW50LWxvYWRpbmdcIjogX3ZtLmlzQ2hlY2tvdXRSZWFkb25seSxcbiAgICAgICAgICBcImlzLWxvYWRpbmdcIjogX3ZtLmlzQ2hlY2tvdXRSZWFkb25seSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBbXG4gICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgIGRpcmVjdGl2ZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICByYXdOYW1lOiBcInYtbW9kZWxcIixcbiAgICAgICAgICAgICAgdmFsdWU6IF92bS5jb3Vwb25Db2RlLFxuICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImNvdXBvbkNvZGVcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJmb3JtLWNvbnRyb2xcIixcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogX3ZtLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uRW50ZXJDb3Vwb25cIiksXG4gICAgICAgICAgICBkaXNhYmxlZDogX3ZtLmRpc2FibGVkIHx8IF92bS5pc0NoZWNrb3V0UmVhZG9ubHksXG4gICAgICAgICAgICBcImRhdGEtdGVzdGluZ1wiOiBcImNvdXBvbi1pbnB1dFwiLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgZG9tUHJvcHM6IHsgdmFsdWU6IF92bS5jb3Vwb25Db2RlIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhJGV2ZW50LnR5cGUuaW5kZXhPZihcImtleVwiKSAmJlxuICAgICAgICAgICAgICAgIF92bS5faygkZXZlbnQua2V5Q29kZSwgXCJlbnRlclwiLCAxMywgJGV2ZW50LmtleSwgXCJFbnRlclwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgcmV0dXJuIF92bS5yZWRlZW1Db2RlKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHJldHVyblxuICAgICAgICAgICAgICBfdm0uY291cG9uQ29kZSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgIF9jKFwic3BhblwiLCB7IHN0YXRpY0NsYXNzOiBcImlucHV0LWdyb3VwLWJ0blwiIH0sIFtcbiAgICAgICAgICAhX3ZtLmRpc2FibGVkXG4gICAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuIGJ0bi1tZWRpdW0gYnRuLXByaW1hcnkgYnRuLWFwcGVhcmFuY2VcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ud2FpdGluZyB8fCBfdm0uaXNDaGVja291dFJlYWRvbmx5LFxuICAgICAgICAgICAgICAgICAgICBcImRhdGEtdGVzdGluZ1wiOiBcImNvdXBvbi1yZWRlZW1cIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVkZWVtQ29kZSgpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJpY29uXCIsIHsgYXR0cnM6IHsgaWNvbjogXCJnaWZ0XCIsIGxvYWRpbmc6IF92bS53YWl0aW5nIH0gfSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVkZWVtXCIpKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBfYyhcbiAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4tbWVkaXVtIGJ0bi1kYW5nZXJcIixcbiAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiBfdm0ud2FpdGluZyB8fCBfdm0uaXNDaGVja291dFJlYWRvbmx5LFxuICAgICAgICAgICAgICAgICAgICBcImRhdGEtdGVzdGluZ1wiOiBcImNvdXBvbi1yZW1vdmVcIixcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0ucmVtb3ZlQ29kZSgpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJpY29uXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgaWNvbjogXCJ0cmFzaFwiLCBsb2FkaW5nOiBfdm0ud2FpdGluZyB9LFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3MoX3ZtLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVtb3ZlXCIpKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgXSksXG4gICAgICBdXG4gICAgKSxcbiAgXSlcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxucmVuZGVyLl93aXRoU3RyaXBwZWQgPSB0cnVlXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0yLnVzZSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/cnVsZVNldFsxXS5ydWxlc1syXSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0NvdXBvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDkxNmMxNzYmXCIiLCI8dGVtcGxhdGU+XG4gICAgPGRpdiBjbGFzcz1cImNtcFwiPlxuICAgICAgICA8cCB2LWlmPVwiaXNDaGVja291dFJlYWRvbmx5ICYmICEhJHRyYW5zbGF0ZSgnQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlYWRvbmx5SW5mb1RleHQnKVwiPlxuICAgICAgICAgICAge3sgY291cG9uUmVhZG9ubHlJbmZvVGV4dCB9fVxuICAgICAgICA8L3A+XG4gICAgICAgIDxkaXYgOmNsYXNzPVwieydpbnB1dC1ncm91cCc6dHJ1ZSwgJ2NvbXBvbmVudC1sb2FkaW5nJzppc0NoZWNrb3V0UmVhZG9ubHksICdpcy1sb2FkaW5nJzppc0NoZWNrb3V0UmVhZG9ubHl9XCI+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIlxuICAgICAgICAgICAgICAgIHYtbW9kZWw9XCJjb3Vwb25Db2RlXCJcbiAgICAgICAgICAgICAgICA6cGxhY2Vob2xkZXI9XCIkdHJhbnNsYXRlKCdDZXJlczo6VGVtcGxhdGUuY291cG9uRW50ZXJDb3Vwb24nKVwiXG4gICAgICAgICAgICAgICAgQGtleXVwLmVudGVyPVwicmVkZWVtQ29kZSgpXCJcbiAgICAgICAgICAgICAgICA6ZGlzYWJsZWQ9XCJkaXNhYmxlZCB8fCBpc0NoZWNrb3V0UmVhZG9ubHlcIlxuICAgICAgICAgICAgICAgIGRhdGEtdGVzdGluZz1cImNvdXBvbi1pbnB1dFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLW1lZGl1bSBidG4tcHJpbWFyeSBidG4tYXBwZWFyYW5jZVwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJyZWRlZW1Db2RlKClcIlxuICAgICAgICAgICAgICAgICAgICA6ZGlzYWJsZWQ9XCJ3YWl0aW5nIHx8IGlzQ2hlY2tvdXRSZWFkb25seVwiIHYtaWY9XCIhZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3Rpbmc9XCJjb3Vwb24tcmVkZWVtXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxpY29uIGljb249XCJnaWZ0XCIgOmxvYWRpbmc9XCJ3YWl0aW5nXCI+PC9pY29uPlxuICAgICAgICAgICAgICAgICAgICB7eyAkdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlZGVlbVwiKSB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLW1lZGl1bSBidG4tZGFuZ2VyXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgIEBjbGljaz1cInJlbW92ZUNvZGUoKVwiXG4gICAgICAgICAgICAgICAgICAgIDpkaXNhYmxlZD1cIndhaXRpbmcgfHwgaXNDaGVja291dFJlYWRvbmx5XCJcbiAgICAgICAgICAgICAgICAgICAgdi1lbHNlXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdGVzdGluZz1cImNvdXBvbi1yZW1vdmVcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGljb24gaWNvbj1cInRyYXNoXCIgOmxvYWRpbmc9XCJ3YWl0aW5nXCI+PC9pY29uPlxuICAgICAgICAgICAgICAgICAgICB7eyAkdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlbW92ZVwiKSB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5cbmNvbnN0IE5vdGlmaWNhdGlvblNlcnZpY2UgPSByZXF1aXJlKFwiLi4vLi4vc2VydmljZXMvTm90aWZpY2F0aW9uU2VydmljZVwiKTtcblxuaW1wb3J0IEV4Y2VwdGlvbk1hcCBmcm9tIFwiLi4vLi4vZXhjZXB0aW9ucy9FeGNlcHRpb25NYXBcIjtcbmltcG9ydCBUcmFuc2xhdGlvblNlcnZpY2UgZnJvbSBcIi4uLy4uL3NlcnZpY2VzL1RyYW5zbGF0aW9uU2VydmljZVwiO1xuaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tIFwidnVleFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogXCJjb3Vwb25cIixcblxuICAgIHByb3BzOiB7XG4gICAgICAgIHRlbXBsYXRlOlxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiBcIiN2dWUtY291cG9uXCJcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkYXRhKClcbiAgICB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3YWl0aW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGNvdXBvbkNvZGU6IFwiXCJcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgd2F0Y2g6XG4gICAge1xuICAgICAgICByZWRlZW1lZENvdXBvbkNvZGUodmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvdXBvbkNvZGUgPSB2YWw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcHV0ZWQ6XG4gICAge1xuICAgICAgICBkaXNhYmxlZCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZGVlbWVkQ291cG9uQ29kZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC4uLm1hcFN0YXRlKHtcbiAgICAgICAgICAgIHJlZGVlbWVkQ291cG9uQ29kZTogc3RhdGUgPT4gc3RhdGUuYmFza2V0LmRhdGEuY291cG9uQ29kZSxcbiAgICAgICAgICAgIGlzQmFza2V0TG9hZGluZzogc3RhdGUgPT4gc3RhdGUuYmFza2V0LmlzQmFza2V0TG9hZGluZyxcbiAgICAgICAgICAgIGlzQ2hlY2tvdXRSZWFkb25seTogc3RhdGUgPT4gc3RhdGUuY2hlY2tvdXQucmVhZE9ubHlcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgbW91bnRlZCgpXG4gICAge1xuICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZWRlZW1lZENvdXBvbkNvZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3Vwb25Db2RlID0gdGhpcy5yZWRlZW1lZENvdXBvbkNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBtZXRob2RzOlxuICAgIHtcbiAgICAgICAgcmVkZWVtQ29kZSgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHJlbW92ZSB3aGl0ZXNwYWNlc1xuICAgICAgICAgICAgdGhpcy5jb3Vwb25Db2RlID0gdGhpcy5jb3Vwb25Db2RlLnJlcGxhY2UoL1xccy9nLCBcIlwiKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuY291cG9uQ29kZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMud2FpdGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaChcInJlZGVlbUNvdXBvbkNvZGVcIiwgdGhpcy5jb3Vwb25Db2RlKS50aGVuKFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2Uuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLmNvdXBvblJlZGVlbVN1Y2Nlc3NcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICkuY2xvc2VBZnRlcigxMDAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5lcnJvcih0aGlzLmdldENvdXBvblJlZGVtcHRpb25FcnJvck1lc3NhZ2UoZXJyb3IpKS5jbG9zZUFmdGVyKDEwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25Jc0VtcHR5XCIpXG4gICAgICAgICAgICAgICAgKS5jbG9zZUFmdGVyKDEwMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVDb2RlKClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53YWl0aW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goXCJyZW1vdmVDb3Vwb25Db2RlXCIsIHRoaXMuY291cG9uQ29kZSkudGhlbihcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblNlcnZpY2Uuc3VjY2VzcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuY291cG9uUmVtb3ZlU3VjY2Vzc1wiKVxuICAgICAgICAgICAgICAgICAgICApLmNsb3NlQWZ0ZXIoMTAwMDApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25SZW1vdmVGYWlsdXJlXCIpXG4gICAgICAgICAgICAgICAgICAgICkuY2xvc2VBZnRlcigxMDAwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0Q291cG9uUmVkZW1wdGlvbkVycm9yTWVzc2FnZShlcnJvcilcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IgJiYgZXJyb3Iud2FybiAmJiBlcnJvci53YXJuLmNvZGUgfHwgMDtcbiAgICAgICAgICAgIGlmIChlcnJvckNvZGUgPiAwICYmIEV4Y2VwdGlvbk1hcC5oYXMoZXJyb3JDb2RlLnRvU3RyaW5nKCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBUcmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLlwiICsgRXhjZXB0aW9uTWFwLmdldChlcnJvckNvZGUudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gVHJhbnNsYXRpb25TZXJ2aWNlLnRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5jb3Vwb25SZWRlZW1GYWlsdXJlXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuPC9zY3JpcHQ+XG4iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTIudXNlIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vQ291cG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0yLnVzZSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0NvdXBvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL0NvdXBvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDkxNmMxNzYmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQ291cG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vQ291cG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImlzQ2hlY2tvdXRSZWFkb25seSIsIiR0cmFuc2xhdGUiLCJfdiIsIl9zIiwiY291cG9uUmVhZG9ubHlJbmZvVGV4dCIsIl9lIiwiY2xhc3MiLCJkaXJlY3RpdmVzIiwibmFtZSIsInJhd05hbWUiLCJ2YWx1ZSIsImNvdXBvbkNvZGUiLCJleHByZXNzaW9uIiwiYXR0cnMiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJkaXNhYmxlZCIsImRvbVByb3BzIiwib24iLCJrZXl1cCIsIiRldmVudCIsImluZGV4T2YiLCJfayIsImtleUNvZGUiLCJrZXkiLCJyZWRlZW1Db2RlIiwiaW5wdXQiLCJ0YXJnZXQiLCJjb21wb3NpbmciLCJ3YWl0aW5nIiwiY2xpY2siLCJpY29uIiwibG9hZGluZyIsInJlbW92ZUNvZGUiLCJzdGF0aWNSZW5kZXJGbnMiLCJfd2l0aFN0cmlwcGVkIiwicHJvcHMiLCJ0ZW1wbGF0ZSIsImRlZmF1bHQiLCJkYXRhIiwid2F0Y2giLCJyZWRlZW1lZENvdXBvbkNvZGUiLCJjb21wdXRlZCIsIm1hcFN0YXRlIiwiaXNCYXNrZXRMb2FkaW5nIiwibW91bnRlZCIsIm1ldGhvZHMiLCJOb3RpZmljYXRpb25TZXJ2aWNlIiwiVHJhbnNsYXRpb25TZXJ2aWNlIiwiZ2V0Q291cG9uUmVkZW1wdGlvbkVycm9yTWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///78346\n')}}]);