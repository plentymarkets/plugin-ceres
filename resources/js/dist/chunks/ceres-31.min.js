(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{380:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:{row:!t.short}},[t.short?t._e():e("div",{staticClass:"col-4"},[t._v(t._s(t.$translate("biokinderDesign::Template.itemAvailability")))]),t._v(" "),e("div",{class:{"col-8":!t.short,liveShippingInfo:t.short},domProps:{innerHTML:t._s(t.avDisplayHoliday)}})])};a._withStripped=!0;e(25),e(11),e(35);const s=["BW","BY","BE","BB","HB","HE","HH","MV","NI","NW","RP","SL","SN","ST","SH","TH","BUND","AUGSBURG","ALL"];let n="de";const r={de:{NEUJAHRSTAG:"Neujahrstag",HEILIGEDREIKOENIGE:"Heilige Drei Könige",KARFREITAG:"Karfreitag",OSTERSONNTAG:"Ostersonntag",OSTERMONTAG:"Ostermontag",TAG_DER_ARBEIT:"Tag der Arbeit",CHRISTIHIMMELFAHRT:"Christi Himmelfahrt",PFINGSTSONNTAG:"Pfingstsonntag",PFINGSTMONTAG:"Pfingstmontag",FRONLEICHNAM:"Fronleichnam",MARIAHIMMELFAHRT:"Mariä Himmelfahrt",DEUTSCHEEINHEIT:"Tag der Deutschen Einheit",REFORMATIONSTAG:"Reformationstag",ALLERHEILIGEN:"Allerheiligen",BUBETAG:"Buß- und Bettag",ERSTERWEIHNACHTSFEIERTAG:"1. Weihnachtstag",ZWEITERWEIHNACHTSFEIERTAG:"2. Weihnachtstag",WELTKINDERTAG:"Weltkindertag",WELTFRAUENTAG:"Weltfrauentag",AUGSBURGER_FRIEDENSFEST:"Augsburger Friedensfest"}};function o(t,i){l(i);const e=t.getFullYear(),a=D(t);return-1!==function(t,i){return h(t,i).map(t=>D(t.date))}(e,i).indexOf(a)}function l(t){if(null==t)throw new Error("Region must not be undefined or null");if(-1===s.indexOf(t))throw new Error(`Invalid region: ${t}! Must be one of ${s.toString()}`)}function h(t,i){const e=function(t){const i=Math.floor(t/100),e=t-19*Math.floor(t/19),a=Math.floor((i-17)/25);let s=i-Math.floor(i/4)-Math.floor((i-a)/3)+19*e+15;s-=30*Math.floor(s/30),s-=Math.floor(s/28)*(1-Math.floor(s/28)*Math.floor(29/(s+1))*Math.floor((21-e)/11));let n=t+Math.floor(t/4)+s+2-i+Math.floor(i/4);n-=7*Math.floor(n/7);const r=s-n,o=3+Math.floor((r+40)/44),l=r+28-31*Math.floor(o/4);return new Date(t,o-1,l)}(t),a=T(new Date(e.getTime()),-2),s=T(new Date(e.getTime()),1),n=T(new Date(e.getTime()),39),r=T(new Date(e.getTime()),49),o=T(new Date(e.getTime()),50),l=[...u(t),c("KARFREITAG",a,["ALL"]),c("OSTERMONTAG",s,["ALL"]),c("CHRISTIHIMMELFAHRT",n,["ALL"]),c("PFINGSTMONTAG",o,["ALL"])];return function(t,i,e){const a=["BW","BY","AUGSBURG","ST"];(a.includes(i)||"ALL"===i)&&e.push(c("HEILIGEDREIKOENIGE",d(t,1,6),a))}(t,i,l),function(t,i,e,a,s){const n=["BB"];(n.includes(i)||"ALL"===i)&&s.push(c("OSTERSONNTAG",e,n),c("PFINGSTSONNTAG",a,n))}(0,i,e,r,l),function(t,i,e){const a=["BW","BY","AUGSBURG","HE","NW","RP","SL"];if(a.includes(t)||"ALL"===t){const t=T(new Date(i.getTime()),60);e.push(c("FRONLEICHNAM",t,a))}}(i,e,l),function(t,i,e){const a=["SL","BY","AUGSBURG"];(a.includes(i)||"ALL"===i)&&e.push(c("MARIAHIMMELFAHRT",d(t,8,15),a))}(t,i,l),function(t,i,e){const a=["NI","BB","MV","SN","ST","TH","HB","HH","NI","SH"];(2017===t||a.includes(i)||"ALL"===i)&&e.push(c("REFORMATIONSTAG",d(t,10,31),a))}(t,i,l),function(t,i,e){const a=["BW","BY","NW","RP","SL","AUGSBURG"];(a.includes(i)||"ALL"===i)&&e.push(c("ALLERHEILIGEN",d(t,11,1),a))}(t,i,l),function(t,i,e){const a=["SN"];if("SN"===i||"ALL"===i){const i=function(t){const i=new Date(t,11,25,12,0,0);let e=i.getDay()%7;0===e&&(e=7);const a=e+32;let s=new Date(i.getTime());return s=T(s,-a),s}(t);e.push(c("BUBETAG",d(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()),a))}}(t,i,l),function(t,i,e){t>=2019&&("TH"===i||"ALL"===i)&&e.push(c("WELTKINDERTAG",d(t,9,20),["ALL"]))}(t,i,l),function(t,i,e){if(t<=2018)return;"BE"!==i&&"ALL"!==i||e.push(c("WELTFRAUENTAG",d(t,3,8),["ALL"]));"MV"===i&&t>=2023&&e.push(c("WELTFRAUENTAG",d(t,3,8),["ALL"]))}(t,i,l),function(t,i,e){"AUGSBURG"===i&&e.push(c("AUGSBURGER_FRIEDENSFEST",d(t,8,8),["ALL"]))}(t,i,l),l.sort((t,i)=>t.date.getTime()-i.date.getTime())}function u(t){return[c("NEUJAHRSTAG",d(t,1,1),["ALL"]),c("TAG_DER_ARBEIT",d(t,5,1),["ALL"]),c("DEUTSCHEEINHEIT",d(t,10,3),["ALL"]),c("ERSTERWEIHNACHTSFEIERTAG",d(t,12,25),["ALL"]),c("ZWEITERWEIHNACHTSFEIERTAG",d(t,12,26),["ALL"])]}function T(t,i){const e=new Date(t);return e.setDate(t.getDate()+i),e}function d(t,i,e){return new Date(t,i-1,e)}function c(t,i,e){return 1===e.length&&"ALL"===e[0]&&(e=s),{name:t,date:i,dateString:E(i),regions:e,trans(t=n){throw new Error("Method deprecated. Please replace trans() with translate(). This method will be removed in the next major release.")},translate(t=n){return null==t?void 0:r[t][this.name]},getNormalizedDate(){return D(this.date)},equals(t){const i=E(t);return this.dateString===i}}}function E(t){const i=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3);return i.setUTCHours(0,0,0,0),i.toISOString().slice(0,10)}function D(t){const i=new Date(t);return i.setHours(0,0,0,0),i.getTime()}var f={name:"biokinder-availability",data:function(){return{txt1to3Days:this.$translate("biokinderDesign::Template.availabilityDisplayTxt1to3Days"),txt3to5Days:this.$translate("biokinderDesign::Template.availabilityDisplayTxt3to5Days"),txt5to8Days:this.$translate("biokinderDesign::Template.availabilityDisplayTxt5to8Days"),txt1to2Weeks:this.$translate("biokinderDesign::Template.availabilityDisplayTxt1to2Weeks"),txt2to4Weeks:this.$translate("biokinderDesign::Template.availabilityDisplayTxt2to4Weeks"),txt4to6Weeks:this.$translate("biokinderDesign::Template.availabilityDisplayTxt4to6Weeks"),txt6to8Weeks:this.$translate("biokinderDesign::Template.availabilityDisplayTxt6to8Weeks"),txt8to10Weeks:this.$translate("biokinderDesign::Template.availabilityDisplayTxt8to10Weeks"),txtDefaultDelivery:this.$translate("biokinderDesign::Template.availabilityDisplayTxtDefaultDelivery"),txtShipsToday:this.$translate("biokinderDesign::Template.availabilityDisplayTxtShipsToday"),txtChristmasHint:"<span class='christmas'><i class='fa fa-gift' aria-hidden='true'></i> Pünktlich zu Weihnachten!</span>",txtEasterHint:"<span class='easter'><i class='fa fa-gift' aria-hidden='true'></i> Pünktlich zu Ostern!</span>",txtShipsTomorrow:this.$translate("biokinderDesign::Template.availabilityDisplayTxtShipsTomorrow"),txtShipsMondays:this.$translate("biokinderDesign::Template.availabilityDisplayTxtShipsMondays"),txtFrightShipsTomorow:this.$translate("biokinderDesign::Template.availabilityDisplayTxtFrightShipsTomorow"),txtFrightNextFriday:this.$translate("biokinderDesign::Template.availabilityDisplayTxtFrightNextFriday"),isLoading:!0,requestLoading:!1}},props:{variation:{type:Object},avd:{type:Object},short:{type:Boolean,default:!1}},methods:{requestAvailabilityData:function(){var t=this;if(this.isLoading=!0,this.$store.erid.some((function(i){if(i&&i.id==t.variation.id)return!0})))this.isLoading=!1;else{if(1==this.variation.availabilityId){var i={id:e,d:0};return this.$store.erid.push(i),void(this.isLoading=!1)}var e=this.variation.id;1==this.variation.availabilityId||this.requestLoading||(this.requestLoading=!0,$.ajax({method:"GET",context:this,url:"availabilities/"+e+"/",success:function(t){var i={id:e,d:t};this.$store.erid.push(i),this.requestLoading=!1,this.isLoading=!1}}))}}},computed:{availabilityDisplay:function(){var t=this;if(this.isLoading)return"...";if(this.variation.availability.id>1){var i=this.$store.erid.find((function(i){if(i&&i.id==t.variation.id)return i})).d;if(999==i||null==i||0==i||5!=this.variation.availability.id)return this.variation.availability.names.name;switch(!0){case i<3:return this.txt1to3Days;case i<6:return this.txt3to5Days;case i<11:return this.txt5to8Days;case i<14:return this.txt1to2Weeks;case i<28:return this.txt2to4Weeks;case i<42:return this.txt4to6Weeks;case i<56:case i<70:return this.txt6to8Weeks;default:return this.txtDefaultDelivery}}var e=new Date(1e3*this.avd.time.now),a=new Date(1e3*this.avd.time.now+864e5),s=new Date(1e3*this.avd.time.now).getDay();if(this.avd.isSped){if(5==s&&!o(e,"HE")&&e.getHours()<10)return this.txtShipsToday;var n=new Date(1e3*this.avd.time.now),r=0;if(5==e.getDay())r=7;return n.setDate(e.getDate()+(12-e.getDay())%7+r),o(n,"HE")?this.variation.availability.names.name:4==s?this.txtFrightShipsTomorow:this.txtFrightNextFriday}var l=8-s%7,h=1e3*this.avd.time.now+864e5*l,u=o(new Date(h),"HE");return this.avd.time.now<this.avd.time.until&&s>0&&s<=5&&!o(e,"HE")?this.txtShipsToday:this.avd.time.now>this.avd.time.until&&s>0&&s<=4&&!o(a,"HE")?this.txtShipsTomorrow:[5,6,0].includes(s)&&!u?this.txtShipsMondays:(console.info("BKAvailability","default"),this.variation.availability.names.name)},avDisplayHoliday:function(){if(this.txtShipsToday!=this.availabilityDisplay&&this.txtShipsTomorrow!=this.availabilityDisplay&&this.txtShipsMondays!=this.availabilityDisplay)return this.availabilityDisplay;var t=new Date(1e3*this.avd.time.now),i=Math.floor((t-new Date(t.getFullYear(),0,0))/864e5);return 2024==t.getFullYear()&&i<87?"<span>"+this.availabilityDisplay+"</span>"+this.txtEasterHint:this.availabilityDisplay}},mounted:function(){var t=this;this.$nextTick((function(){void 0===t.$store.erid&&(t.$store.erid=[]),t.requestAvailabilityData()}))},watch:{variation:function(){this.requestAvailabilityData()}}},p=e(3),A=Object(p.a)(f,a,[],!1,null,null,null);A.options.__file="resources/js/src/app/components/item/BKAvailability.vue";i.default=A.exports}}]);
//# sourceMappingURL=ceres-31.min.js.map