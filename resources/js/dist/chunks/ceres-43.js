"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkCeres"] = self["webpackChunkCeres"] || []).push([[43],{

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&":
/*!********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js& ***!
  \********************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helper_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../helper/dom */ \"./resources/js/src/app/helper/dom.js\");\n/* harmony import */ var _helper_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../helper/utils */ \"./resources/js/src/app/helper/utils.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\n\nvar NotificationService = __webpack_require__(/*! ../../services/NotificationService */ \"./resources/js/src/app/services/NotificationService.js\");\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: \"variation-select\",\n  props: {\n    forceContent: {\n      type: Boolean,\n      default: false\n    }\n  },\n  inject: {\n    itemId: {\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      filteredVariationsCache: {},\n      lastContentCount: 0\n    };\n  },\n  mounted: function mounted() {\n    // initially check for valid selection and disable add to basket button\n    this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/setIsVariationSelected\"), !!this.currentSelection);\n  },\n  computed: {\n    currentVariation: function currentVariation() {\n      return this.$store.getters[\"\".concat(this.itemId, \"/currentItemVariation\")];\n    },\n    currentVariationSelect: function currentVariationSelect() {\n      return this.$store.state.items[this.itemId] && this.$store.state.items[this.itemId].variationSelect;\n    },\n    /**\n     * returns true if any variation has no attributes\n     */\n    hasEmptyOption: function hasEmptyOption() {\n      return this.variations.some(function (variation) {\n        return !variation.attributes.length;\n      });\n    },\n    addPleaseSelectOption: function addPleaseSelectOption() {\n      return App.config.item.showPleaseSelect;\n    },\n    /**\n     * returns the variation, based on the selected attributes / unit\n     * returns false if there are none or multiple results\n     */\n    currentSelection: function currentSelection() {\n      var filteredVariations = this.filterVariations(null, null, true);\n      if (filteredVariations.length === 1) {\n        return filteredVariations[0];\n      }\n      return false;\n    },\n    /**\n     * returns all units, selectable by current selection\n     * prop 'forceContent' with value true will return all units, without filtering\n     */\n    possibleUnits: function possibleUnits() {\n      // use an object, to make the entries unique\n      var possibleUnits = {};\n      var variations = this.forceContent ? this.variations : this.filterVariations(null, null, null, true);\n      var _iterator = _createForOfIteratorHelper(variations),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var variation = _step.value;\n          possibleUnits[variation.unitCombinationId] = variation.unitName;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return possibleUnits;\n    },\n    possibleUnitCombinationIds: function possibleUnitCombinationIds() {\n      return this.transformPossibleUnits(this.possibleUnits).map(function (value) {\n        return value[0];\n      });\n    },\n    isContentVisible: function isContentVisible() {\n      return !this.forceContent && !!this.currentSelection || this.forceContent;\n    },\n    hasSelection: function hasSelection() {\n      return !(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNullOrUndefined)(this.selectedAttributes) && !Object.values(this.selectedAttributes).some(function (value) {\n        return value < 0;\n      });\n    },\n    attributes: function attributes() {\n      return this.currentVariationSelect && this.currentVariationSelect.attributes;\n    },\n    selectedAttributes: function selectedAttributes() {\n      return this.currentVariationSelect && this.currentVariationSelect.selectedAttributes;\n    },\n    selectedUnit: function selectedUnit() {\n      return this.currentVariationSelect && this.currentVariationSelect.selectedUnit;\n    },\n    variations: function variations() {\n      return this.currentVariationSelect && this.currentVariationSelect.variations;\n    }\n  },\n  methods: {\n    /**\n     * select an attribute and check, if the selection is valid; if not, unsetInvalidSelection will be executed\n     * @param {number} attributeId\n     * @param {[number, string, null]} attributeValueId\n     */\n    selectAttribute: function selectAttribute(attributeId, attributeValueId) {\n      attributeValueId = parseInt(attributeValueId) || null;\n      if (this.selectedAttributes[attributeId] !== attributeValueId) {\n        this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/selectItemAttribute\"), {\n          attributeId: attributeId,\n          attributeValueId: attributeValueId\n        });\n        this.onSelectionChange(attributeId, attributeValueId, null);\n      }\n    },\n    /**\n     * select a unit and check, if the selection is valid; if not, unsetInvalidSelection will be executed\n     * @param {[number, string]} unitId\n     */\n    selectUnit: function selectUnit(unitId) {\n      unitId = parseInt(unitId);\n      this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/selectItemUnit\"), unitId);\n      this.onSelectionChange(null, null, unitId);\n    },\n    onSelectionChange: function onSelectionChange(attributeId, attributeValueId, unitId) {\n      if (this.currentSelection) {\n        this.setVariation(this.currentSelection.variationId);\n      } else if (!this.hasSelection) {\n        // user switched back to \"please select\"\n        this.setVariation(0);\n      } else {\n        this.unsetInvalidSelection(attributeId, attributeValueId, unitId);\n      }\n      this.lastContentCount = this.possibleUnitCombinationIds.length;\n    },\n    /**\n     * changes the selected attributes / unit, to ensure a valid seelction\n     * @param {[number, null]} attributeId\n     * @param {[number, null]} attributeValueId\n     * @param {[number, null]} unitId\n     */\n    unsetInvalidSelection: function unsetInvalidSelection(attributeId, attributeValueId, unitId) {\n      var qualifiedVariations = this.getQualifiedVariations(attributeId, attributeValueId, unitId);\n      var closestVariations = this.getClosestVariations(qualifiedVariations);\n\n      // if the salable 'closestVariations' is undefined, take the not-salable one\n      var closestVariation = closestVariations[0] || closestVariations[1];\n      if (!closestVariation) {\n        return;\n      }\n      var invalidSelection = this.getInvalidSelectionByVariation(closestVariation);\n      this.correctSelection(invalidSelection);\n    },\n    getTooltip: function getTooltip(attribute, attributeValue) {\n      if (!this.isAttributeSelectionValid(attribute.attributeId, attributeValue.attributeValueId, true)) {\n        return this.getInvalidOptionTooltip(attribute.attributeId, attributeValue.attributeValueId);\n      } else if (attribute.type === \"image\") {\n        return this.$translate(\"Ceres::Template.singleItemAttributeTooltip\", {\n          attribute: attribute.name,\n          value: attributeValue.name\n        });\n      }\n      return \"\";\n    },\n    /**\n     * returns a string for box tooltips, for not available options\n     * @param {number} attributeId\n     * @param {number} attributeValueId\n     */\n    getInvalidOptionTooltip: function getInvalidOptionTooltip(attributeId, attributeValueId) {\n      var qualifiedVariations = this.getQualifiedVariations(attributeId, attributeValueId);\n      var closestVariations = this.getClosestVariations(qualifiedVariations);\n      if (!closestVariations || closestVariations.length <= 0) {\n        return \"\";\n      }\n      var invalidSelections = [!!closestVariations[0] ? this.getInvalidSelectionByVariation(closestVariations[0]) : null, !!closestVariations[1] ? this.getInvalidSelectionByVariation(closestVariations[1]) : null];\n      if (!!invalidSelections[0] && !!invalidSelections[1] && invalidSelections[0].attributesToReset.length > invalidSelections[1].attributesToReset.length) {\n        // there is a non-salable variation with less changes\n        return this.$translate(\"Ceres::Template.singleItemNotSalable\");\n      }\n      var invalidSelection = invalidSelections[0] || invalidSelections[1];\n      var names = [];\n      var _iterator2 = _createForOfIteratorHelper(invalidSelection.attributesToReset),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var attribute = _step2.value;\n          if (attribute.attributeId !== attributeId) {\n            names.push(\"<b>\" + attribute.name + \"</b>\");\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      if (invalidSelection.newUnit) {\n        names.push(\"<b>\" + this.$translate(\"Ceres::Template.singleItemContent\") + \"</b>\");\n      }\n      if (!names.length) {\n        return null;\n      }\n      return this.$translate(\"Ceres::Template.singleItemNotAvailableInSelection\", {\n        name: names.join(\", \")\n      });\n    },\n    /**\n     * returns a list of variations, filtered by attribute or unit\n     * @param {[number, null]} attributeId\n     * @param {[number, null]} attributeValueId\n     * @param {[number, null]} unitId\n     */\n    getQualifiedVariations: function getQualifiedVariations(attributeId, attributeValueId, unitId) {\n      if ((0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(attributeValueId)) {\n        return this.variations.filter(function (variation) {\n          return (0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(variation.attributes.find(function (attribute) {\n            return attribute.attributeId === attributeId && attribute.attributeValueId === attributeValueId;\n          }));\n        });\n      } else if ((0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(unitId)) {\n        return this.variations.filter(function (variation) {\n          return variation.unitCombinationId === unitId;\n        });\n      }\n      return this.variations.filter(function (variation) {\n        return !variation.attributes.length;\n      });\n    },\n    /**\n     * return a salable and a non-salable variation with the minimum number of changes on attributes compared to the current selection.\n     * @param {array} qualifiedVariations\n     */\n    getClosestVariations: function getClosestVariations(qualifiedVariations) {\n      var closestSalableVariation, numberOfSalableChanges;\n      var closestNonSalableVariation, numberOfNonSalableChanges;\n      var _iterator3 = _createForOfIteratorHelper(qualifiedVariations),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var variation = _step3.value;\n          var changes = 0;\n          if (variation.unitCombinationId !== this.selectedUnit && !(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNull)(this.selectedUnit)) {\n            // when the unit dropdown isn't visible, it should have a lower weight for reset investigations\n            var unitWeight = this.possibleUnitCombinationIds.length > 1 && this.isContentVisible ? 0.9 : 0.1;\n            changes += unitWeight;\n          }\n          var _iterator4 = _createForOfIteratorHelper(variation.attributes),\n            _step4;\n          try {\n            for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n              var attribute = _step4.value;\n              if (this.selectedAttributes[attribute.attributeId] !== attribute.attributeValueId) {\n                changes++;\n              }\n            }\n          } catch (err) {\n            _iterator4.e(err);\n          } finally {\n            _iterator4.f();\n          }\n          if (variation.isSalable && (!numberOfSalableChanges || changes < numberOfSalableChanges)) {\n            closestSalableVariation = variation;\n            numberOfSalableChanges = changes;\n          } else if (!variation.isSalable && (!numberOfNonSalableChanges || changes < numberOfNonSalableChanges)) {\n            closestNonSalableVariation = variation;\n            numberOfNonSalableChanges = changes;\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      return [closestSalableVariation, closestNonSalableVariation];\n    },\n    /**\n     * returns object with array 'attributesToReset' and newUnit. The attributesToReset contains all attributes, which are not matching with the given variation\n     * @param {object} variation\n     */\n    getInvalidSelectionByVariation: function getInvalidSelectionByVariation(variation) {\n      var _this = this;\n      var attributesToReset = [];\n      var newUnit = null;\n      var _loop = function _loop(selectedAttributeId) {\n        selectedAttributeId = parseInt(selectedAttributeId);\n        var variationAttribute = variation.attributes.find(function (attribute) {\n          return attribute.attributeId === selectedAttributeId;\n        });\n        if (!(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNull)(_this.selectedAttributes[selectedAttributeId])) {\n          if (variationAttribute && variationAttribute.attributeValueId !== _this.selectedAttributes[selectedAttributeId] || !variationAttribute) {\n            var attributeToReset = _this.attributes.find(function (attr) {\n              return attr.attributeId === selectedAttributeId;\n            });\n            attributesToReset.push(attributeToReset);\n          }\n        }\n      };\n      for (var selectedAttributeId in this.selectedAttributes) {\n        _loop(selectedAttributeId);\n      }\n      if (variation.unitCombinationId !== this.selectedUnit) {\n        newUnit = variation.unitCombinationId;\n      }\n      return {\n        attributesToReset: attributesToReset,\n        newUnit: newUnit\n      };\n    },\n    /**\n     * resets all invalid attributes and change the unit, if required. Prints a message to the user if so.\n     * @param {object} invalidSelection\n     */\n    correctSelection: function correctSelection(invalidSelection) {\n      var messages = [];\n      var attributes = JSON.parse(JSON.stringify(this.selectedAttributes));\n      var _iterator5 = _createForOfIteratorHelper(invalidSelection.attributesToReset),\n        _step5;\n      try {\n        for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n          var attributeToReset = _step5.value;\n          messages.push(this.$translate(\"Ceres::Template.singleItemNotAvailable\", {\n            name: attributeToReset.name\n          }));\n          attributes[attributeToReset.attributeId] = !this.hasEmptyOption && App.config.item.showPleaseSelect ? -1 : null;\n        }\n      } catch (err) {\n        _iterator5.e(err);\n      } finally {\n        _iterator5.f();\n      }\n      if (invalidSelection.newUnit) {\n        if (this.lastContentCount > 1 && this.possibleUnitCombinationIds.length > 1 && !(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNull)(this.selectedUnit)) {\n          messages.push(this.$translate(\"Ceres::Template.singleItemNotAvailable\", {\n            name: this.$translate(\"Ceres::Template.singleItemContent\")\n          }));\n        }\n        this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/selectItemUnit\"), invalidSelection.newUnit);\n      }\n      this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/setItemSelectedAttributes\"), attributes);\n      this.setVariation(this.currentSelection ? this.currentSelection.variationId : 0);\n      NotificationService.warn(messages.join(\"<br>\")).closeAfter(5000);\n    },\n    /**\n     * returns matching variations with current selection\n     * attributes and unitId could be filled, to check a specific selection\n     * @param {object} attributes\n     * @param {number} unitId\n     * @param {boolean} strict\n     */\n    filterVariations: function filterVariations(attributes, unitId, strict, ignoreUnit) {\n      var _this2 = this;\n      attributes = attributes || this.selectedAttributes;\n      unitId = unitId || this.selectedUnit;\n      strict = !!strict;\n      ignoreUnit = !!ignoreUnit;\n      var key = JSON.stringify(attributes) + \"_\" + unitId + \"_\" + strict + \"_\" + ignoreUnit;\n      if ((0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(this.filteredVariationsCache[key])) {\n        return this.filteredVariationsCache[key];\n      }\n      var uniqueValues = _toConsumableArray(new Set(Object.values(attributes)));\n      var isEmptyOptionSelected = uniqueValues.length === 1 && (0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNull)(uniqueValues[0]);\n      var filteredVariations = this.variations.filter(function (variation) {\n        // the selected unit is not matching\n        if (!ignoreUnit && variation.unitCombinationId !== unitId) {\n          return false;\n        }\n\n        // the variation has no attributes (only checked, if any attribute has a selected value); or the variation has attributes and empty option is selected\n        // requires more than 0 attributes\n        if ((!isEmptyOptionSelected && !variation.attributes.length || isEmptyOptionSelected && variation.attributes.length) && _this2.attributes.length > 0) {\n          return false;\n        }\n        var _loop2 = function _loop2(attributeId) {\n          var variationAttribute = variation.attributes.find(function (variationAttribute) {\n            return variationAttribute.attributeId === parseInt(attributeId);\n          });\n\n          // an attribute is not matching with selection\n          if (variationAttribute && variationAttribute.attributeValueId !== attributes[attributeId] && (strict || !strict && !(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isNull)(attributes[attributeId]) && attributes[attributeId] !== -1)) {\n            return {\n              v: false\n            };\n          }\n        };\n        for (var attributeId in attributes) {\n          var _ret = _loop2(attributeId);\n          if (_typeof(_ret) === \"object\") return _ret.v;\n        }\n        return true;\n      });\n      this.filteredVariationsCache[key] = filteredVariations;\n      return filteredVariations;\n    },\n    /**\n     * returns true, if the selection with a new attribute value would be valid\n     * @param {number} attributeId\n     * @param {[number, string, null]} attributeValueId\n     * @param {boolean} filterSalableVariations\n     */\n    isAttributeSelectionValid: function isAttributeSelectionValid(attributeId, attributeValueId, filterSalableVariations) {\n      attributeValueId = parseInt(attributeValueId) || null;\n      if (this.selectedAttributes[attributeId] === attributeValueId) {\n        return true;\n      }\n      var selectedAttributes = JSON.parse(JSON.stringify(this.selectedAttributes));\n      selectedAttributes[attributeId] = parseInt(attributeValueId) || null;\n      var ignoreUnit = !(Object.keys(this.possibleUnits).length > 1 && this.isContentVisible);\n      var variations = this.filterVariations(selectedAttributes, null, null, ignoreUnit);\n      if (filterSalableVariations) {\n        variations = variations.filter(function (variation) {\n          return variation.isSalable;\n        });\n      }\n      return variations.length > 0;\n    },\n    /**\n     * returns true, if the selection with a new unitId would be valid\n     * @param {[number, string]} unitId\n     */\n    isUnitSelectionValid: function isUnitSelectionValid(unitId) {\n      unitId = parseInt(unitId);\n      if (this.selectedUnit === unitId) {\n        return true;\n      }\n      return this.filterVariations(null, unitId).filter(function (variation) {\n        return variation.isSalable;\n      }).length > 0;\n    },\n    /**\n     * dispatch vuex action 'loadVariation' to archive a variation\n     * dispatches a custom event named 'onVariationChanged'\n     * @param {[string, number, null]} variationId\n     */\n    setVariation: function setVariation(variationId) {\n      var _this3 = this;\n      if (!(0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(variationId) && this.currentSelection) {\n        variationId = this.currentSelection.variationId;\n      }\n      if ((0,_helper_utils__WEBPACK_IMPORTED_MODULE_1__.isDefined)(variationId)) {\n        this.$store.dispatch(\"\".concat(this.itemId, \"/loadVariation\"), variationId).then(function (variation) {\n          document.dispatchEvent(new CustomEvent(\"onVariationChanged\", {\n            detail: {\n              attributes: variation.attributes,\n              documents: variation.documents,\n              itemId: _this3.itemId\n            }\n          }));\n        });\n      }\n    },\n    isTextCut: function isTextCut(content) {\n      if (this.$refs.attributesContaner) {\n        return (0,_helper_dom__WEBPACK_IMPORTED_MODULE_0__.textWidth)(content, \"Custom-Font, Helvetica, Arial, sans-serif\") > this.$refs.attributesContaner[0].clientWidth;\n      }\n      return false;\n    },\n    getSelectedAttributeValueName: function getSelectedAttributeValueName(attribute) {\n      var selectedAttributeValueId = this.selectedAttributes[attribute.attributeId];\n      var selectedAttributeValue = attribute.values.find(function (attrValue) {\n        return attrValue.attributeValueId === selectedAttributeValueId;\n      });\n      if (selectedAttributeValue) {\n        return selectedAttributeValue.name;\n      } else if (App.config.item.showPleaseSelect && selectedAttributeValueId === -1) {\n        return this.$translate(\"Ceres::Template.singleItemPleaseSelect\");\n      }\n      return this.$translate(\"Ceres::Template.singleItemNoSelection\");\n    },\n    transformPossibleUnits: function transformPossibleUnits(possibleUnits) {\n      var _this4 = this;\n      return Object.entries(possibleUnits).sort(function (unitA, unitB) {\n        unitA = _this4.splitUnitName(unitA[1]);\n        unitB = _this4.splitUnitName(unitB[1]);\n        // order by unit\n        if (unitA[1] < unitB[1]) {\n          return -1;\n        }\n        if (unitA[1] > unitB[1]) {\n          return 1;\n        }\n        // order by content (count)\n        if (unitA[0] < unitB[0]) {\n          return -1;\n        }\n        if (unitA[0] > unitB[0]) {\n          return 1;\n        }\n        return 0;\n      });\n    },\n    splitUnitName: function splitUnitName(unitName) {\n      var unitNameSplit = unitName.split(\" \");\n      if (!isNaN(unitNameSplit[0])) {\n        unitNameSplit[0] = unitNameSplit[0].replace(App.currencyPattern.separator_thousands, \"\");\n        unitNameSplit[0] = parseInt(unitNameSplit[0]);\n      }\n      return unitNameSplit;\n    }\n  },\n  watch: {\n    currentSelection: function currentSelection(value) {\n      this.$store.commit(\"\".concat(this.itemId, \"/variationSelect/setIsVariationSelected\"), !!value);\n    },\n    variations: function variations() {\n      // FIX unset variation cache after subsequent variations are loaded\n      this.filteredVariationsCache = {};\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9pdGVtL1ZhcmlhdGlvblNlbGVjdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBK0Y2QztBQUM2QjtBQUUxRTtBQUVBLCtEQUFlO0VBRWZBO0VBRUFDO0lBQ0FDLGNBQ0E7TUFDQUM7TUFDQUM7SUFDQTtFQUNBO0VBRUFDO0lBQ0FDO01BQ0FGO0lBQ0E7RUFDQTtFQUVBRyxzQkFDQTtJQUNBO01BQ0FDO01BQ0FDO0lBQ0E7RUFDQTtFQUVBQyw0QkFDQTtJQUNBO0lBQ0E7RUFDQTtFQUVBQyxVQUNBO0lBQ0FDO01BQ0E7SUFDQTtJQUVBQztNQUNBO0lBQ0E7SUFFQTtBQUNBO0FBQ0E7SUFDQUMsMENBQ0E7TUFDQTtRQUFBO01BQUE7SUFDQTtJQUVBQyx3REFDQTtNQUNBO0lBQ0E7SUFFQTtBQUNBO0FBQ0E7QUFDQTtJQUNBQyw4Q0FDQTtNQUNBO01BRUEscUNBQ0E7UUFDQTtNQUNBO01BRUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0lBQ0FDLHdDQUNBO01BQ0E7TUFDQTtNQUNBO01BQUEsMkNBRUFDO1FBQUE7TUFBQTtRQUFBLG9EQUNBO1VBQUEsSUFEQUM7VUFFQUY7UUFDQTtNQUFBO1FBQUE7TUFBQTtRQUFBO01BQUE7TUFFQTtJQUNBO0lBRUFHLGtFQUNBO01BQ0E7UUFBQTtNQUFBO0lBQ0E7SUFFQUMsOENBQ0E7TUFDQTtJQUNBO0lBRUFDLHNDQUNBO01BQ0E7UUFBQTtNQUFBO0lBQ0E7SUFFQUM7TUFDQTtJQUNBO0lBRUFDO01BQ0E7SUFDQTtJQUVBQztNQUNBO0lBQ0E7SUFFQVA7TUFDQTtJQUNBO0VBQ0E7RUFFQVEsU0FDQTtJQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDQUMseUVBQ0E7TUFDQUM7TUFFQSwrREFDQTtRQUNBO1VBQUFDO1VBQUFEO1FBQUE7UUFDQTtNQUNBO0lBQ0E7SUFFQTtBQUNBO0FBQ0E7QUFDQTtJQUNBRSx3Q0FDQTtNQUNBQztNQUNBO01BQ0E7SUFDQTtJQUVBQyxxRkFDQTtNQUNBLDJCQUNBO1FBQ0E7TUFDQSxPQUNBLHdCQUNBO1FBQ0E7UUFDQTtNQUNBLE9BRUE7UUFDQTtNQUNBO01BRUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUNBQyw2RkFDQTtNQUNBO01BQ0E7O01BRUE7TUFDQTtNQUVBLHVCQUNBO1FBQ0E7TUFDQTtNQUVBO01BRUE7SUFDQTtJQUVBQywyREFDQTtNQUNBLG1HQUNBO1FBQ0E7TUFDQSxPQUNBLGdDQUNBO1FBQ0E7VUFDQUM7VUFDQUM7UUFDQTtNQUNBO01BRUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDQUMseUZBQ0E7TUFDQTtNQUNBO01BRUEseURBQ0E7UUFDQTtNQUNBO01BRUEseUJBQ0EsMkZBQ0EsMEZBQ0E7TUFFQSw4QkFDQSwwQkFDQUMsK0ZBQ0E7UUFDQTtRQUNBO01BQ0E7TUFFQTtNQUNBO01BQUEsNENBRUFDO1FBQUE7TUFBQTtRQUFBLHVEQUNBO1VBQUEsSUFEQUo7VUFFQSwyQ0FDQTtZQUNBSztVQUNBO1FBQ0E7TUFBQTtRQUFBO01BQUE7UUFBQTtNQUFBO01BQ0EsOEJBQ0E7UUFDQUEsV0FDQSxzRUFDQTtNQUNBO01BRUEsbUJBQ0E7UUFDQTtNQUNBO01BRUE7UUFBQXhDO01BQUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtJQUNBeUMsK0ZBQ0E7TUFDQSxnRkFDQTtRQUNBLG1EQUNBO1VBQ0E7WUFBQSxPQUNBTjtVQUFBO1FBQ0E7TUFDQSxPQUNBLHNFQUNBO1FBQ0E7VUFBQTtRQUFBO01BQ0E7TUFFQTtRQUFBO01BQUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0lBQ0FPLHlFQUNBO01BQ0E7TUFDQTtNQUFBLDRDQUVBQztRQUFBO01BQUE7UUFBQSx1REFDQTtVQUFBLElBREF4QjtVQUVBO1VBRUEsb0lBQ0E7WUFDQTtZQUNBO1lBRUF5QjtVQUNBO1VBQUEsNENBRUF6QjtZQUFBO1VBQUE7WUFBQSx1REFDQTtjQUFBLElBREFnQjtjQUVBLG1GQUNBO2dCQUNBUztjQUNBO1lBQ0E7VUFBQTtZQUFBO1VBQUE7WUFBQTtVQUFBO1VBRUEsMEZBQ0E7WUFDQUM7WUFDQUM7VUFDQSxPQUNBLGlHQUNBO1lBQ0FDO1lBQ0FDO1VBQ0E7UUFDQTtNQUFBO1FBQUE7TUFBQTtRQUFBO01BQUE7TUFFQTtJQUNBO0lBRUE7QUFDQTtBQUNBO0FBQ0E7SUFDQUMsbUZBQ0E7TUFBQTtNQUNBO01BQ0E7TUFBQSxnREFHQTtRQUNBQztRQUNBO1VBQUE7UUFBQTtRQUVBLDJHQUNBO1VBQ0Esd0lBQ0E7WUFDQTtjQUFBO1lBQUE7WUFFQUM7VUFDQTtRQUNBO01BQ0E7TUFkQTtRQUFBO01BQUE7TUFnQkEsdURBQ0E7UUFDQUM7TUFDQTtNQUVBO1FBQUFEO1FBQUFDO01BQUE7SUFDQTtJQUVBO0FBQ0E7QUFDQTtBQUNBO0lBQ0FDLDhEQUNBO01BQ0E7TUFDQTtNQUFBLDRDQUVBZDtRQUFBO01BQUE7UUFBQSx1REFDQTtVQUFBLElBREFlO1VBRUFDLGNBQ0E7WUFBQXZEO1VBQUEsR0FDQTtVQUVBdUI7UUFDQTtNQUFBO1FBQUE7TUFBQTtRQUFBO01BQUE7TUFFQSw4QkFDQTtRQUNBLDBKQUNBO1VBQ0FnQyxjQUNBO1lBQUF2RCxNQUNBO1VBQ0EsR0FDQTtRQUNBO1FBRUE7TUFDQTtNQUVBO01BRUE7TUFFQXdELHlCQUNBRCxzQkFDQTtJQUNBO0lBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDQUUsb0ZBQ0E7TUFBQTtNQUNBbEM7TUFDQVE7TUFDQTJCO01BQ0FDO01BRUE7TUFFQSxpR0FDQTtRQUNBO01BQ0E7TUFFQTtNQUNBO01BQ0EscUVBQ0E7UUFDQTtRQUNBLDJEQUNBO1VBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0Esd0hBQ0EsOEJBQ0E7VUFDQTtRQUNBO1FBQUEsMENBR0E7VUFDQTtZQUFBLE9BQ0FDO1VBQUE7O1VBRUE7VUFDQSwwQkFDQUEsb0VBQ0FGLHNCQUFBQSxxREFBQUEsOERBQ0E7WUFBQTtjQUFBLEdBQ0E7WUFBQTtVQUNBO1FBQ0E7UUFaQTtVQUFBO1VBQUE7UUFBQTtRQWNBO01BQ0E7TUFFQTtNQUVBO0lBQ0E7SUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7SUFDQUcsc0hBQ0E7TUFDQWpDO01BQ0EsK0RBQ0E7UUFDQTtNQUNBO01BRUE7TUFFQUo7TUFFQTtNQUNBO01BRUEsNkJBQ0E7UUFDQU47VUFBQTtRQUFBO01BQ0E7TUFFQTtJQUNBO0lBRUE7QUFDQTtBQUNBO0FBQ0E7SUFDQTRDLDREQUNBO01BQ0EvQjtNQUNBLGtDQUNBO1FBQ0E7TUFDQTtNQUVBLFlBQ0EwQiwrQkFDQU07UUFBQTtNQUFBLEdBQ0FDO0lBQ0E7SUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0lBQ0FDLGlEQUNBO01BQUE7TUFDQSxxR0FDQTtRQUNBQztNQUNBO01BRUEsMkVBQ0E7UUFDQSxzR0FDQTtVQUNBQyw2REFDQTtZQUNBQyxRQUNBO2NBQ0E3QztjQUNBOEM7Y0FDQS9EO1lBQ0E7VUFDQTtRQUNBO01BQ0E7SUFDQTtJQUVBZ0UsdUNBQ0E7TUFDQSxtQ0FDQTtRQUNBO01BQ0E7TUFFQTtJQUNBO0lBRUFDLGlGQUNBO01BQ0E7TUFDQTtRQUFBO01BQUE7TUFFQSw0QkFDQTtRQUNBO01BQ0EsT0FDQSx5RUFDQTtRQUNBO01BQ0E7TUFDQTtJQUNBO0lBRUFDLHVFQUNBO01BQUE7TUFDQTtRQUNBQztRQUNBQztRQUNBO1FBQ0E7VUFDQTtRQUNBO1FBQ0E7VUFDQTtRQUNBO1FBQ0E7UUFDQTtVQUNBO1FBQ0E7UUFDQTtVQUNBO1FBQ0E7UUFDQTtNQUNBO0lBQ0E7SUFDQUM7TUFDQTtNQUVBO1FBQ0FDO1FBQ0FBO01BQ0E7TUFFQTtJQUNBO0VBQ0E7RUFFQUMsT0FDQTtJQUNBN0QsbURBQ0E7TUFDQTtJQUNBO0lBQ0FFLGtDQUNBO01BQ0E7TUFDQTtJQUNBO0VBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQ2VyZXMvcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9pdGVtL1ZhcmlhdGlvblNlbGVjdC52dWU/MTQ0NyJdLCJzb3VyY2VzQ29udGVudCI6WyI8dGVtcGxhdGU+XG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImF0dHJpYnV0ZXMubGVuZ3RoIHx8IChwb3NzaWJsZVVuaXRDb21iaW5hdGlvbklkcy5sZW5ndGggPiAxICYmIGlzQ29udGVudFZpc2libGUpXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHZhcmlhdGlvbi1zZWxlY3RcIiB2LWZvcj1cIihhdHRyaWJ1dGUsIGluZGV4KSBpbiBhdHRyaWJ1dGVzXCIgOmtleT1cImluZGV4XCI+XG4gICAgICAgICAgICAgICAgPCEtLSBkcm9wZG93biAtLT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtdW5pdFwiIHJlZj1cImF0dHJpYnV0ZXNDb250YW5lclwiIHYtaWY9XCJhdHRyaWJ1dGUudHlwZSA9PT0gJ2Ryb3Bkb3duJ1wiPlxuICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IDppZD1cIidjdXN0b20tc2VsZWN0XycgKyBhdHRyaWJ1dGUubmFtZVwiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiIEBjaGFuZ2U9XCJzZWxlY3RBdHRyaWJ1dGUoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCAkZXZlbnQudGFyZ2V0LnZhbHVlKVwiIGRhdGEtdGVzdGluZz1cInZhcmlhdGlvbi1zZWxlY3QtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gOnZhbHVlPVwiLTFcIiB2LWlmPVwiYWRkUGxlYXNlU2VsZWN0T3B0aW9uIHx8ICFoYXNTZWxlY3Rpb25cIj57eyAkdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1QbGVhc2VTZWxlY3RcIikgfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnZhbHVlPVwibnVsbFwiIHYtaWY9XCJoYXNFbXB0eU9wdGlvbiB8fCBzZWxlY3RlZEF0dHJpYnV0ZXNbYXR0cmlidXRlLmF0dHJpYnV0ZUlkXSA9PT0gbnVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZWxlY3RlZD1cInNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGUuYXR0cmlidXRlSWRdID09PSBudWxsXCI+e3sgJHRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5zaW5nbGVJdGVtTm9TZWxlY3Rpb25cIikgfX08L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi1mb3I9XCJ2YWx1ZSBpbiBhdHRyaWJ1dGUudmFsdWVzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOnZhbHVlPVwidmFsdWUuYXR0cmlidXRlVmFsdWVJZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZWxlY3RlZD1cInZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQgPT09IHNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGUuYXR0cmlidXRlSWRdXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cInZhbHVlLmF0dHJpYnV0ZVZhbHVlSWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1pZj1cImlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCB2YWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkLCB0cnVlKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyB2YWx1ZS5uYW1lIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1lbHNlLWlmPVwiaXNBdHRyaWJ1dGVTZWxlY3Rpb25WYWxpZChhdHRyaWJ1dGUuYXR0cmlidXRlSWQsIHZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQsIGZhbHNlKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyAkdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob3RTYWxhYmxlQXR0cmlidXRlXCIsIHsgXCJuYW1lXCI6IHZhbHVlLm5hbWUgfSkgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbUludmFsaWRBdHRyaWJ1dGVcIiwgeyBcIm5hbWVcIjogdmFsdWUubmFtZSB9KSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCA6Zm9yPVwiJ2N1c3RvbS1zZWxlY3RfJyArIGF0dHJpYnV0ZS5uYW1lXCIgdi10b29sdGlwPVwiaXNUZXh0Q3V0KGF0dHJpYnV0ZS5uYW1lKVwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgOnRpdGxlPVwiYXR0cmlidXRlLm5hbWVcIiBkYXRhLXRlc3Rpbmc9XCJ2YXJpYXRpb24tc2VsZWN0LWRyb3Bkb3duLWxhYmVsXCI+e3sgYXR0cmlidXRlLm5hbWUgfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwhLS0gL2Ryb3Bkb3duIC0tPlxuXG4gICAgICAgICAgICAgICAgPCEtLSBib3ggYW5kIGltYWdlIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgdi1lbHNlLWlmPVwiYXR0cmlidXRlLnR5cGUgPT09ICdib3gnIHx8IGF0dHJpYnV0ZS50eXBlID09PSAnaW1hZ2UnXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZFwiIGRhdGEtdGVzdGluZz1cImF0dHJpYnV0ZS1uYW1lXCI+e3sgYXR0cmlidXRlLm5hbWUgfX06PC9zcGFuPiA8YiBkYXRhLXRlc3Rpbmc9XCJhdHRyaWJ1dGUtdmFsdWVcIj57eyBnZXRTZWxlY3RlZEF0dHJpYnV0ZVZhbHVlTmFtZShhdHRyaWJ1dGUpIH19PC9iPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidi1zLWJveGVzIHB5LTNcIiA6Y2xhc3M9XCJ7ICdpbWFnZXMnOiBhdHRyaWJ1dGUudHlwZSA9PT0gJ2ltYWdlJyB9XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidi1zLWJveCBiZy13aGl0ZSBlbXB0eS1vcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRlc3Rpbmc9XCJ2YXJpYXRpb24tc2VsZWN0LWJveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtaWY9XCJhZGRQbGVhc2VTZWxlY3RPcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJzZWxlY3RBdHRyaWJ1dGUoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCAtMSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7ICdhY3RpdmUnOiBzZWxlY3RlZEF0dHJpYnV0ZXNbYXR0cmlidXRlLmF0dHJpYnV0ZUlkXSA9PT0gLTEsICdpbnZhbGlkJzogIWlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCAtMSkgfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXgtM1wiPnt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbVBsZWFzZVNlbGVjdFwiKSB9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInYtcy1ib3ggYmctd2hpdGUgZW1wdHktb3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aW5nPVwidmFyaWF0aW9uLXNlbGVjdC1ib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWlmPVwiaGFzRW1wdHlPcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJzZWxlY3RBdHRyaWJ1dGUoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCBudWxsKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ2FjdGl2ZSc6IHNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGUuYXR0cmlidXRlSWRdID09PSBudWxsLCAnaW52YWxpZCc6ICFpc0F0dHJpYnV0ZVNlbGVjdGlvblZhbGlkKGF0dHJpYnV0ZS5hdHRyaWJ1dGVJZCwgbnVsbCwgdHJ1ZSkgfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXgtM1wiPnt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbU5vU2VsZWN0aW9uXCIpIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ2LXMtYm94IGJnLXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10ZXN0aW5nPVwidmFyaWF0aW9uLXNlbGVjdC1ib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LWZvcj1cInZhbHVlIGluIGF0dHJpYnV0ZS52YWx1ZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJzZWxlY3RBdHRyaWJ1dGUoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCB2YWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkKVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInsgJ2FjdGl2ZSc6IHZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQgPT09IHNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGUuYXR0cmlidXRlSWRdLCAnaW52YWxpZCc6ICFpc0F0dHJpYnV0ZVNlbGVjdGlvblZhbGlkKGF0dHJpYnV0ZS5hdHRyaWJ1dGVJZCwgdmFsdWUuYXR0cmlidXRlVmFsdWVJZCwgdHJ1ZSkgfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtdG9vbHRpcD1cInRydWVcIiBkYXRhLWh0bWw9XCJ0cnVlXCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiA6ZGF0YS1vcmlnaW5hbC10aXRsZT1cImdldFRvb2x0aXAoYXR0cmlidXRlLCB2YWx1ZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6a2V5PVwidmFsdWUuYXR0cmlidXRlVmFsdWVJZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXgtM1wiIHYtaWY9XCJhdHRyaWJ1dGUudHlwZSA9PT0gJ2JveCdcIj57eyB2YWx1ZS5uYW1lIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJwLTFcIiB2LWVsc2UgOnNyYz1cInZhbHVlLmltYWdlVXJsXCIgOmFsdD1cInZhbHVlLm5hbWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8IS0tIC9ib3ggYW5kIGltYWdlIC0tPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDwhLS0gdW5pdHMgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTEyIHZhcmlhdGlvbi1zZWxlY3RcIiB2LWlmPVwicG9zc2libGVVbml0Q29tYmluYXRpb25JZHMubGVuZ3RoID4gMSAmJiBpc0NvbnRlbnRWaXNpYmxlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LXVuaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBpZD1cInVuaXQtY29tYmluYXRpb24taWRzLXNlbGVjdFwiIGNsYXNzPVwiY3VzdG9tLXNlbGVjdFwiIEBjaGFuZ2U9XCJzZWxlY3RVbml0KCRldmVudC50YXJnZXQudmFsdWUpXCIgZGF0YS10ZXN0aW5nPVwidmFyaWF0aW9uLXNlbGVjdC11bml0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYtZm9yPVwidW5pdENvbWJpbmF0aW9uSWQgaW4gcG9zc2libGVVbml0Q29tYmluYXRpb25JZHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6dmFsdWU9XCJ1bml0Q29tYmluYXRpb25JZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpzZWxlY3RlZD1cInBhcnNlSW50KHVuaXRDb21iaW5hdGlvbklkKSA9PT0gc2VsZWN0ZWRVbml0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmtleT1cInVuaXRDb21iaW5hdGlvbklkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtaWY9XCJpc1VuaXRTZWxlY3Rpb25WYWxpZCh1bml0Q29tYmluYXRpb25JZClcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3sgcG9zc2libGVVbml0c1t1bml0Q29tYmluYXRpb25JZF0gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt7ICR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbUludmFsaWRBdHRyaWJ1dGVcIiwgeyBcIm5hbWVcIjogcG9zc2libGVVbml0c1t1bml0Q29tYmluYXRpb25JZF0gfSkgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RlbXBsYXRlPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidW5pdC1jb21iaW5hdGlvbi1pZHMtc2VsZWN0XCIgZGF0YS10ZXN0aW5nPVwidmFyaWF0aW9uLXNlbGVjdC11bml0LWxhYmVsXCI+e3sgJHRyYW5zbGF0ZShcIkNlcmVzOjpUZW1wbGF0ZS5zaW5nbGVJdGVtQ29udGVudFwiKSB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwhLS0gL3VuaXRzIC0tPlxuICAgICAgICA8L3RlbXBsYXRlPlxuXG4gICAgICAgIDx0ZW1wbGF0ZSB2LWVsc2U+XG4gICAgICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHsgdGV4dFdpZHRoIH0gZnJvbSBcIi4uLy4uL2hlbHBlci9kb21cIjtcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNOdWxsLCBpc051bGxPclVuZGVmaW5lZCB9IGZyb20gXCIuLi8uLi9oZWxwZXIvdXRpbHNcIjtcblxuY29uc3QgTm90aWZpY2F0aW9uU2VydmljZSA9IHJlcXVpcmUoXCIuLi8uLi9zZXJ2aWNlcy9Ob3RpZmljYXRpb25TZXJ2aWNlXCIpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG5cbiAgICBuYW1lOiBcInZhcmlhdGlvbi1zZWxlY3RcIixcblxuICAgIHByb3BzOiB7XG4gICAgICAgIGZvcmNlQ29udGVudDpcbiAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5qZWN0OiB7XG4gICAgICAgIGl0ZW1JZDoge1xuICAgICAgICAgICAgZGVmYXVsdDogbnVsbFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRhdGEoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbHRlcmVkVmFyaWF0aW9uc0NhY2hlOiB7fSxcbiAgICAgICAgICAgIGxhc3RDb250ZW50Q291bnQ6IDBcbiAgICAgICAgfTtcbiAgICB9LFxuXG4gICAgbW91bnRlZCgpXG4gICAge1xuICAgICAgICAvLyBpbml0aWFsbHkgY2hlY2sgZm9yIHZhbGlkIHNlbGVjdGlvbiBhbmQgZGlzYWJsZSBhZGQgdG8gYmFza2V0IGJ1dHRvblxuICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoYCR7dGhpcy5pdGVtSWR9L3ZhcmlhdGlvblNlbGVjdC9zZXRJc1ZhcmlhdGlvblNlbGVjdGVkYCwgISF0aGlzLmN1cnJlbnRTZWxlY3Rpb24pO1xuICAgIH0sXG5cbiAgICBjb21wdXRlZDpcbiAgICB7XG4gICAgICAgIGN1cnJlbnRWYXJpYXRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1tgJHt0aGlzLml0ZW1JZH0vY3VycmVudEl0ZW1WYXJpYXRpb25gXTtcbiAgICAgICAgfSxcblxuICAgICAgICBjdXJyZW50VmFyaWF0aW9uU2VsZWN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLml0ZW1zW3RoaXMuaXRlbUlkXSAmJiB0aGlzLiRzdG9yZS5zdGF0ZS5pdGVtc1t0aGlzLml0ZW1JZF0udmFyaWF0aW9uU2VsZWN0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZXR1cm5zIHRydWUgaWYgYW55IHZhcmlhdGlvbiBoYXMgbm8gYXR0cmlidXRlc1xuICAgICAgICAgKi9cbiAgICAgICAgaGFzRW1wdHlPcHRpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YXJpYXRpb25zLnNvbWUodmFyaWF0aW9uID0+ICF2YXJpYXRpb24uYXR0cmlidXRlcy5sZW5ndGgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFBsZWFzZVNlbGVjdE9wdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBBcHAuY29uZmlnLml0ZW0uc2hvd1BsZWFzZVNlbGVjdDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0aGUgdmFyaWF0aW9uLCBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlcyAvIHVuaXRcbiAgICAgICAgICogcmV0dXJucyBmYWxzZSBpZiB0aGVyZSBhcmUgbm9uZSBvciBtdWx0aXBsZSByZXN1bHRzXG4gICAgICAgICAqL1xuICAgICAgICBjdXJyZW50U2VsZWN0aW9uKClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRWYXJpYXRpb25zID0gdGhpcy5maWx0ZXJWYXJpYXRpb25zKG51bGwsIG51bGwsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoZmlsdGVyZWRWYXJpYXRpb25zLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRWYXJpYXRpb25zWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgYWxsIHVuaXRzLCBzZWxlY3RhYmxlIGJ5IGN1cnJlbnQgc2VsZWN0aW9uXG4gICAgICAgICAqIHByb3AgJ2ZvcmNlQ29udGVudCcgd2l0aCB2YWx1ZSB0cnVlIHdpbGwgcmV0dXJuIGFsbCB1bml0cywgd2l0aG91dCBmaWx0ZXJpbmdcbiAgICAgICAgICovXG4gICAgICAgIHBvc3NpYmxlVW5pdHMoKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB1c2UgYW4gb2JqZWN0LCB0byBtYWtlIHRoZSBlbnRyaWVzIHVuaXF1ZVxuICAgICAgICAgICAgY29uc3QgcG9zc2libGVVbml0cyA9IHt9O1xuICAgICAgICAgICAgY29uc3QgdmFyaWF0aW9ucyA9IHRoaXMuZm9yY2VDb250ZW50ID8gdGhpcy52YXJpYXRpb25zIDogdGhpcy5maWx0ZXJWYXJpYXRpb25zKG51bGwsIG51bGwsIG51bGwsIHRydWUpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhdGlvbiBvZiB2YXJpYXRpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvc3NpYmxlVW5pdHNbdmFyaWF0aW9uLnVuaXRDb21iaW5hdGlvbklkXSA9IHZhcmlhdGlvbi51bml0TmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHBvc3NpYmxlVW5pdHM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcG9zc2libGVVbml0Q29tYmluYXRpb25JZHMoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm1Qb3NzaWJsZVVuaXRzKHRoaXMucG9zc2libGVVbml0cykubWFwKHZhbHVlID0+IHZhbHVlWzBdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0NvbnRlbnRWaXNpYmxlKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICF0aGlzLmZvcmNlQ29udGVudCAmJiAhIXRoaXMuY3VycmVudFNlbGVjdGlvbiB8fCB0aGlzLmZvcmNlQ29udGVudDtcbiAgICAgICAgfSxcblxuICAgICAgICBoYXNTZWxlY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gIWlzTnVsbE9yVW5kZWZpbmVkKHRoaXMuc2VsZWN0ZWRBdHRyaWJ1dGVzKSAmJiAhT2JqZWN0LnZhbHVlcyh0aGlzLnNlbGVjdGVkQXR0cmlidXRlcykuc29tZSgodmFsdWUpID0+IHZhbHVlIDwgMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYXR0cmlidXRlcygpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYXJpYXRpb25TZWxlY3QgJiYgdGhpcy5jdXJyZW50VmFyaWF0aW9uU2VsZWN0LmF0dHJpYnV0ZXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2VsZWN0ZWRBdHRyaWJ1dGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhcmlhdGlvblNlbGVjdCAmJiB0aGlzLmN1cnJlbnRWYXJpYXRpb25TZWxlY3Quc2VsZWN0ZWRBdHRyaWJ1dGVzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdGVkVW5pdCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRWYXJpYXRpb25TZWxlY3QgJiYgdGhpcy5jdXJyZW50VmFyaWF0aW9uU2VsZWN0LnNlbGVjdGVkVW5pdDtcbiAgICAgICAgfSxcblxuICAgICAgICB2YXJpYXRpb25zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFZhcmlhdGlvblNlbGVjdCAmJiB0aGlzLmN1cnJlbnRWYXJpYXRpb25TZWxlY3QudmFyaWF0aW9ucztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBtZXRob2RzOlxuICAgIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNlbGVjdCBhbiBhdHRyaWJ1dGUgYW5kIGNoZWNrLCBpZiB0aGUgc2VsZWN0aW9uIGlzIHZhbGlkOyBpZiBub3QsIHVuc2V0SW52YWxpZFNlbGVjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJ1dGVJZFxuICAgICAgICAgKiBAcGFyYW0ge1tudW1iZXIsIHN0cmluZywgbnVsbF19IGF0dHJpYnV0ZVZhbHVlSWRcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdEF0dHJpYnV0ZShhdHRyaWJ1dGVJZCwgYXR0cmlidXRlVmFsdWVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlVmFsdWVJZCA9IHBhcnNlSW50KGF0dHJpYnV0ZVZhbHVlSWQpIHx8IG51bGw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGVJZF0gIT09IGF0dHJpYnV0ZVZhbHVlSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KGAke3RoaXMuaXRlbUlkfS92YXJpYXRpb25TZWxlY3Qvc2VsZWN0SXRlbUF0dHJpYnV0ZWAsIHsgYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZShhdHRyaWJ1dGVJZCwgYXR0cmlidXRlVmFsdWVJZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNlbGVjdCBhIHVuaXQgYW5kIGNoZWNrLCBpZiB0aGUgc2VsZWN0aW9uIGlzIHZhbGlkOyBpZiBub3QsIHVuc2V0SW52YWxpZFNlbGVjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkXG4gICAgICAgICAqIEBwYXJhbSB7W251bWJlciwgc3RyaW5nXX0gdW5pdElkXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RVbml0KHVuaXRJZClcbiAgICAgICAge1xuICAgICAgICAgICAgdW5pdElkID0gcGFyc2VJbnQodW5pdElkKTtcbiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChgJHt0aGlzLml0ZW1JZH0vdmFyaWF0aW9uU2VsZWN0L3NlbGVjdEl0ZW1Vbml0YCwgdW5pdElkKTtcbiAgICAgICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UobnVsbCwgbnVsbCwgdW5pdElkKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvblNlbGVjdGlvbkNoYW5nZShhdHRyaWJ1dGVJZCwgYXR0cmlidXRlVmFsdWVJZCwgdW5pdElkKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U2VsZWN0aW9uKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFyaWF0aW9uKHRoaXMuY3VycmVudFNlbGVjdGlvbi52YXJpYXRpb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghdGhpcy5oYXNTZWxlY3Rpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gdXNlciBzd2l0Y2hlZCBiYWNrIHRvIFwicGxlYXNlIHNlbGVjdFwiXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWYXJpYXRpb24oMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnNldEludmFsaWRTZWxlY3Rpb24oYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQsIHVuaXRJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGFzdENvbnRlbnRDb3VudCA9IHRoaXMucG9zc2libGVVbml0Q29tYmluYXRpb25JZHMubGVuZ3RoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjaGFuZ2VzIHRoZSBzZWxlY3RlZCBhdHRyaWJ1dGVzIC8gdW5pdCwgdG8gZW5zdXJlIGEgdmFsaWQgc2VlbGN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7W251bWJlciwgbnVsbF19IGF0dHJpYnV0ZUlkXG4gICAgICAgICAqIEBwYXJhbSB7W251bWJlciwgbnVsbF19IGF0dHJpYnV0ZVZhbHVlSWRcbiAgICAgICAgICogQHBhcmFtIHtbbnVtYmVyLCBudWxsXX0gdW5pdElkXG4gICAgICAgICAqL1xuICAgICAgICB1bnNldEludmFsaWRTZWxlY3Rpb24oYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQsIHVuaXRJZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcXVhbGlmaWVkVmFyaWF0aW9ucyA9IHRoaXMuZ2V0UXVhbGlmaWVkVmFyaWF0aW9ucyhhdHRyaWJ1dGVJZCwgYXR0cmlidXRlVmFsdWVJZCwgdW5pdElkKTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RWYXJpYXRpb25zID0gdGhpcy5nZXRDbG9zZXN0VmFyaWF0aW9ucyhxdWFsaWZpZWRWYXJpYXRpb25zKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gaWYgdGhlIHNhbGFibGUgJ2Nsb3Nlc3RWYXJpYXRpb25zJyBpcyB1bmRlZmluZWQsIHRha2UgdGhlIG5vdC1zYWxhYmxlIG9uZVxuICAgICAgICAgICAgY29uc3QgY2xvc2VzdFZhcmlhdGlvbiA9IGNsb3Nlc3RWYXJpYXRpb25zWzBdIHx8IGNsb3Nlc3RWYXJpYXRpb25zWzFdO1xuXG4gICAgICAgICAgICBpZiAoIWNsb3Nlc3RWYXJpYXRpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkU2VsZWN0aW9uID0gdGhpcy5nZXRJbnZhbGlkU2VsZWN0aW9uQnlWYXJpYXRpb24oY2xvc2VzdFZhcmlhdGlvbik7XG5cbiAgICAgICAgICAgIHRoaXMuY29ycmVjdFNlbGVjdGlvbihpbnZhbGlkU2VsZWN0aW9uKTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRUb29sdGlwKGF0dHJpYnV0ZSwgYXR0cmlidXRlVmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQoYXR0cmlidXRlLmF0dHJpYnV0ZUlkLCBhdHRyaWJ1dGVWYWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkLCB0cnVlKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnZhbGlkT3B0aW9uVG9vbHRpcChhdHRyaWJ1dGUuYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihhdHRyaWJ1dGUudHlwZSA9PT0gXCJpbWFnZVwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbUF0dHJpYnV0ZVRvb2x0aXBcIiwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYXR0cmlidXRlVmFsdWUubmFtZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBhIHN0cmluZyBmb3IgYm94IHRvb2x0aXBzLCBmb3Igbm90IGF2YWlsYWJsZSBvcHRpb25zXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhdHRyaWJ1dGVJZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gYXR0cmlidXRlVmFsdWVJZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SW52YWxpZE9wdGlvblRvb2x0aXAoYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHF1YWxpZmllZFZhcmlhdGlvbnMgPSB0aGlzLmdldFF1YWxpZmllZFZhcmlhdGlvbnMoYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VzdFZhcmlhdGlvbnMgICA9IHRoaXMuZ2V0Q2xvc2VzdFZhcmlhdGlvbnMocXVhbGlmaWVkVmFyaWF0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghY2xvc2VzdFZhcmlhdGlvbnMgfHwgY2xvc2VzdFZhcmlhdGlvbnMubGVuZ3RoIDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGludmFsaWRTZWxlY3Rpb25zID0gW1xuICAgICAgICAgICAgICAgICEhY2xvc2VzdFZhcmlhdGlvbnNbMF0gPyB0aGlzLmdldEludmFsaWRTZWxlY3Rpb25CeVZhcmlhdGlvbihjbG9zZXN0VmFyaWF0aW9uc1swXSkgOiBudWxsLFxuICAgICAgICAgICAgICAgICEhY2xvc2VzdFZhcmlhdGlvbnNbMV0gPyB0aGlzLmdldEludmFsaWRTZWxlY3Rpb25CeVZhcmlhdGlvbihjbG9zZXN0VmFyaWF0aW9uc1sxXSkgOiBudWxsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpZiAoISFpbnZhbGlkU2VsZWN0aW9uc1swXVxuICAgICAgICAgICAgICAgICYmICEhaW52YWxpZFNlbGVjdGlvbnNbMV1cbiAgICAgICAgICAgICAgICAmJiBpbnZhbGlkU2VsZWN0aW9uc1swXS5hdHRyaWJ1dGVzVG9SZXNldC5sZW5ndGggPiBpbnZhbGlkU2VsZWN0aW9uc1sxXS5hdHRyaWJ1dGVzVG9SZXNldC5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSBub24tc2FsYWJsZSB2YXJpYXRpb24gd2l0aCBsZXNzIGNoYW5nZXNcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob3RTYWxhYmxlXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpbnZhbGlkU2VsZWN0aW9uID0gaW52YWxpZFNlbGVjdGlvbnNbMF0gfHwgaW52YWxpZFNlbGVjdGlvbnNbMV07XG4gICAgICAgICAgICBjb25zdCBuYW1lcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiBpbnZhbGlkU2VsZWN0aW9uLmF0dHJpYnV0ZXNUb1Jlc2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuYXR0cmlidXRlSWQgIT09IGF0dHJpYnV0ZUlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZXMucHVzaChcIjxiPlwiICsgYXR0cmlidXRlLm5hbWUgK1wiPC9iPlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW52YWxpZFNlbGVjdGlvbi5uZXdVbml0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIFwiPGI+XCIgKyB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbUNvbnRlbnRcIikgKyBcIjwvYj5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghbmFtZXMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob3RBdmFpbGFibGVJblNlbGVjdGlvblwiLCB7IG5hbWU6IG5hbWVzLmpvaW4oXCIsIFwiKSB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBhIGxpc3Qgb2YgdmFyaWF0aW9ucywgZmlsdGVyZWQgYnkgYXR0cmlidXRlIG9yIHVuaXRcbiAgICAgICAgICogQHBhcmFtIHtbbnVtYmVyLCBudWxsXX0gYXR0cmlidXRlSWRcbiAgICAgICAgICogQHBhcmFtIHtbbnVtYmVyLCBudWxsXX0gYXR0cmlidXRlVmFsdWVJZFxuICAgICAgICAgKiBAcGFyYW0ge1tudW1iZXIsIG51bGxdfSB1bml0SWRcbiAgICAgICAgICovXG4gICAgICAgIGdldFF1YWxpZmllZFZhcmlhdGlvbnMoYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQsIHVuaXRJZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChhdHRyaWJ1dGVWYWx1ZUlkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52YXJpYXRpb25zLmZpbHRlcih2YXJpYXRpb24gPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0RlZmluZWQodmFyaWF0aW9uLmF0dHJpYnV0ZXMuZmluZChhdHRyaWJ1dGUgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5hdHRyaWJ1dGVJZCA9PT0gYXR0cmlidXRlSWQgJiYgYXR0cmlidXRlLmF0dHJpYnV0ZVZhbHVlSWQgPT09IGF0dHJpYnV0ZVZhbHVlSWQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRGVmaW5lZCh1bml0SWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhcmlhdGlvbnMuZmlsdGVyKHZhcmlhdGlvbiA9PiB2YXJpYXRpb24udW5pdENvbWJpbmF0aW9uSWQgPT09IHVuaXRJZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhcmlhdGlvbnMuZmlsdGVyKHZhcmlhdGlvbiA9PiAhdmFyaWF0aW9uLmF0dHJpYnV0ZXMubGVuZ3RoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJuIGEgc2FsYWJsZSBhbmQgYSBub24tc2FsYWJsZSB2YXJpYXRpb24gd2l0aCB0aGUgbWluaW11bSBudW1iZXIgb2YgY2hhbmdlcyBvbiBhdHRyaWJ1dGVzIGNvbXBhcmVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHthcnJheX0gcXVhbGlmaWVkVmFyaWF0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xvc2VzdFZhcmlhdGlvbnMocXVhbGlmaWVkVmFyaWF0aW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNsb3Nlc3RTYWxhYmxlVmFyaWF0aW9uLCBudW1iZXJPZlNhbGFibGVDaGFuZ2VzO1xuICAgICAgICAgICAgbGV0IGNsb3Nlc3ROb25TYWxhYmxlVmFyaWF0aW9uLCBudW1iZXJPZk5vblNhbGFibGVDaGFuZ2VzO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhcmlhdGlvbiBvZiBxdWFsaWZpZWRWYXJpYXRpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBjaGFuZ2VzID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YXJpYXRpb24udW5pdENvbWJpbmF0aW9uSWQgIT09IHRoaXMuc2VsZWN0ZWRVbml0ICYmICFpc051bGwodGhpcy5zZWxlY3RlZFVuaXQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgdW5pdCBkcm9wZG93biBpc24ndCB2aXNpYmxlLCBpdCBzaG91bGQgaGF2ZSBhIGxvd2VyIHdlaWdodCBmb3IgcmVzZXQgaW52ZXN0aWdhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5pdFdlaWdodCA9IHRoaXMucG9zc2libGVVbml0Q29tYmluYXRpb25JZHMubGVuZ3RoID4gMSAmJiB0aGlzLmlzQ29udGVudFZpc2libGUgPyAwLjkgOiAwLjE7XG5cbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcyArPSB1bml0V2VpZ2h0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIHZhcmlhdGlvbi5hdHRyaWJ1dGVzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZS5hdHRyaWJ1dGVJZF0gIT09IGF0dHJpYnV0ZS5hdHRyaWJ1dGVWYWx1ZUlkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZih2YXJpYXRpb24uaXNTYWxhYmxlICYmICghbnVtYmVyT2ZTYWxhYmxlQ2hhbmdlcyB8fCBjaGFuZ2VzIDwgbnVtYmVyT2ZTYWxhYmxlQ2hhbmdlcykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0U2FsYWJsZVZhcmlhdGlvbiA9IHZhcmlhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTYWxhYmxlQ2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCF2YXJpYXRpb24uaXNTYWxhYmxlICYmICghbnVtYmVyT2ZOb25TYWxhYmxlQ2hhbmdlcyB8fCBjaGFuZ2VzIDwgbnVtYmVyT2ZOb25TYWxhYmxlQ2hhbmdlcykpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0Tm9uU2FsYWJsZVZhcmlhdGlvbiA9IHZhcmlhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZOb25TYWxhYmxlQ2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2Nsb3Nlc3RTYWxhYmxlVmFyaWF0aW9uLCBjbG9zZXN0Tm9uU2FsYWJsZVZhcmlhdGlvbl07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgb2JqZWN0IHdpdGggYXJyYXkgJ2F0dHJpYnV0ZXNUb1Jlc2V0JyBhbmQgbmV3VW5pdC4gVGhlIGF0dHJpYnV0ZXNUb1Jlc2V0IGNvbnRhaW5zIGFsbCBhdHRyaWJ1dGVzLCB3aGljaCBhcmUgbm90IG1hdGNoaW5nIHdpdGggdGhlIGdpdmVuIHZhcmlhdGlvblxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFyaWF0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRJbnZhbGlkU2VsZWN0aW9uQnlWYXJpYXRpb24odmFyaWF0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzVG9SZXNldCA9IFtdO1xuICAgICAgICAgICAgbGV0IG5ld1VuaXQgPSBudWxsO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBzZWxlY3RlZEF0dHJpYnV0ZUlkIGluIHRoaXMuc2VsZWN0ZWRBdHRyaWJ1dGVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQXR0cmlidXRlSWQgPSBwYXJzZUludChzZWxlY3RlZEF0dHJpYnV0ZUlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YXJpYXRpb25BdHRyaWJ1dGUgPSB2YXJpYXRpb24uYXR0cmlidXRlcy5maW5kKGF0dHJpYnV0ZSA9PiBhdHRyaWJ1dGUuYXR0cmlidXRlSWQgPT09IHNlbGVjdGVkQXR0cmlidXRlSWQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc051bGwodGhpcy5zZWxlY3RlZEF0dHJpYnV0ZXNbc2VsZWN0ZWRBdHRyaWJ1dGVJZF0pKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhcmlhdGlvbkF0dHJpYnV0ZSAmJiB2YXJpYXRpb25BdHRyaWJ1dGUuYXR0cmlidXRlVmFsdWVJZCAhPT0gdGhpcy5zZWxlY3RlZEF0dHJpYnV0ZXNbc2VsZWN0ZWRBdHRyaWJ1dGVJZF0gfHwgIXZhcmlhdGlvbkF0dHJpYnV0ZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlVG9SZXNldCA9IHRoaXMuYXR0cmlidXRlcy5maW5kKGF0dHIgPT4gYXR0ci5hdHRyaWJ1dGVJZCA9PT0gc2VsZWN0ZWRBdHRyaWJ1dGVJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNUb1Jlc2V0LnB1c2goYXR0cmlidXRlVG9SZXNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YXJpYXRpb24udW5pdENvbWJpbmF0aW9uSWQgIT09IHRoaXMuc2VsZWN0ZWRVbml0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5ld1VuaXQgPSB2YXJpYXRpb24udW5pdENvbWJpbmF0aW9uSWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IGF0dHJpYnV0ZXNUb1Jlc2V0LCBuZXdVbml0IH07XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJlc2V0cyBhbGwgaW52YWxpZCBhdHRyaWJ1dGVzIGFuZCBjaGFuZ2UgdGhlIHVuaXQsIGlmIHJlcXVpcmVkLiBQcmludHMgYSBtZXNzYWdlIHRvIHRoZSB1c2VyIGlmIHNvLlxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdH0gaW52YWxpZFNlbGVjdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgY29ycmVjdFNlbGVjdGlvbihpbnZhbGlkU2VsZWN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyAgID0gW107XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnNlbGVjdGVkQXR0cmlidXRlcykpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZVRvUmVzZXQgb2YgaW52YWxpZFNlbGVjdGlvbi5hdHRyaWJ1dGVzVG9SZXNldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbU5vdEF2YWlsYWJsZVwiLCB7IG5hbWU6IGF0dHJpYnV0ZVRvUmVzZXQubmFtZSB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYnV0ZVRvUmVzZXQuYXR0cmlidXRlSWRdID0gKCF0aGlzLmhhc0VtcHR5T3B0aW9uICYmIEFwcC5jb25maWcuaXRlbS5zaG93UGxlYXNlU2VsZWN0KSA/IC0xIDogbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGludmFsaWRTZWxlY3Rpb24ubmV3VW5pdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0Q29udGVudENvdW50ID4gMSAmJiB0aGlzLnBvc3NpYmxlVW5pdENvbWJpbmF0aW9uSWRzLmxlbmd0aCA+IDEgJiYgIWlzTnVsbCh0aGlzLnNlbGVjdGVkVW5pdCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob3RBdmFpbGFibGVcIiwgeyBuYW1lOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbUNvbnRlbnRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KGAke3RoaXMuaXRlbUlkfS92YXJpYXRpb25TZWxlY3Qvc2VsZWN0SXRlbVVuaXRgLCBpbnZhbGlkU2VsZWN0aW9uLm5ld1VuaXQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoYCR7dGhpcy5pdGVtSWR9L3ZhcmlhdGlvblNlbGVjdC9zZXRJdGVtU2VsZWN0ZWRBdHRyaWJ1dGVzYCwgYXR0cmlidXRlcyk7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VmFyaWF0aW9uKHRoaXMuY3VycmVudFNlbGVjdGlvbiA/IHRoaXMuY3VycmVudFNlbGVjdGlvbi52YXJpYXRpb25JZCA6IDApO1xuXG4gICAgICAgICAgICBOb3RpZmljYXRpb25TZXJ2aWNlLndhcm4oXG4gICAgICAgICAgICAgICAgbWVzc2FnZXMuam9pbihcIjxicj5cIilcbiAgICAgICAgICAgICkuY2xvc2VBZnRlcig1MDAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyBtYXRjaGluZyB2YXJpYXRpb25zIHdpdGggY3VycmVudCBzZWxlY3Rpb25cbiAgICAgICAgICogYXR0cmlidXRlcyBhbmQgdW5pdElkIGNvdWxkIGJlIGZpbGxlZCwgdG8gY2hlY2sgYSBzcGVjaWZpYyBzZWxlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IGF0dHJpYnV0ZXNcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHVuaXRJZFxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHN0cmljdFxuICAgICAgICAgKi9cbiAgICAgICAgZmlsdGVyVmFyaWF0aW9ucyhhdHRyaWJ1dGVzLCB1bml0SWQsIHN0cmljdCwgaWdub3JlVW5pdClcbiAgICAgICAge1xuICAgICAgICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMgfHwgdGhpcy5zZWxlY3RlZEF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB1bml0SWQgPSB1bml0SWQgfHwgdGhpcy5zZWxlY3RlZFVuaXQ7XG4gICAgICAgICAgICBzdHJpY3QgPSAhIXN0cmljdDtcbiAgICAgICAgICAgIGlnbm9yZVVuaXQgPSAhIWlnbm9yZVVuaXQ7XG5cbiAgICAgICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KGF0dHJpYnV0ZXMpICsgXCJfXCIgKyB1bml0SWQgKyBcIl9cIiArIHN0cmljdCArIFwiX1wiICsgaWdub3JlVW5pdDtcblxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmZpbHRlcmVkVmFyaWF0aW9uc0NhY2hlW2tleV0pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlcmVkVmFyaWF0aW9uc0NhY2hlW2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHVuaXF1ZVZhbHVlcyA9IFsuLi5uZXcgU2V0KE9iamVjdC52YWx1ZXMoYXR0cmlidXRlcykpXTtcbiAgICAgICAgICAgIGNvbnN0IGlzRW1wdHlPcHRpb25TZWxlY3RlZCA9IHVuaXF1ZVZhbHVlcy5sZW5ndGggPT09IDEgJiYgaXNOdWxsKHVuaXF1ZVZhbHVlc1swXSk7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZFZhcmlhdGlvbnMgPSB0aGlzLnZhcmlhdGlvbnMuZmlsdGVyKHZhcmlhdGlvbiA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBzZWxlY3RlZCB1bml0IGlzIG5vdCBtYXRjaGluZ1xuICAgICAgICAgICAgICAgIGlmICghaWdub3JlVW5pdCAmJiB2YXJpYXRpb24udW5pdENvbWJpbmF0aW9uSWQgIT09IHVuaXRJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyB0aGUgdmFyaWF0aW9uIGhhcyBubyBhdHRyaWJ1dGVzIChvbmx5IGNoZWNrZWQsIGlmIGFueSBhdHRyaWJ1dGUgaGFzIGEgc2VsZWN0ZWQgdmFsdWUpOyBvciB0aGUgdmFyaWF0aW9uIGhhcyBhdHRyaWJ1dGVzIGFuZCBlbXB0eSBvcHRpb24gaXMgc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAvLyByZXF1aXJlcyBtb3JlIHRoYW4gMCBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgaWYgKCgoIWlzRW1wdHlPcHRpb25TZWxlY3RlZCAmJiAhdmFyaWF0aW9uLmF0dHJpYnV0ZXMubGVuZ3RoKSB8fCAoaXNFbXB0eU9wdGlvblNlbGVjdGVkICYmIHZhcmlhdGlvbi5hdHRyaWJ1dGVzLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMuYXR0cmlidXRlcy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlSWQgaW4gYXR0cmlidXRlcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhcmlhdGlvbkF0dHJpYnV0ZSA9IHZhcmlhdGlvbi5hdHRyaWJ1dGVzLmZpbmQodmFyaWF0aW9uQXR0cmlidXRlID0+XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb25BdHRyaWJ1dGUuYXR0cmlidXRlSWQgPT09IHBhcnNlSW50KGF0dHJpYnV0ZUlkKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gYXR0cmlidXRlIGlzIG5vdCBtYXRjaGluZyB3aXRoIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAodmFyaWF0aW9uQXR0cmlidXRlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpYXRpb25BdHRyaWJ1dGUuYXR0cmlidXRlVmFsdWVJZCAhPT0gYXR0cmlidXRlc1thdHRyaWJ1dGVJZF0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChzdHJpY3QgfHwgIXN0cmljdCAmJiAhaXNOdWxsKGF0dHJpYnV0ZXNbYXR0cmlidXRlSWRdKSAmJiBhdHRyaWJ1dGVzW2F0dHJpYnV0ZUlkXSAhPT0gLTEpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmZpbHRlcmVkVmFyaWF0aW9uc0NhY2hlW2tleV0gPSBmaWx0ZXJlZFZhcmlhdGlvbnM7XG5cbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZFZhcmlhdGlvbnM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHJldHVybnMgdHJ1ZSwgaWYgdGhlIHNlbGVjdGlvbiB3aXRoIGEgbmV3IGF0dHJpYnV0ZSB2YWx1ZSB3b3VsZCBiZSB2YWxpZFxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gYXR0cmlidXRlSWRcbiAgICAgICAgICogQHBhcmFtIHtbbnVtYmVyLCBzdHJpbmcsIG51bGxdfSBhdHRyaWJ1dGVWYWx1ZUlkXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmlsdGVyU2FsYWJsZVZhcmlhdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQoYXR0cmlidXRlSWQsIGF0dHJpYnV0ZVZhbHVlSWQsIGZpbHRlclNhbGFibGVWYXJpYXRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZUlkID0gcGFyc2VJbnQoYXR0cmlidXRlVmFsdWVJZCkgfHwgbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGVJZF0gPT09IGF0dHJpYnV0ZVZhbHVlSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQXR0cmlidXRlcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zZWxlY3RlZEF0dHJpYnV0ZXMpKTtcblxuICAgICAgICAgICAgc2VsZWN0ZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZUlkXSA9IHBhcnNlSW50KGF0dHJpYnV0ZVZhbHVlSWQpIHx8IG51bGw7XG5cbiAgICAgICAgICAgIGNvbnN0IGlnbm9yZVVuaXQgPSAhKE9iamVjdC5rZXlzKHRoaXMucG9zc2libGVVbml0cykubGVuZ3RoID4gMSAmJiB0aGlzLmlzQ29udGVudFZpc2libGUpO1xuICAgICAgICAgICAgbGV0IHZhcmlhdGlvbnMgPSB0aGlzLmZpbHRlclZhcmlhdGlvbnMoc2VsZWN0ZWRBdHRyaWJ1dGVzLCBudWxsLCBudWxsLCBpZ25vcmVVbml0KTtcblxuICAgICAgICAgICAgaWYgKGZpbHRlclNhbGFibGVWYXJpYXRpb25zKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhcmlhdGlvbnMgPSB2YXJpYXRpb25zLmZpbHRlcih2YXJpYXRpb24gPT4gdmFyaWF0aW9uLmlzU2FsYWJsZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHZhcmlhdGlvbnMubGVuZ3RoID4gMDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogcmV0dXJucyB0cnVlLCBpZiB0aGUgc2VsZWN0aW9uIHdpdGggYSBuZXcgdW5pdElkIHdvdWxkIGJlIHZhbGlkXG4gICAgICAgICAqIEBwYXJhbSB7W251bWJlciwgc3RyaW5nXX0gdW5pdElkXG4gICAgICAgICAqL1xuICAgICAgICBpc1VuaXRTZWxlY3Rpb25WYWxpZCh1bml0SWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVuaXRJZCA9IHBhcnNlSW50KHVuaXRJZCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFVuaXQgPT09IHVuaXRJZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgICAgICAgICAgICAuZmlsdGVyVmFyaWF0aW9ucyhudWxsLCB1bml0SWQpXG4gICAgICAgICAgICAgICAgLmZpbHRlcih2YXJpYXRpb24gPT4gdmFyaWF0aW9uLmlzU2FsYWJsZSlcbiAgICAgICAgICAgICAgICAubGVuZ3RoID4gMFxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkaXNwYXRjaCB2dWV4IGFjdGlvbiAnbG9hZFZhcmlhdGlvbicgdG8gYXJjaGl2ZSBhIHZhcmlhdGlvblxuICAgICAgICAgKiBkaXNwYXRjaGVzIGEgY3VzdG9tIGV2ZW50IG5hbWVkICdvblZhcmlhdGlvbkNoYW5nZWQnXG4gICAgICAgICAqIEBwYXJhbSB7W3N0cmluZywgbnVtYmVyLCBudWxsXX0gdmFyaWF0aW9uSWRcbiAgICAgICAgICovXG4gICAgICAgIHNldFZhcmlhdGlvbih2YXJpYXRpb25JZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFpc0RlZmluZWQodmFyaWF0aW9uSWQpICYmIHRoaXMuY3VycmVudFNlbGVjdGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXJpYXRpb25JZCA9IHRoaXMuY3VycmVudFNlbGVjdGlvbi52YXJpYXRpb25JZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZCh2YXJpYXRpb25JZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goYCR7dGhpcy5pdGVtSWR9L2xvYWRWYXJpYXRpb25gLCB2YXJpYXRpb25JZCkudGhlbih2YXJpYXRpb24gPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwib25WYXJpYXRpb25DaGFuZ2VkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB2YXJpYXRpb24uYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50czogdmFyaWF0aW9uLmRvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1JZDogdGhpcy5pdGVtSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGlzVGV4dEN1dChjb250ZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy4kcmVmcy5hdHRyaWJ1dGVzQ29udGFuZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRleHRXaWR0aChjb250ZW50LCBcIkN1c3RvbS1Gb250LCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmXCIpID4gdGhpcy4kcmVmcy5hdHRyaWJ1dGVzQ29udGFuZXJbMF0uY2xpZW50V2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcblxuICAgICAgICBnZXRTZWxlY3RlZEF0dHJpYnV0ZVZhbHVlTmFtZShhdHRyaWJ1dGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQXR0cmlidXRlVmFsdWVJZCA9ICB0aGlzLnNlbGVjdGVkQXR0cmlidXRlc1thdHRyaWJ1dGUuYXR0cmlidXRlSWRdO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRBdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZS52YWx1ZXMuZmluZChhdHRyVmFsdWUgPT4gYXR0clZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQgPT09IHNlbGVjdGVkQXR0cmlidXRlVmFsdWVJZCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEF0dHJpYnV0ZVZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZEF0dHJpYnV0ZVZhbHVlLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcHAuY29uZmlnLml0ZW0uc2hvd1BsZWFzZVNlbGVjdCAmJiBzZWxlY3RlZEF0dHJpYnV0ZVZhbHVlSWQgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbVBsZWFzZVNlbGVjdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLiR0cmFuc2xhdGUoXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbU5vU2VsZWN0aW9uXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHRyYW5zZm9ybVBvc3NpYmxlVW5pdHMocG9zc2libGVVbml0cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHBvc3NpYmxlVW5pdHMpLnNvcnQoKHVuaXRBLCB1bml0QikgPT4ge1xuICAgICAgICAgICAgICAgIHVuaXRBID0gdGhpcy5zcGxpdFVuaXROYW1lKHVuaXRBWzFdKTtcbiAgICAgICAgICAgICAgICB1bml0QiA9IHRoaXMuc3BsaXRVbml0TmFtZSh1bml0QlsxXSk7XG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgYnkgdW5pdFxuICAgICAgICAgICAgICAgIGlmICh1bml0QVsxXSA8IHVuaXRCWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVuaXRBWzFdID4gdW5pdEJbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IGNvbnRlbnQgKGNvdW50KVxuICAgICAgICAgICAgICAgIGlmICh1bml0QVswXSA8IHVuaXRCWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHVuaXRBWzBdID4gdW5pdEJbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNwbGl0VW5pdE5hbWUodW5pdE5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHVuaXROYW1lU3BsaXQgPSB1bml0TmFtZS5zcGxpdChcIiBcIik7XG5cbiAgICAgICAgICAgIGlmICghaXNOYU4odW5pdE5hbWVTcGxpdFswXSkpIHtcbiAgICAgICAgICAgICAgICB1bml0TmFtZVNwbGl0WzBdID0gdW5pdE5hbWVTcGxpdFswXS5yZXBsYWNlKEFwcC5jdXJyZW5jeVBhdHRlcm4uc2VwYXJhdG9yX3Rob3VzYW5kcywgXCJcIik7XG4gICAgICAgICAgICAgICAgdW5pdE5hbWVTcGxpdFswXSA9IHBhcnNlSW50KHVuaXROYW1lU3BsaXRbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5pdE5hbWVTcGxpdDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB3YXRjaDpcbiAgICB7XG4gICAgICAgIGN1cnJlbnRTZWxlY3Rpb24odmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdChgJHt0aGlzLml0ZW1JZH0vdmFyaWF0aW9uU2VsZWN0L3NldElzVmFyaWF0aW9uU2VsZWN0ZWRgLCAhIXZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmFyaWF0aW9ucygpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWCB1bnNldCB2YXJpYXRpb24gY2FjaGUgYWZ0ZXIgc3Vic2VxdWVudCB2YXJpYXRpb25zIGFyZSBsb2FkZWRcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRWYXJpYXRpb25zQ2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbn1cbjwvc2NyaXB0PlxuIl0sIm5hbWVzIjpbIm5hbWUiLCJwcm9wcyIsImZvcmNlQ29udGVudCIsInR5cGUiLCJkZWZhdWx0IiwiaW5qZWN0IiwiaXRlbUlkIiwiZGF0YSIsImZpbHRlcmVkVmFyaWF0aW9uc0NhY2hlIiwibGFzdENvbnRlbnRDb3VudCIsIm1vdW50ZWQiLCJjb21wdXRlZCIsImN1cnJlbnRWYXJpYXRpb24iLCJjdXJyZW50VmFyaWF0aW9uU2VsZWN0IiwiaGFzRW1wdHlPcHRpb24iLCJhZGRQbGVhc2VTZWxlY3RPcHRpb24iLCJjdXJyZW50U2VsZWN0aW9uIiwicG9zc2libGVVbml0cyIsInZhcmlhdGlvbnMiLCJ2YXJpYXRpb24iLCJwb3NzaWJsZVVuaXRDb21iaW5hdGlvbklkcyIsImlzQ29udGVudFZpc2libGUiLCJoYXNTZWxlY3Rpb24iLCJhdHRyaWJ1dGVzIiwic2VsZWN0ZWRBdHRyaWJ1dGVzIiwic2VsZWN0ZWRVbml0IiwibWV0aG9kcyIsInNlbGVjdEF0dHJpYnV0ZSIsImF0dHJpYnV0ZVZhbHVlSWQiLCJhdHRyaWJ1dGVJZCIsInNlbGVjdFVuaXQiLCJ1bml0SWQiLCJvblNlbGVjdGlvbkNoYW5nZSIsInVuc2V0SW52YWxpZFNlbGVjdGlvbiIsImdldFRvb2x0aXAiLCJhdHRyaWJ1dGUiLCJ2YWx1ZSIsImdldEludmFsaWRPcHRpb25Ub29sdGlwIiwiaW52YWxpZFNlbGVjdGlvbnMiLCJpbnZhbGlkU2VsZWN0aW9uIiwibmFtZXMiLCJnZXRRdWFsaWZpZWRWYXJpYXRpb25zIiwiZ2V0Q2xvc2VzdFZhcmlhdGlvbnMiLCJxdWFsaWZpZWRWYXJpYXRpb25zIiwiY2hhbmdlcyIsImNsb3Nlc3RTYWxhYmxlVmFyaWF0aW9uIiwibnVtYmVyT2ZTYWxhYmxlQ2hhbmdlcyIsImNsb3Nlc3ROb25TYWxhYmxlVmFyaWF0aW9uIiwibnVtYmVyT2ZOb25TYWxhYmxlQ2hhbmdlcyIsImdldEludmFsaWRTZWxlY3Rpb25CeVZhcmlhdGlvbiIsInNlbGVjdGVkQXR0cmlidXRlSWQiLCJhdHRyaWJ1dGVzVG9SZXNldCIsIm5ld1VuaXQiLCJjb3JyZWN0U2VsZWN0aW9uIiwiYXR0cmlidXRlVG9SZXNldCIsIm1lc3NhZ2VzIiwiTm90aWZpY2F0aW9uU2VydmljZSIsImZpbHRlclZhcmlhdGlvbnMiLCJzdHJpY3QiLCJpZ25vcmVVbml0IiwidmFyaWF0aW9uQXR0cmlidXRlIiwiaXNBdHRyaWJ1dGVTZWxlY3Rpb25WYWxpZCIsImlzVW5pdFNlbGVjdGlvblZhbGlkIiwiZmlsdGVyIiwibGVuZ3RoIiwic2V0VmFyaWF0aW9uIiwidmFyaWF0aW9uSWQiLCJkb2N1bWVudCIsImRldGFpbCIsImRvY3VtZW50cyIsImlzVGV4dEN1dCIsImdldFNlbGVjdGVkQXR0cmlidXRlVmFsdWVOYW1lIiwidHJhbnNmb3JtUG9zc2libGVVbml0cyIsInVuaXRBIiwidW5pdEIiLCJzcGxpdFVuaXROYW1lIiwidW5pdE5hbWVTcGxpdCIsIndhdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&\n");

/***/ }),

/***/ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"render\": function() { return /* binding */ render; },\n/* harmony export */   \"staticRenderFns\": function() { return /* binding */ staticRenderFns; }\n/* harmony export */ });\nvar render = function render() {\n  var _vm = this,\n    _c = _vm._self._c;\n  return _c(\"div\", {\n    staticClass: \"row\"\n  }, [_vm.attributes.length || _vm.possibleUnitCombinationIds.length > 1 && _vm.isContentVisible ? [_vm._l(_vm.attributes, function (attribute, index) {\n    return _c(\"div\", {\n      key: index,\n      staticClass: \"col-12 variation-select\"\n    }, [attribute.type === \"dropdown\" ? _c(\"div\", {\n      ref: \"attributesContaner\",\n      refInFor: true,\n      staticClass: \"input-unit\"\n    }, [_c(\"select\", {\n      staticClass: \"custom-select\",\n      attrs: {\n        id: \"custom-select_\" + attribute.name,\n        \"data-testing\": \"variation-select-dropdown\"\n      },\n      on: {\n        change: function change($event) {\n          return _vm.selectAttribute(attribute.attributeId, $event.target.value);\n        }\n      }\n    }, [_vm.addPleaseSelectOption || !_vm.hasSelection ? _c(\"option\", {\n      domProps: {\n        value: -1\n      }\n    }, [_vm._v(_vm._s(_vm.$translate(\"Ceres::Template.singleItemPleaseSelect\")))]) : _vm._e(), _vm._v(\" \"), _vm.hasEmptyOption || _vm.selectedAttributes[attribute.attributeId] === null ? _c(\"option\", {\n      domProps: {\n        value: null,\n        selected: _vm.selectedAttributes[attribute.attributeId] === null\n      }\n    }, [_vm._v(_vm._s(_vm.$translate(\"Ceres::Template.singleItemNoSelection\")))]) : _vm._e(), _vm._v(\" \"), _vm._l(attribute.values, function (value) {\n      return _c(\"option\", {\n        key: value.attributeValueId,\n        domProps: {\n          value: value.attributeValueId,\n          selected: value.attributeValueId === _vm.selectedAttributes[attribute.attributeId]\n        }\n      }, [_vm.isAttributeSelectionValid(attribute.attributeId, value.attributeValueId, true) ? [_vm._v(\"\\n                            \" + _vm._s(value.name) + \"\\n                        \")] : _vm.isAttributeSelectionValid(attribute.attributeId, value.attributeValueId, false) ? [_vm._v(\"\\n                            \" + _vm._s(_vm.$translate(\"Ceres::Template.singleItemNotSalableAttribute\", {\n        name: value.name\n      })) + \"\\n                        \")] : [_vm._v(\"\\n                            \" + _vm._s(_vm.$translate(\"Ceres::Template.singleItemInvalidAttribute\", {\n        name: value.name\n      })) + \"\\n                        \")]], 2);\n    })], 2), _vm._v(\" \"), _c(\"label\", {\n      directives: [{\n        name: \"tooltip\",\n        rawName: \"v-tooltip\",\n        value: _vm.isTextCut(attribute.name),\n        expression: \"isTextCut(attribute.name)\"\n      }],\n      attrs: {\n        for: \"custom-select_\" + attribute.name,\n        \"data-toggle\": \"tooltip\",\n        \"data-placement\": \"top\",\n        title: attribute.name,\n        \"data-testing\": \"variation-select-dropdown-label\"\n      }\n    }, [_vm._v(_vm._s(attribute.name))])]) : attribute.type === \"box\" || attribute.type === \"image\" ? _c(\"div\", [_c(\"span\", {\n      staticClass: \"text-muted\",\n      attrs: {\n        \"data-testing\": \"attribute-name\"\n      }\n    }, [_vm._v(_vm._s(attribute.name) + \":\")]), _vm._v(\" \"), _c(\"b\", {\n      attrs: {\n        \"data-testing\": \"attribute-value\"\n      }\n    }, [_vm._v(_vm._s(_vm.getSelectedAttributeValueName(attribute)))]), _vm._v(\" \"), _c(\"div\", {\n      staticClass: \"v-s-boxes py-3\",\n      class: {\n        images: attribute.type === \"image\"\n      }\n    }, [_vm.addPleaseSelectOption ? _c(\"div\", {\n      staticClass: \"v-s-box bg-white empty-option\",\n      class: {\n        active: _vm.selectedAttributes[attribute.attributeId] === -1,\n        invalid: !_vm.isAttributeSelectionValid(attribute.attributeId, -1)\n      },\n      attrs: {\n        \"data-testing\": \"variation-select-box\"\n      },\n      on: {\n        click: function click($event) {\n          return _vm.selectAttribute(attribute.attributeId, -1);\n        }\n      }\n    }, [_c(\"span\", {\n      staticClass: \"mx-3\"\n    }, [_vm._v(_vm._s(_vm.$translate(\"Ceres::Template.singleItemPleaseSelect\")))])]) : _vm._e(), _vm._v(\" \"), _vm.hasEmptyOption ? _c(\"div\", {\n      staticClass: \"v-s-box bg-white empty-option\",\n      class: {\n        active: _vm.selectedAttributes[attribute.attributeId] === null,\n        invalid: !_vm.isAttributeSelectionValid(attribute.attributeId, null, true)\n      },\n      attrs: {\n        \"data-testing\": \"variation-select-box\"\n      },\n      on: {\n        click: function click($event) {\n          return _vm.selectAttribute(attribute.attributeId, null);\n        }\n      }\n    }, [_c(\"span\", {\n      staticClass: \"mx-3\"\n    }, [_vm._v(_vm._s(_vm.$translate(\"Ceres::Template.singleItemNoSelection\")))])]) : _vm._e(), _vm._v(\" \"), _vm._l(attribute.values, function (value) {\n      return _c(\"div\", {\n        directives: [{\n          name: \"tooltip\",\n          rawName: \"v-tooltip\",\n          value: true,\n          expression: \"true\"\n        }],\n        key: value.attributeValueId,\n        staticClass: \"v-s-box bg-white\",\n        class: {\n          active: value.attributeValueId === _vm.selectedAttributes[attribute.attributeId],\n          invalid: !_vm.isAttributeSelectionValid(attribute.attributeId, value.attributeValueId, true)\n        },\n        attrs: {\n          \"data-testing\": \"variation-select-box\",\n          \"data-html\": \"true\",\n          \"data-toggle\": \"tooltip\",\n          \"data-placement\": \"top\",\n          \"data-original-title\": _vm.getTooltip(attribute, value)\n        },\n        on: {\n          click: function click($event) {\n            return _vm.selectAttribute(attribute.attributeId, value.attributeValueId);\n          }\n        }\n      }, [attribute.type === \"box\" ? _c(\"span\", {\n        staticClass: \"mx-3\"\n      }, [_vm._v(_vm._s(value.name))]) : _c(\"img\", {\n        staticClass: \"p-1\",\n        attrs: {\n          src: value.imageUrl,\n          alt: value.name\n        }\n      })]);\n    })], 2)]) : _vm._e()]);\n  }), _vm._v(\" \"), _vm.possibleUnitCombinationIds.length > 1 && _vm.isContentVisible ? _c(\"div\", {\n    staticClass: \"col-12 variation-select\"\n  }, [_c(\"div\", {\n    staticClass: \"input-unit\"\n  }, [_c(\"select\", {\n    staticClass: \"custom-select\",\n    attrs: {\n      id: \"unit-combination-ids-select\",\n      \"data-testing\": \"variation-select-unit\"\n    },\n    on: {\n      change: function change($event) {\n        return _vm.selectUnit($event.target.value);\n      }\n    }\n  }, _vm._l(_vm.possibleUnitCombinationIds, function (unitCombinationId) {\n    return _c(\"option\", {\n      key: unitCombinationId,\n      domProps: {\n        value: unitCombinationId,\n        selected: parseInt(unitCombinationId) === _vm.selectedUnit\n      }\n    }, [_vm.isUnitSelectionValid(unitCombinationId) ? [_vm._v(\"\\n                            \" + _vm._s(_vm.possibleUnits[unitCombinationId]) + \"\\n                        \")] : [_vm._v(\"\\n                            \" + _vm._s(_vm.$translate(\"Ceres::Template.singleItemInvalidAttribute\", {\n      name: _vm.possibleUnits[unitCombinationId]\n    })) + \"\\n                        \")]], 2);\n  }), 0), _vm._v(\" \"), _c(\"label\", {\n    attrs: {\n      for: \"unit-combination-ids-select\",\n      \"data-testing\": \"variation-select-unit-label\"\n    }\n  }, [_vm._v(_vm._s(_vm.$translate(\"Ceres::Template.singleItemContent\")))])])]) : _vm._e()] : [_vm._t(\"default\")]], 2);\n};\nvar staticRenderFns = [];\nrender._withStripped = true;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC01LnVzZSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzJdIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00YTkzOWQwNSYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxJQUFJQSxNQUFNLEdBQUcsU0FBU0EsTUFBTSxHQUFHO0VBQzdCLElBQUlDLEdBQUcsR0FBRyxJQUFJO0lBQ1pDLEVBQUUsR0FBR0QsR0FBRyxDQUFDRSxLQUFLLENBQUNELEVBQUU7RUFDbkIsT0FBT0EsRUFBRSxDQUNQLEtBQUssRUFDTDtJQUFFRSxXQUFXLEVBQUU7RUFBTSxDQUFDLEVBQ3RCLENBQ0VILEdBQUcsQ0FBQ0ksVUFBVSxDQUFDQyxNQUFNLElBQ3BCTCxHQUFHLENBQUNNLDBCQUEwQixDQUFDRCxNQUFNLEdBQUcsQ0FBQyxJQUFJTCxHQUFHLENBQUNPLGdCQUFpQixHQUMvRCxDQUNFUCxHQUFHLENBQUNRLEVBQUUsQ0FBQ1IsR0FBRyxDQUFDSSxVQUFVLEVBQUUsVUFBVUssU0FBUyxFQUFFQyxLQUFLLEVBQUU7SUFDakQsT0FBT1QsRUFBRSxDQUNQLEtBQUssRUFDTDtNQUFFVSxHQUFHLEVBQUVELEtBQUs7TUFBRVAsV0FBVyxFQUFFO0lBQTBCLENBQUMsRUFDdEQsQ0FDRU0sU0FBUyxDQUFDRyxJQUFJLEtBQUssVUFBVSxHQUN6QlgsRUFBRSxDQUNBLEtBQUssRUFDTDtNQUNFWSxHQUFHLEVBQUUsb0JBQW9CO01BQ3pCQyxRQUFRLEVBQUUsSUFBSTtNQUNkWCxXQUFXLEVBQUU7SUFDZixD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RTtNQUNMMkIsR0FBRyxFQUFFLDZCQUE2QjtNQUNsQyxjQUFjLEVBQUU7SUFDbEI7RUFDRixDQUFDLEVBQ0QsQ0FDRTFDLEdBQUcsQ0FBQzRCLEVBQUUsQ0FDSjVCLEdBQUcsQ0FBQzZCLEVBQUUsQ0FDSjdCLEdBQUcsQ0FBQzhCLFVBQVUsQ0FBQyxtQ0FBbUMsQ0FBQyxDQUNwRCxDQUNGLENBQ0YsQ0FDRixDQUNGLENBQUMsQ0FDSCxDQUFDLEdBQ0Y5QixHQUFHLENBQUMrQixFQUFFLEVBQUUsQ0FDYixHQUNELENBQUMvQixHQUFHLENBQUM0RCxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FDeEIsRUFDRCxDQUFDLENBQ0Y7QUFDSCxDQUFDO0FBQ0QsSUFBSUMsZUFBZSxHQUFHLEVBQUU7QUFDeEI5RCxNQUFNLENBQUMrRCxhQUFhLEdBQUcsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL0NlcmVzLy4vcmVzb3VyY2VzL2pzL3NyYy9hcHAvY29tcG9uZW50cy9pdGVtL1ZhcmlhdGlvblNlbGVjdC52dWU/ZTY3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgX3ZtID0gdGhpcyxcbiAgICBfYyA9IF92bS5fc2VsZi5fY1xuICByZXR1cm4gX2MoXG4gICAgXCJkaXZcIixcbiAgICB7IHN0YXRpY0NsYXNzOiBcInJvd1wiIH0sXG4gICAgW1xuICAgICAgX3ZtLmF0dHJpYnV0ZXMubGVuZ3RoIHx8XG4gICAgICAoX3ZtLnBvc3NpYmxlVW5pdENvbWJpbmF0aW9uSWRzLmxlbmd0aCA+IDEgJiYgX3ZtLmlzQ29udGVudFZpc2libGUpXG4gICAgICAgID8gW1xuICAgICAgICAgICAgX3ZtLl9sKF92bS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoYXR0cmlidXRlLCBpbmRleCkge1xuICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IGtleTogaW5kZXgsIHN0YXRpY0NsYXNzOiBcImNvbC0xMiB2YXJpYXRpb24tc2VsZWN0XCIgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSA9PT0gXCJkcm9wZG93blwiXG4gICAgICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IFwiYXR0cmlidXRlc0NvbnRhbmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlZkluRm9yOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJpbnB1dC11bml0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImN1c3RvbS1zZWxlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImN1c3RvbS1zZWxlY3RfXCIgKyBhdHRyaWJ1dGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXRlc3RpbmdcIjogXCJ2YXJpYXRpb24tc2VsZWN0LWRyb3Bkb3duXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5zZWxlY3RBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5hZGRQbGVhc2VTZWxlY3RPcHRpb24gfHwgIV92bS5oYXNTZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcIm9wdGlvblwiLCB7IGRvbVByb3BzOiB7IHZhbHVlOiAtMSB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kdHJhbnNsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDZXJlczo6VGVtcGxhdGUuc2luZ2xlSXRlbVBsZWFzZVNlbGVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmhhc0VtcHR5T3B0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBdHRyaWJ1dGVzW2F0dHJpYnV0ZS5hdHRyaWJ1dGVJZF0gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uc2VsZWN0ZWRBdHRyaWJ1dGVzW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0gPT09IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiR0cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob1NlbGVjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX2woYXR0cmlidXRlLnZhbHVlcywgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdmFsdWUuYXR0cmlidXRlVmFsdWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEF0dHJpYnV0ZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5pc0F0dHJpYnV0ZVNlbGVjdGlvblZhbGlkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmF0dHJpYnV0ZVZhbHVlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3ModmFsdWUubmFtZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5pc0F0dHJpYnV0ZVNlbGVjdGlvblZhbGlkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuYXR0cmlidXRlVmFsdWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kdHJhbnNsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNlcmVzOjpUZW1wbGF0ZS5zaW5nbGVJdGVtTm90U2FsYWJsZUF0dHJpYnV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IHZhbHVlLm5hbWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kdHJhbnNsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNlcmVzOjpUZW1wbGF0ZS5zaW5nbGVJdGVtSW52YWxpZEF0dHJpYnV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IHZhbHVlLm5hbWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInRvb2x0aXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXdOYW1lOiBcInYtdG9vbHRpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdm0uaXNUZXh0Q3V0KGF0dHJpYnV0ZS5uYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcImlzVGV4dEN1dChhdHRyaWJ1dGUubmFtZSlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3I6IFwiY3VzdG9tLXNlbGVjdF9cIiArIGF0dHJpYnV0ZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtdG9nZ2xlXCI6IFwidG9vbHRpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtcGxhY2VtZW50XCI6IFwidG9wXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhdHRyaWJ1dGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXRlc3RpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhcmlhdGlvbi1zZWxlY3QtZHJvcGRvd24tbGFiZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyhhdHRyaWJ1dGUubmFtZSkpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiBhdHRyaWJ1dGUudHlwZSA9PT0gXCJib3hcIiB8fCBhdHRyaWJ1dGUudHlwZSA9PT0gXCJpbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgID8gX2MoXCJkaXZcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidGV4dC1tdXRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwiZGF0YS10ZXN0aW5nXCI6IFwiYXR0cmlidXRlLW5hbWVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbX3ZtLl92KF92bS5fcyhhdHRyaWJ1dGUubmFtZSkgKyBcIjpcIildXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhdHRyczogeyBcImRhdGEtdGVzdGluZ1wiOiBcImF0dHJpYnV0ZS12YWx1ZVwiIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmdldFNlbGVjdGVkQXR0cmlidXRlVmFsdWVOYW1lKGF0dHJpYnV0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidi1zLWJveGVzIHB5LTNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogeyBpbWFnZXM6IGF0dHJpYnV0ZS50eXBlID09PSBcImltYWdlXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5hZGRQbGVhc2VTZWxlY3RPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2LXMtYm94IGJnLXdoaXRlIGVtcHR5LW9wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEF0dHJpYnV0ZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdID09PSAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZDogIV92bS5pc0F0dHJpYnV0ZVNlbGVjdGlvblZhbGlkKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5hdHRyaWJ1dGVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwidmFyaWF0aW9uLXNlbGVjdC1ib3hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc2VsZWN0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgc3RhdGljQ2xhc3M6IFwibXgtM1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kdHJhbnNsYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNlcmVzOjpUZW1wbGF0ZS5zaW5nbGVJdGVtUGxlYXNlU2VsZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX3ZtLl9lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uaGFzRW1wdHlPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2LXMtYm94IGJnLXdoaXRlIGVtcHR5LW9wdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5zZWxlY3RlZEF0dHJpYnV0ZXNbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdID09PSBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkOiAhX3ZtLmlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwidmFyaWF0aW9uLXNlbGVjdC1ib3hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc2VsZWN0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJteC0zXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiR0cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Ob1NlbGVjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKGF0dHJpYnV0ZS52YWx1ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcInRvb2x0aXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LXRvb2x0aXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb246IFwidHJ1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdmFsdWUuYXR0cmlidXRlVmFsdWVJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczogXCJ2LXMtYm94IGJnLXdoaXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuYXR0cmlidXRlVmFsdWVJZCA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkQXR0cmlidXRlc1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWQ6ICFfdm0uaXNBdHRyaWJ1dGVTZWxlY3Rpb25WYWxpZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLmF0dHJpYnV0ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5hdHRyaWJ1dGVWYWx1ZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS10ZXN0aW5nXCI6IFwidmFyaWF0aW9uLXNlbGVjdC1ib3hcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1odG1sXCI6IFwidHJ1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXRvZ2dsZVwiOiBcInRvb2x0aXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1wbGFjZW1lbnRcIjogXCJ0b3BcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1vcmlnaW5hbC10aXRsZVwiOiBfdm0uZ2V0VG9vbHRpcChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLnNlbGVjdEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuYXR0cmlidXRlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuYXR0cmlidXRlVmFsdWVJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUudHlwZSA9PT0gXCJib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYyhcInNwYW5cIiwgeyBzdGF0aWNDbGFzczogXCJteC0zXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3ModmFsdWUubmFtZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBfYyhcImltZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicC0xXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogdmFsdWUuaW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ6IHZhbHVlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMlxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgX3ZtLnBvc3NpYmxlVW5pdENvbWJpbmF0aW9uSWRzLmxlbmd0aCA+IDEgJiYgX3ZtLmlzQ29udGVudFZpc2libGVcbiAgICAgICAgICAgICAgPyBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImNvbC0xMiB2YXJpYXRpb24tc2VsZWN0XCIgfSwgW1xuICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJpbnB1dC11bml0XCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImN1c3RvbS1zZWxlY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcInVuaXQtY29tYmluYXRpb24taWRzLXNlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtdGVzdGluZ1wiOiBcInZhcmlhdGlvbi1zZWxlY3QtdW5pdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uc2VsZWN0VW5pdCgkZXZlbnQudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIF92bS5fbChcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5wb3NzaWJsZVVuaXRDb21iaW5hdGlvbklkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh1bml0Q29tYmluYXRpb25JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHVuaXRDb21iaW5hdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tUHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuaXRDb21iaW5hdGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUludCh1bml0Q29tYmluYXRpb25JZCkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnNlbGVjdGVkVW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uaXNVbml0U2VsZWN0aW9uVmFsaWQodW5pdENvbWJpbmF0aW9uSWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnBvc3NpYmxlVW5pdHNbdW5pdENvbWJpbmF0aW9uSWRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLiR0cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1JbnZhbGlkQXR0cmlidXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBfdm0ucG9zc2libGVVbml0c1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRDb21iaW5hdGlvbklkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImxhYmVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yOiBcInVuaXQtY29tYmluYXRpb24taWRzLXNlbGVjdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtdGVzdGluZ1wiOiBcInZhcmlhdGlvbi1zZWxlY3QtdW5pdC1sYWJlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9zKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kdHJhbnNsYXRlKFwiQ2VyZXM6OlRlbXBsYXRlLnNpbmdsZUl0ZW1Db250ZW50XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgOiBfdm0uX2UoKSxcbiAgICAgICAgICBdXG4gICAgICAgIDogW192bS5fdChcImRlZmF1bHRcIildLFxuICAgIF0sXG4gICAgMlxuICApXG59XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9Il0sIm5hbWVzIjpbInJlbmRlciIsIl92bSIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsImF0dHJpYnV0ZXMiLCJsZW5ndGgiLCJwb3NzaWJsZVVuaXRDb21iaW5hdGlvbklkcyIsImlzQ29udGVudFZpc2libGUiLCJfbCIsImF0dHJpYnV0ZSIsImluZGV4Iiwia2V5IiwidHlwZSIsInJlZiIsInJlZkluRm9yIiwiYXR0cnMiLCJpZCIsIm5hbWUiLCJvbiIsImNoYW5nZSIsIiRldmVudCIsInNlbGVjdEF0dHJpYnV0ZSIsImF0dHJpYnV0ZUlkIiwidGFyZ2V0IiwidmFsdWUiLCJhZGRQbGVhc2VTZWxlY3RPcHRpb24iLCJoYXNTZWxlY3Rpb24iLCJkb21Qcm9wcyIsIl92IiwiX3MiLCIkdHJhbnNsYXRlIiwiX2UiLCJoYXNFbXB0eU9wdGlvbiIsInNlbGVjdGVkQXR0cmlidXRlcyIsInNlbGVjdGVkIiwidmFsdWVzIiwiYXR0cmlidXRlVmFsdWVJZCIsImlzQXR0cmlidXRlU2VsZWN0aW9uVmFsaWQiLCJkaXJlY3RpdmVzIiwicmF3TmFtZSIsImlzVGV4dEN1dCIsImV4cHJlc3Npb24iLCJmb3IiLCJ0aXRsZSIsImdldFNlbGVjdGVkQXR0cmlidXRlVmFsdWVOYW1lIiwiY2xhc3MiLCJpbWFnZXMiLCJhY3RpdmUiLCJpbnZhbGlkIiwiY2xpY2siLCJnZXRUb29sdGlwIiwic3JjIiwiaW1hZ2VVcmwiLCJhbHQiLCJzZWxlY3RVbml0IiwidW5pdENvbWJpbmF0aW9uSWQiLCJwYXJzZUludCIsInNlbGVjdGVkVW5pdCIsImlzVW5pdFNlbGVjdGlvblZhbGlkIiwicG9zc2libGVVbml0cyIsIl90Iiwic3RhdGljUmVuZGVyRm5zIiwiX3dpdGhTdHJpcHBlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05&\n");

/***/ }),

/***/ "./resources/js/src/app/components/item/VariationSelect.vue":
/*!******************************************************************!*\
  !*** ./resources/js/src/app/components/item/VariationSelect.vue ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./VariationSelect.vue?vue&type=template&id=4a939d05& */ \"./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05&\");\n/* harmony import */ var _VariationSelect_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./VariationSelect.vue?vue&type=script&lang=js& */ \"./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&\");\n/* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n;\nvar component = (0,_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _VariationSelect_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__.render,\n  _VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"resources/js/src/app/components/item/VariationSelect.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQThGO0FBQzNCO0FBQ0w7OztBQUc5RDtBQUNBLENBQXNHO0FBQ3RHLGdCQUFnQix1R0FBVTtBQUMxQixFQUFFLHFGQUFNO0FBQ1IsRUFBRSx1RkFBTTtBQUNSLEVBQUUsZ0dBQWU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxLQUFVLEVBQUUsWUFpQmY7QUFDRDtBQUNBLCtEQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZT80NzkyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vVmFyaWF0aW9uU2VsZWN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00YTkzOWQwNSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9WYXJpYXRpb25TZWxlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9WYXJpYXRpb25TZWxlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5cblxuLyogbm9ybWFsaXplIGNvbXBvbmVudCAqL1xuaW1wb3J0IG5vcm1hbGl6ZXIgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzXCJcbnZhciBjb21wb25lbnQgPSBub3JtYWxpemVyKFxuICBzY3JpcHQsXG4gIHJlbmRlcixcbiAgc3RhdGljUmVuZGVyRm5zLFxuICBmYWxzZSxcbiAgbnVsbCxcbiAgbnVsbCxcbiAgbnVsbFxuICBcbilcblxuLyogaG90IHJlbG9hZCAqL1xuaWYgKG1vZHVsZS5ob3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVpcmUoXCIvVXNlcnMvbHVrYXNtYXR6ZW4vd29ya3NwYWNlMi9wbHVnaW5zL0NlcmVzL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzRhOTM5ZDA1JykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzRhOTM5ZDA1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzRhOTM5ZDA1JywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9WYXJpYXRpb25TZWxlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTRhOTM5ZDA1JlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzRhOTM5ZDA1Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJyZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZVwiXG5leHBvcnQgZGVmYXVsdCBjb21wb25lbnQuZXhwb3J0cyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/src/app/components/item/VariationSelect.vue\n");

/***/ }),

/***/ "./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************!*\
  !*** ./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_node_modules_vue_loader_lib_index_js_vue_loader_options_VariationSelect_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariationSelect.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&\");\n /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_node_modules_vue_loader_lib_index_js_vue_loader_options_VariationSelect_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYuanMiLCJtYXBwaW5ncyI6Ijs7QUFBNE4sQ0FBQywrREFBZSx3TUFBRyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQ2VyZXMvLi9yZXNvdXJjZXMvanMvc3JjL2FwcC9jb21wb25lbnRzL2l0ZW0vVmFyaWF0aW9uU2VsZWN0LnZ1ZT9mM2E2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtNS51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9WYXJpYXRpb25TZWxlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzPz9jbG9uZWRSdWxlU2V0LTUudXNlIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vVmFyaWF0aW9uU2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./resources/js/src/app/components/item/VariationSelect.vue?vue&type=script&lang=js&\n");

/***/ }),

/***/ "./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05&":
/*!*************************************************************************************************!*\
  !*** ./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05& ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": function() { return /* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_node_modules_vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_lib_index_js_vue_loader_options_VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__.render; },
/* harmony export */   "staticRenderFns": function() { return /* reexport safe */ _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_node_modules_vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_lib_index_js_vue_loader_options_VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns; }
/* harmony export */ });
/* harmony import */ var _node_modules_babel_loader_lib_index_js_clonedRuleSet_5_use_node_modules_vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_node_modules_vue_loader_lib_index_js_vue_loader_options_VariationSelect_vue_vue_type_template_id_4a939d05___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VariationSelect.vue?vue&type=template&id=4a939d05& */ "./node_modules/babel-loader/lib/index.js??clonedRuleSet-5.use!./node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!./node_modules/vue-loader/lib/index.js??vue-loader-options!./resources/js/src/app/components/item/VariationSelect.vue?vue&type=template&id=4a939d05&");


/***/ })

}]);