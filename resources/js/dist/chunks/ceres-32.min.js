(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{393:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{itemscope:"",itemtype:"http://schema.org/Thing"}},[i("div",{ref:"single",staticClass:"single-carousel owl-carousel owl-theme owl-single-item"},t._l(t.singleImages,(function(e){return i("div",{staticClass:"prop-1-1"},[i("a",{attrs:{href:e.url,"data-lightbox":"single-big-image-gallery"}},[i("img",{staticClass:"owl-lazy",attrs:{"data-src":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})])])})),0),t._v(" "),t.showThumbs?i("div",{ref:"thumbs",staticClass:"owl-thumbs owl-carousel owl-theme owl-single-item",attrs:{id:"thumb-carousel"}},t._l(t.carouselImages,(function(e,n){return i("div",{staticClass:"prop-1-1"},[i("div",{staticClass:"image-container",on:{click:function(e){return t.goTo(n)}}},[i("lazy-img",{staticClass:"owl-thumb border-appearance",class:{active:t.currentItem===n},attrs:{"image-url":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})],1)])})),0):t._e()])};n._withStripped=!0;i(7),i(3),i(27),i(20),i(58),i(111),i(45),i(46),i(49),i(50),i(31),i(21);var r=i(1),a=(i(339),i(16));function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={props:{maxQuantity:{type:Number,default:10},imageUrlAccessor:{type:String,default:"url"},showThumbs:{type:Boolean,default:!0},showDots:{type:Boolean,default:!0},animationStyle:{type:String,default:"standard"},pluginPath:{type:String,default:""}},data:function(){return{currentItem:0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({carouselImages:function(){return this.orderByPosition(this.$options.filters.itemImages(this.currentVariation.documents[0].data.images,"urlPreview")).slice(0,this.maxQuantity)},singleImages:function(){return this.orderByPosition(this.$options.filters.itemImages(this.currentVariation.documents[0].data.images,this.imageUrlAccessor)).slice(0,this.maxQuantity)}},Object(a.e)({currentVariation:function(t){return t.item.variation}})),watch:{currentVariation:{handler:function(t,e){var i=this;t!==e&&setTimeout((function(){i.reInitialize()}),1)},deep:!0}},created:function(){this.loadLightbox()},mounted:function(){var t=this;this.$nextTick((function(){t.initCarousel(),t.initThumbCarousel()}))},methods:{getImageCount:function(){return this.carouselImages.length>this.maxQuantity?this.maxQuantity:this.carouselImages.length},reInitialize:function(){var t=$(this.$refs.single);t.trigger("destroy.owl.carousel"),t.html(t.find(".owl-stage-outer").html()).removeClass("owl-loaded"),t.find(".owl-item").remove();var e=$(this.$refs.thumbs);e.trigger("destroy.owl.carousel"),e.html(e.find(".owl-stage-outer").html()).removeClass("owl-loaded"),e.find(".owl-item").remove(),this.initCarousel(),this.initThumbCarousel()},initCarousel:function(){var t=this,e=this.getImageCount(),i={autoHeight:!0,dots:this.showDots,items:1,lazyLoad:!0,loop:!0,margin:10,mouseDrag:e>1,nav:e>1,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350,onChanged:function(e){$(t.$refs.thumbs).trigger("to.owl.carousel",[e.page.index,350])}};if("standard"!==this.animationStyle&&(i.animateOut=this.animationStyle),$(this.$refs.single).owlCarousel(i),!Object(r.d)(window.lightbox)){lightbox.option({wrapAround:!0}),lightbox.imageCountLabel=function(i,n){if(Object(r.d)(e)||e<=1)return"";for(i-=(n-e)/2;i<=0;)i+=e;for(;i>e;)i-=e;return t.$translate("Ceres::Template.singleItemImagePreviewCaption",{current:i,total:e})};var n=lightbox.changeImage;lightbox.changeImage=function(t){return 0===lightbox.currentImageIndex&&t===lightbox.album.length-1?t--:lightbox.currentImageIndex===lightbox.album.length-1&&0===t&&t++,n.call(lightbox,t)}}$(this.$refs.single).on("changed.owl.carousel",(function(e){t.currentItem=e.page.index}))},initThumbCarousel:function(){$(this.$refs.thumbs).owlCarousel({autoHeight:!0,dots:!1,items:5,lazyLoad:!0,loop:!1,margin:10,mouseDrag:!1,center:!1,nav:!0,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350})},goTo:function(t){$(this.$refs.single).trigger("to.owl.carousel",[t,350])},orderByPosition:function(t){return t.sort((function(t,e){return t.position>e.position?1:t.position<e.position?-1:0}))},getAltText:function(t){return t&&t.alternate?t.alternate:this.$options.filters.itemName(this.currentVariation.documents[0].data)},getImageName:function(t){return t&&t.name?t.name:this.$options.filters.itemName(this.currentVariation.documents[0].data)},loadLightbox:function(){var t=this,e=this.pluginPath+"/js/dist/lightbox.min.js",i=document.createElement("script");i.type="text/javascript",i.src=e,i.addEventListener("load",(function(){return t.reInitialize()}),!1),i.addEventListener("error",(function(){return console.warn("lightbox could not be initialized")}),!1),document.body.appendChild(i)}}},u=i(9),c=Object(u.a)(l,n,[],!1,null,null,null);c.options.__file="resources/js/src/app/components/item/ItemImageCarousel.vue";e.default=c.exports}}]);
//# sourceMappingURL=ceres-32.min.js.map