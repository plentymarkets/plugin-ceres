(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{454:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e._self._c;return s("form",{ref:"resetPasswordForm",staticClass:"w-100 clearfix",attrs:{method:"post"}},[s("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"password"}},[s("div",{staticClass:"input-unit"},[s("popper",{ref:"passwordHint",attrs:{trigger:"focus",placement:"bottom"},scopedSlots:e._u([{key:"handle",fn:function(){return[s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordFirst,expression:"passwordFirst"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:e._uid+"password_first"},domProps:{value:e.passwordFirst},on:{input:function(s){s.target.composing||(e.passwordFirst=s.target.value)}}})]},proxy:!0},{key:"title",fn:function(){return[e._v("\n                    "+e._s(e.$translate("Ceres::Template.resetPwPasswordHintTitle"))+"\n                ")]},proxy:!0},{key:"content",fn:function(){return[s("ul",{staticClass:"pl-3"},[s("li",[e._v(e._s(e.$translate("Ceres::Template.resetPwPasswordHintLength")))]),e._v(" "),s("li",[e._v(e._s(e.$translate("Ceres::Template.resetPwPasswordHintDigit")))]),e._v(" "),s("li",[e._v(e._s(e.$translate("Ceres::Template.resetPwPasswordHintChar")))])])]},proxy:!0}])}),e._v(" "),s("label",{attrs:{for:e._uid+"password_first"}},[e._v(e._s(e.$translate("Ceres::Template.resetPwNewPassword"))+"*")])],1)]),e._v(" "),s("div",{staticClass:"input-feedback-container",attrs:{"data-validate":"ref"}},[s("div",{staticClass:"input-unit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordSecond,expression:"passwordSecond"}],attrs:{type:"password",name:"password",autocomplete:"new-password",id:e._uid+"password_second","data-validate-ref":"#"+e._uid+"password_first"},domProps:{value:e.passwordSecond},on:{input:function(s){s.target.composing||(e.passwordSecond=s.target.value)}}}),e._v(" "),s("label",{attrs:{for:e._uid+"password_second"}},[e._v(e._s(e.$translate("Ceres::Template.resetPwRepeatPassword"))+"*")])])]),e._v(" "),s("button",{staticClass:"btn btn-primary btn-appearance btn-large float-right",attrs:{disabled:e.isDisabled},on:{click:function(s){return s.preventDefault(),e.validatePassword.apply(null,arguments)}}},[s("span",[e._v(e._s(e.$translate("Ceres::Template.resetPwSave")))]),e._v(" "),s("i",{staticClass:"fa fa-floppy-o",attrs:{"aria-hidden":"true"}})])])};a._withStripped=!0;t(24);var r=t(46),o=t(30),n=t(1),i=t(10),d=t(18),l={name:"reset-password-form",props:{contactId:{type:Number,required:!0},hash:{type:String,required:!0}},data:function(){return{passwordFirst:"",passwordSecond:"",isDisabled:!1}},methods:{validatePassword:function(){var e=this;r.default.validate(this.$refs.resetPasswordForm).done((function(){e.saveNewPassword()})).fail((function(s){r.default.markInvalidFields(s,"has-error");var t=Object(n.e)(s[0])?null:s[0].dataset.validate;"password"===t?d.default.error(e.$translate("Ceres::Template.resetPwInvalidPassword")):"ref"===t&&d.default.error(e.$translate("Ceres::Template.resetPwRepeatNewPassword"))}))},saveNewPassword:function(){var e=this;this.isDisabled=!0,i.default.post("/rest/io/customer/password",{password:this.passwordFirst,password2:this.passwordSecond,contactId:this.contactId,hash:this.hash}).done((function(){Object(o.c)(window.location.origin),d.default.success(e.$translate("Ceres::Template.resetPwChangePasswordSuccessful")).closeAfter(3e3)})).fail((function(){e.isDisabled=!1,d.default.error(e.$translate("Ceres::Template.resetPwChangePasswordFailed")).closeAfter(5e3)}))}}},p=t(5),w=Object(p.a)(l,a,[],!1,null,null,null);s.default=w.exports}}]);
//# sourceMappingURL=ceres-27.min.js.map