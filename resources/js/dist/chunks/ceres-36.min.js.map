{"version":3,"file":"chunks/ceres-36.min.js","mappings":"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","sources":["webpack://Ceres/./resources/js/src/app/components/item/ItemImageCarousel.vue","webpack://Ceres/./resources/js/src/app/components/item/ItemImageCarousel.vue?bcbc","webpack://Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue","webpack://Ceres/./resources/js/src/app/components/item/ItemImageCarousel.vue?4598"],"sourcesContent":["var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\n    \"div\",\n    { attrs: { itemscope: \"\", itemtype: \"http://schema.org/Thing\" } },\n    [\n      [\n        _c(\n          \"div\",\n          {\n            ref: \"single\",\n            staticClass:\n              \"single-carousel owl-carousel owl-theme owl-single-item mt-0\",\n          },\n          _vm._l(_vm.singleImages, function (image) {\n            return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n              _c(\n                \"a\",\n                {\n                  attrs: {\n                    href: image.url,\n                    \"data-lightbox\": \"single-item-image\" + _vm._uid,\n                  },\n                },\n                [\n                  _c(\"img\", {\n                    staticClass: \"owl-lazy\",\n                    attrs: {\n                      \"data-src\": image.url,\n                      alt: _vm.getAltText(image),\n                      title: _vm.getImageName(image),\n                    },\n                  }),\n                ]\n              ),\n            ])\n          }),\n          0\n        ),\n        _vm._v(\" \"),\n        _vm.showThumbs\n          ? _c(\n              \"div\",\n              {\n                ref: \"thumbs\",\n                staticClass:\n                  \"owl-thumbs owl-carousel owl-theme owl-single-item\",\n                attrs: { id: \"thumb-carousel\" },\n              },\n              _vm._l(_vm.carouselImages, function (imagePreview, index) {\n                return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                  _c(\n                    \"div\",\n                    {\n                      staticClass: \"image-container\",\n                      on: {\n                        click: function ($event) {\n                          return _vm.goTo(index)\n                        },\n                      },\n                    },\n                    [\n                      _c(\"lazy-img\", {\n                        class: { active: _vm.currentItem === index },\n                        attrs: {\n                          \"picture-class\": \"owl-thumb border-appearance\",\n                          \"image-url\": imagePreview.url,\n                          alt: _vm.getAltText(imagePreview),\n                          title: _vm.getImageName(imagePreview),\n                        },\n                      }),\n                    ],\n                    1\n                  ),\n                ])\n              }),\n              0\n            )\n          : _vm._e(),\n      ],\n      _vm._v(\" \"),\n      !_vm.initialized\n        ? _c(\n            \"div\",\n            {\n              staticClass:\n                \"single-carousel owl-carousel owl-loaded owl-theme owl-single-item mt-0\",\n            },\n            [\n              _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                _c(\"img\", {\n                  staticClass: \"owl-placeholder\",\n                  attrs: {\n                    src: _vm.singleImages[0].url,\n                    alt: _vm.getAltText(_vm.singleImages[0].url),\n                    title: _vm.getImageName(_vm.singleImages[0].url),\n                  },\n                }),\n              ]),\n            ]\n          )\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-2.use!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"","<template>\n    <div itemscope itemtype=\"http://schema.org/Thing\">\n        <template>\n            <div class=\"single-carousel owl-carousel owl-theme owl-single-item mt-0\" ref=\"single\">\n                <div v-for=\"image in singleImages\" class=\"prop-1-1\">\n                    <a :href=\"image.url\" :data-lightbox=\"'single-item-image' + _uid\">\n                        <img class=\"owl-lazy\" :data-src=\"image.url\" :alt=\"getAltText(image)\" :title=\"getImageName(image)\">\n                    </a>\n                </div>\n            </div>\n            <div v-if=\"showThumbs\" id=\"thumb-carousel\" class=\"owl-thumbs owl-carousel owl-theme owl-single-item\" ref=\"thumbs\">\n                <div class=\"prop-1-1\" v-for=\"(imagePreview, index) in carouselImages\">\n                    <div class=\"image-container\" @click=\"goTo(index)\">\n                        <lazy-img\n                            picture-class=\"owl-thumb border-appearance\"\n                            v-bind:class=\"{ 'active': currentItem === index}\"\n                            :image-url=\"imagePreview.url\"\n                            :alt=\"getAltText(imagePreview)\"\n                            :title=\"getImageName(imagePreview)\">\n                        </lazy-img>\n                    </div>\n                </div>\n            </div>\n        </template>\n        <div v-if=\"!initialized\" class=\"single-carousel owl-carousel owl-loaded owl-theme owl-single-item mt-0\">\n            <div class=\"prop-1-1\">\n                <img\n                    class=\"owl-placeholder\"\n                    :src=\"singleImages[0].url\"\n                    :alt=\"getAltText(singleImages[0].url)\"\n                    :title=\"getImageName(singleImages[0].url)\"\n                >\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { isNullOrUndefined } from \"../../helper/utils\";\n\nexport default {\n    name: \"item-image-carousel\",\n\n    props: {\n        maxQuantity:\n        {\n            type: Number,\n            default: 10\n        },\n        imageUrlAccessor:\n        {\n            type: String,\n            default: \"url\"\n        },\n        showThumbs:\n        {\n            type: Boolean,\n            default: true\n        },\n        showDots:\n        {\n            type: Boolean,\n            default: true\n        },\n        animationStyle:\n        {\n            type: String,\n            default: \"standard\"\n        },\n        pluginPath:\n        {\n            type: String,\n            default: \"\"\n        }\n    },\n\n    inject: {\n        itemId: {\n            default: null\n        }\n    },\n\n    data()\n    {\n        return {\n            currentItem: 0,\n            initialized: false\n        };\n    },\n\n    computed:\n    {\n        currentVariation()\n        {\n            return this.$store.getters[`${this.itemId}/currentItemVariation`]\n        },\n\n        carouselImages()\n        {\n            return this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    \"urlPreview\"\n                ).slice(0, this.maxQuantity);\n        },\n\n        singleImages()\n        {\n            return this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    this.imageUrlAccessor\n            ).slice(0, this.maxQuantity);\n        }\n    },\n\n    watch: {\n        currentVariation:\n        {\n            handler(val, oldVal)\n            {\n                if (val !== oldVal)\n                {\n                    setTimeout(() =>\n                    {\n                        this.reInitialize();\n                    }, 1);\n                }\n            },\n            deep: true\n        }\n    },\n\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.loadLightbox().then(() =>\n                {\n                    this.initCarousel();\n                    this.initThumbCarousel();\n                })\n                .catch(event =>\n                {\n                    console.log(\"error while loading lightbox\", event);\n                });\n        });\n    },\n\n    methods:\n    {\n        getImageCount()\n        {\n            return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\n        },\n\n        reInitialize()\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger(\"destroy.owl.carousel\");\n            $owl.html($owl.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\n            $owl.find(\".owl-item\").remove();\n\n            const $thumbs = $(this.$refs.thumbs);\n\n            $thumbs.trigger(\"destroy.owl.carousel\");\n            $thumbs.html($thumbs.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\n            $thumbs.find(\".owl-item\").remove();\n\n            this.initCarousel();\n            this.initThumbCarousel();\n        },\n\n        initCarousel()\n        {\n            const imageCount = this.getImageCount();\n            const carouselSettings = {\n                autoHeight       : true,\n                dots             : this.showDots,\n                items            : 1,\n                lazyLoad         : true,\n                rewind           : true,\n                margin           : 10,\n                mouseDrag        : imageCount > 1,\n                nav              : imageCount > 1,\n                navClass         : [\n                    \"owl-single-item-nav left carousel-control\",\n                    \"owl-single-item-nav right carousel-control\"\n                ],\n                navContainerClass: \"\",\n                navText          : [\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\n                ],\n                smartSpeed       : 350,\n                onChanged: event =>\n                {\n                    const $thumb = $(this.$refs.thumbs);\n\n                    $thumb.trigger(\"to.owl.carousel\", [\n                        event.page.index,\n                        350\n                    ]);\n                },\n                onInitialized: event =>\n                {\n                    this.initialized = true;\n                }\n            };\n\n            if (this.animationStyle !== \"standard\")\n            {\n                carouselSettings.animateOut = this.animationStyle;\n            }\n\n            $(this.$refs.single).owlCarousel(carouselSettings);\n\n            if (!isNullOrUndefined(window.lightbox))\n            {\n                lightbox.option({\n                    wrapAround: true,\n                    albumLabel: this.$translate(\"Ceres::Template.singleItemLightboxImageShown\")\n                });\n            }\n\n            $(this.$refs.single).on(\"changed.owl.carousel\", event =>\n            {\n                this.currentItem = event.page.index;\n            });\n        },\n\n        initThumbCarousel()\n        {\n            $(this.$refs.thumbs).owlCarousel({\n                autoHeight       : true,\n                dots             : false,\n                items            : 5,\n                lazyLoad         : true,\n                loop             : false,\n                margin           : 10,\n                mouseDrag        : false,\n                center           : false,\n                nav              : true,\n                navClass         : [\n                    \"owl-single-item-nav left carousel-control\",\n                    \"owl-single-item-nav right carousel-control\"\n                ],\n                navContainerClass: \"\",\n                navText          : [\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\n                ],\n                smartSpeed       : 350\n            });\n        },\n\n        goTo(index)\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger(\"to.owl.carousel\", [\n                index,\n                350\n            ]);\n        },\n\n        getAltText(image)\n        {\n            return image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        getImageName(image)\n        {\n            return image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        loadLightbox()\n        {\n            return new Promise((resolve, reject) =>\n            {\n                const script = document.querySelector(\"script#lightboxscript\");\n\n                if (!isNullOrUndefined(script))\n                {\n                    resolve();\n                }\n                else\n                {\n                    const script = document.createElement(\"script\");\n\n                    script.type = \"text/javascript\";\n                    script.id = \"lightboxscript\";\n                    script.src = `${ this.pluginPath }/js/dist/lightbox.min.js`;\n\n                    script.addEventListener(\"load\", () => resolve(), false);\n                    script.addEventListener(\"error\", event => reject(event), false);\n\n                    document.body.appendChild(script);\n                }\n            });\n        }\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./ItemImageCarousel.vue?vue&type=template&id=d4884ff0&\"\nimport script from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","itemscope","itemtype","ref","staticClass","_l","singleImages","image","href","url","_uid","alt","getAltText","title","getImageName","_v","showThumbs","id","carouselImages","imagePreview","index","on","click","$event","goTo","class","active","currentItem","_e","initialized","src","_withStripped","name","props","maxQuantity","type","Number","default","imageUrlAccessor","String","Boolean","showDots","animationStyle","pluginPath","inject","itemId","data","computed","currentVariation","$store","getters","concat","$options","filters","itemImages","images","slice","watch","handler","val","oldVal","_this","setTimeout","reInitialize","deep","mounted","_this2","$nextTick","loadLightbox","then","initCarousel","initThumbCarousel","catch","event","console","log","methods","getImageCount","length","$owl","$","$refs","single","trigger","html","find","removeClass","remove","$thumbs","thumbs","_this3","imageCount","carouselSettings","autoHeight","dots","items","lazyLoad","rewind","margin","mouseDrag","nav","navClass","navContainerClass","navText","smartSpeed","onChanged","page","onInitialized","animateOut","owlCarousel","isNullOrUndefined","window","lightbox","option","wrapAround","albumLabel","$translate","loop","center","alternate","itemName","_this4","Promise","resolve","reject","script","document","querySelector","createElement","addEventListener","body","appendChild"],"sourceRoot":""}