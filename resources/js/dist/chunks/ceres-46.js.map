{"version":3,"sources":["webpack:///resources/js/src/app/components/pageDesign/Popper.vue","webpack:///./resources/js/src/app/components/pageDesign/Popper.vue","webpack:///./resources/js/src/app/components/pageDesign/Popper.vue?3c33","webpack:///./resources/js/src/app/components/pageDesign/Popper.vue?032f","webpack:///./resources/js/src/app/components/pageDesign/Popper.vue?ace8"],"names":["props","placement","type","default","trigger","popoverClass","bodyClass","bodyStyle","mounted","findModal","on","destroyed","window","data","isVisible","popper","eventListener","computed","classNames","methods","initializePopper","node","document","modifiers","arrow","element","removeOnDestroy","addEventListeners","setTimeout","handle","togglePopper","showPopper","hidePopper","update","render","_vm","_c","_self","ref","staticClass","_t","_m","_v","class","style","staticRenderFns","_withStripped"],"mappings":"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","file":"chunks/ceres-46.js","sourcesContent":["<template>\n  \t<div>\n\t\t<div class=\"popper-handle\" ref=\"handle\">\n\t\t\t<slot name=\"handle\">\n\t\t\t\t<!--Element to trigger popper -->\n                <button class=\"btn btn-icon btn-secondary btn-sm\">\n                    <i class=\"fa fa-info\"></i>\n                </button>\n\t\t\t</slot>\n\t\t</div>\n\n\t\t<div ref=\"node\" class=\"popover bs-popover-auto\" :class=\"classNames\">\n\t\t\t<h3 class=\"popover-header\">\n\t\t\t\t<slot name=\"title\">\n\t\t\t\t\t<!-- {# Title to display in the popper #} -->\n\t\t\t\t</slot>\n\t\t\t</h3>\n\t\t\t<div class=\"popover-body\" :class=\"bodyClass\" :style=\"bodyStyle\">\n\t\t\t\t<slot name=\"content\">\n\t\t\t\t\t<!-- {# Content to display in the popper #} -->\n\t\t\t\t</slot>\n\t\t\t</div>\n\t\t\t<div class=\"arrow\" ref=\"arrow\"></div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport { isNullOrUndefined } from \"../../helper/utils\";\nimport { findParent } from \"../../helper/dom\";\nimport { findModal } from \"../../services/ModalService\";\nimport Vue from \"vue\";\nimport Popper from \"popper.js\";\n\nexport default {\n    props: {\n        placement: {\n            type: String,\n            default: \"auto\"\n        },\n        trigger: {\n            type: String,\n            default: \"click\"\n        },\n        popoverClass: {\n            type: String,\n            default: \"\"\n        },\n        bodyClass: {\n            type: String,\n            default: \"\"\n        },\n        bodyStyle: {\n            type: String,\n            default: \"\"\n        }\n    },\n\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            if (!isNullOrUndefined(this.$refs.node) && !isNullOrUndefined(this.$refs.handle))\n            {\n                this.initializePopper();\n            }\n\n            const parentModal = findParent(this.$el, \".modal\");\n\n            if (!isNullOrUndefined(parentModal))\n            {\n                findModal(parentModal)\n                    .on(\"hide.bs.modal\", () =>\n                    {\n                        this.hidePopper();\n                    });\n            }\n\n        });\n    },\n\n    destroyed()\n    {\n        this.popper.destroy();\n        window.removeEventListener(\"resize\", this.eventListener);\n    },\n\n    data()\n    {\n        return {\n            isVisible: false,\n            popper: null,\n            eventListener: null\n        };\n    },\n\n    computed:\n    {\n        classNames()\n        {\n            // in the shopbuilder we need to hide the popper completely, to hide the dropzone\n            const hideClass = App.isShopBuilder ? \" d-none\" : \" hidden\";\n\n            return this.popoverClass + (!this.isVisible ? hideClass : \"\");\n        }\n    },\n\n    methods:\n    {\n        initializePopper()\n        {\n            const node = this.$refs.node;\n\n            if (!App.isShopBuilder)\n            {\n                node.parentElement.removeChild(node);\n                document.body.appendChild(node);\n            }\n\n            this.popper = new Popper(\n                (this.$refs.handle.firstElementChild || this.$refs.handle),\n                node,\n                {\n                    placement: this.placement,\n                    modifiers: {\n                        arrow: {\n                            element: this.$refs.arrow\n                        }\n                    },\n                    removeOnDestroy: true\n                }\n            );\n\n            this.addEventListeners();\n        },\n        \n        addEventListeners()\n        {\n            this.eventListener = window.addEventListener(\"resize\", () =>\n            {\n            // popper's position needs to be reset after a resize, to prevent the overflow, after switching from landscape to normal\n                this.hidePopper();\n\n                setTimeout(() => {\n                    this.$refs.node.style.transform = \"\";\n                }, 0);\n            });\n\n            const handle = this.$refs.handle.firstElementChild || this.$refs.handle;\n\n            if (this.trigger === \"focus\")\n            {\n                handle.addEventListener(\"focus\", () =>\n                {\n                    this.showPopper();\n                });\n                handle.addEventListener(\"blur\", () =>\n                {\n                    this.hidePopper();\n                });\n            }\n            else\n            {\n                handle.addEventListener(this.trigger, () =>\n                {\n                    this.togglePopper();\n                });\n            }\n        },\n\n        togglePopper()\n        {\n            this.isVisible = !this.isVisible;\n            this.update();\n        },\n\n        showPopper()\n        {\n            this.isVisible = true;\n            this.update();\n        },\n\n        hidePopper()\n        {\n            this.isVisible = false;\n            this.update();\n        },\n\n        update()\n        {\n            if (!isNullOrUndefined(this.popper))\n            {\n                this.popper.scheduleUpdate();\n            }\n        }\n    }\n}\n</script>\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"div\", [\n    _c(\n      \"div\",\n      { ref: \"handle\", staticClass: \"popper-handle\" },\n      [\n        _vm._t(\"handle\", function () {\n          return [_vm._m(0)]\n        }),\n      ],\n      2\n    ),\n    _vm._v(\" \"),\n    _c(\n      \"div\",\n      {\n        ref: \"node\",\n        staticClass: \"popover bs-popover-auto\",\n        class: _vm.classNames,\n      },\n      [\n        _c(\"h3\", { staticClass: \"popover-header\" }, [_vm._t(\"title\")], 2),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          {\n            staticClass: \"popover-body\",\n            class: _vm.bodyClass,\n            style: _vm.bodyStyle,\n          },\n          [_vm._t(\"content\")],\n          2\n        ),\n        _vm._v(\" \"),\n        _c(\"div\", { ref: \"arrow\", staticClass: \"arrow\" }),\n      ]\n    ),\n  ])\n}\nvar staticRenderFns = [\n  function () {\n    var _vm = this,\n      _c = _vm._self._c\n    return _c(\"button\", { staticClass: \"btn btn-icon btn-secondary btn-sm\" }, [\n      _c(\"i\", { staticClass: \"fa fa-info\" }),\n    ])\n  },\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Popper.vue?vue&type=template&id=00b0102c&\"\nimport script from \"./Popper.vue?vue&type=script&lang=js&\"\nexport * from \"./Popper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/maximilianroell/workspace2/plugins/Ceres/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('00b0102c')) {\n      api.createRecord('00b0102c', component.options)\n    } else {\n      api.reload('00b0102c', component.options)\n    }\n    module.hot.accept(\"./Popper.vue?vue&type=template&id=00b0102c&\", function () {\n      api.rerender('00b0102c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"resources/js/src/app/components/pageDesign/Popper.vue\"\nexport default component.exports","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popper.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Popper.vue?vue&type=template&id=00b0102c&\""],"sourceRoot":""}