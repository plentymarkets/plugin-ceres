(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{338:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.label.length||"bundle"===e.bundleType,expression:"label.length || bundleType === 'bundle'"}],staticClass:"special-tags p-2"},[e.label.length?i("span",{staticClass:"badge",class:e.tagClass},[e._v("\n        "+e._s(e.label)+"\n    ")]):i("span",{staticClass:"badge badge-bundle bg-info"},[e._v("\n        "+e._s(e.$translate("Ceres::Template.itemBundle"))+"\n    ")])])};s._withStripped=!0;i(47),i(94),i(16),i(50);var r=i(1),a={name:"item-store-special",props:["storeSpecial","recommendedRetailPrice","variationRetailPrice","specialOfferPrice","decimalCount","bundleType"],data:function(){return{tagClass:"",label:"",tagClasses:{1:"badge-offer badge-danger",2:"badge-new badge-primary",3:"badge-top badge-success",default:"badge-success"},labels:{1:this.$translate("Ceres::Template.storeSpecialOffer"),2:this.$translate("Ceres::Template.storeSpecialNew"),3:this.$translate("Ceres::Template.storeSpecialTop")}}},created:function(){this.initializeStoreSpecial()},methods:{initializeStoreSpecial:function(){Object(r.d)(this.storeSpecial)?this.tagClass=this.tagClasses.default:this.tagClass=this.tagClasses[this.storeSpecial.id]||this.tagClasses.default,this.label=this.getLabel()},getLabel:function(){return Object(r.d)(this.storeSpecial)||1!==this.storeSpecial.id||Object(r.d)(this.recommendedRetailPrice)?Object(r.d)(this.storeSpecial)?"":this.labels[this.storeSpecial.id]||this.storeSpecial.names.name:this.getPercentageSale()},getPercentageSale:function(){var e;return(e=Object(r.b)(this.specialOfferPrice)?-100*(1-this.specialOfferPrice.unitPrice.value/this.variationRetailPrice.unitPrice.value):-100*(1-this.variationRetailPrice.unitPrice.value/this.recommendedRetailPrice.unitPrice.value))<0?e.toFixed(this.decimalCount).replace(".",App.decimalSeparator)+"%":""}},watch:{storeSpecial:function(){this.initializeStoreSpecial()}}},n=i(11),l=Object(n.a)(a,s,[],!1,null,null,null);l.options.__file="resources/js/src/app/components/itemList/ItemStoreSpecial.vue";t.a=l.exports},340:function(e,t,i){var s=i(5),r=i(215),a=i(12),n=i(25),l=i(155).onFreeze,o=Object.freeze;s({target:"Object",stat:!0,forced:a((function(){o(1)})),sham:!r},{freeze:function(e){return o&&n(e)?o(l(e)):e}})},357:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.currentOffer?i("category-item",{attrs:{"item-data":e.currentOffer.item,"decimal-count":e.$ceres.config.item.storeSpecial,"image-url-accessor":"urlMiddle","padding-classes":e.paddingClasses,"padding-inline-styles":e.paddingInlineStyles},scopedSlots:e._u([{key:"store-special",fn:function(){return[e.storeSpecial?i("item-store-special",{attrs:{"store-special":e.storeSpecial,"recommended-retail-price":e.prices.rrp,"variation-retail-price":e.prices.price,"decimal-count":e.$ceres.config.item.storeSpecial}}):e._e()]},proxy:!0},{key:"item-image",fn:function(){return[e.displaySettings.customImagePath?i("a",{attrs:{href:e._f("itemURL")(e.currentOffer.item)}},[i("lazy-img",{attrs:{"image-url":e.displaySettings.customImagePath,alt:e._f("itemName")(e.currentOffer.item),title:e._f("itemName")(e.currentOffer.item)}})],1):e._e()]},proxy:!0},e.currentOffer&&1!==e.whenIsCurrentOffer()&&e.isActiveByStock?{key:"item-details",fn:function(){return[i("live-shopping-details",{attrs:{"live-shopping-data":e.currentOffer,"display-settings":e.displaySettings,prices:e.prices,"is-active-by-stock":e.isActiveByStock,"show-net-prices":e.showNetPrices},on:{"reload-offer":function(t){return e.reloadOffer()}},scopedSlots:e._u([{key:"after-item-name",fn:function(){return[i("div",{staticClass:"live-shopping-add-to-basket"},[i("add-to-basket",{attrs:{"variation-id":e.currentOffer.item.variation.id,"is-salable":!!e.currentOffer.item.filter&&e.currentOffer.item.filter.isSalable,"has-children":!!e.currentOffer.item.filter&&e.currentOffer.item.filter.hasActiveChildren,"interval-quantity":e.currentOffer.item.variation.intervalOrderQuantity||1,"minimum-quantity":e.currentOffer.item.variation.minimumOrderQuantity,"maximum-quantity":e.currentOffer.item.variation.maximumOrderQuantity&&e.currentOffer.item.variation.maximumOrderQuantity>0?e.currentOffer.item.variation.maximumOrderQuantity:null,"order-properties":e.currentOffer.item.properties.filter((function(e){return e.property.isOderProperty})),"has-order-properties":e.currentOffer.item.hasOrderProperties,"use-large-scale":!1,"show-quantity":!1,"item-url":e._f("itemURL")(e.currentOffer.item)}})],1)]},proxy:!0}],null,!1,2243585629)})]},proxy:!0}:null],null,!0)}):i("div",[e._t("default")],2)],1)};s._withStripped=!0;i(6),i(3),i(20),i(46),i(340),i(55),i(56),i(31),i(48),i(21);var r=i(17),a=i(1),n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"live-shopping-details"},[i("div",{staticClass:"h3 live-shopping-item-name"},[i("a",{attrs:{href:e._f("itemURL")(e.liveShoppingData.item)}},[e._v("\n            "+e._s(e._f("itemName")(e.liveShoppingData.item))+"\n        ")])]),e._v(" "),e._t("after-item-name"),e._v(" "),e.displaySettings.showTimer||e.displaySettings.showStock?i("div",{staticClass:"live-shopping-countdown"},[i("hr",{staticClass:"live-shopping-countdown-separator"}),e._v(" "),e.displaySettings.showTimer?i("div",{staticClass:"live-shopping-countdown-heading"},[e.hasStarted?i("div",[e._v("\n                "+e._s(e.$translate("Ceres::Template.liveShoppingOfferEndsIn"))+"\n            ")]):i("div",[e._v("\n                "+e._s(e.$translate("Ceres::Template.liveShoppingOfferBeginsIn"))+"\n            ")])]):e._e(),e._v(" "),e.displaySettings.showTimer&&e.duration?i("div",{staticClass:"live-shopping-countdown-thread-container"},[e.duration.days>0?i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.days))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingDays")))])]):e._e(),e._v(" "),i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.hours))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingHours")))])]),e._v(" "),i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.minutes))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingMinutes")))])]),e._v(" "),e.duration.days<=0?i("div",{staticClass:"live-shopping-countdown-thread"},[i("div",{staticClass:"live-shopping-countdown-thread-number"},[e._v(e._s(e.duration.seconds))]),e._v(" "),i("div",{staticClass:"small"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingSeconds")))])]):e._e()]):e._e(),e._v(" "),e.hasStarted&&!e.hasClosed?[e.displaySettings.showTimer&&e.displaySettings.showTimerProgress?i("div",{staticClass:"live-shopping-progress"},[i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",class:"progress-"+10*Math.round(e.timePercentage/10),style:"width:"+e.timePercentage+"%",attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})])]):e._e(),e._v(" "),e.displaySettings.showStock?i("div",{staticClass:"live-shopping-progress"},[i("div",{staticClass:"live-shopping-progress-heading"},[i("span",[e._v(e._s(e.$translate("Ceres::Template.liveShoppingRemainingStock",{quantityRemaining:e.itemQuantityRemaining,quantityMax:e.liveShoppingData.liveShopping.quantityMax})))])]),e._v(" "),e.displaySettings.showStockProgress?i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bar",class:"progress-"+10*Math.round(e.quantitySoldPercentage/10),style:"width:"+e.quantitySoldPercentage+"%",attrs:{role:"progressbar","aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"}})]):e._e()]):e._e()]:e._e()],2):e._e(),e._v(" "),e.hasStarted&&!e.hasClosed?i("div",{staticClass:"live-shopping-prices bg-danger"},[i("div",{staticClass:"live-shopping-prices-inner"},[!isNaN(e.itemPriceRebatePercentage)&&e.itemPriceRebatePercentage>0?i("div",{staticClass:"live-shopping-prices-rebate"},[e._v(e._s(e.$translate("Ceres::Template.liveShoppingRebate",{rebate:e.itemPriceRebatePercentage})))]):e._e(),e._v(" "),i("div",{staticClass:"live-shopping-prices-container"},[i("div",{staticClass:"live-shopping-price"},[i("strong",[e._v(e._s(e.prices.price.unitPrice.formatted)+" *")])]),e._v(" "),e.displaySettings.showCrossPrice&&e.prices.rrp&&e.prices.rrp.unitPrice.value>0?i("span",[e.prices.isRrpDefaultPrice?i("span",{domProps:{innerHTML:e._s(e.oldPriceBefore)}}):i("span",{domProps:{innerHTML:e._s(e.oldPriceRrp)}})]):e._e()])]),e._v(" "),i("div",{staticClass:"live-shopping-prices-additional-info"},["C62"!==e.liveShoppingData.item.unit.unitOfMeasurement||1!==e.liveShoppingData.item.unit.content?i("div",[i("span",[e._v(e._s(e.liveShoppingData.item.unit.content))]),e._v(" "),i("span",[e._v(e._s(e.liveShoppingData.item.unit.names.name))]),e._v(" "),e.liveShoppingData.item.variation.mayShowUnitPrice?i("span",[e._v("| "+e._s(e.prices.price.basePrice))]):e._e()]):e._e(),e._v("\n\n            * "),e.showNetPrices?[e._v(e._s(e.$translate("Ceres::Template.itemExclVAT")))]:[e._v(e._s(e.$translate("Ceres::Template.itemInclVAT")))],e._v(" "+e._s(e.$translate("Ceres::Template.itemExclusive"))+"\n            "),e.$ceres.config.global.shippingCostsCategoryId>0?i("a",{attrs:{"data-toggle":"modal",href:"#shippingscosts",title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))]):i("a",{attrs:{title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))])],2)]):i("div",{staticClass:"thumb-content"},[i("div",[i("div",{staticClass:"prices"},[i("div",{staticClass:"price-view-port"},[e.displaySettings.showCrossPrice&&e.prices.rrp.price.value>0?i("del",{staticClass:"crossprice"},[e._v("\n                        "+e._s(e._f("itemCrossPrice")(e.prices.rrp.price.formatted))+"\n                    ")]):e._e()]),e._v(" "),i("div",{staticClass:"price"},[e._v("\n                    "+e._s(e.prices.price.price.formatted)+" *\n                ")])]),e._v(" "),"C62"!==e.liveShoppingData.item.unit.unitOfMeasurement||1!==e.liveShoppingData.item.unit.content?i("div",{staticClass:"category-unit-price small"},[i("span",[e._v(e._s(e.liveShoppingData.item.unit.content))]),e._v(" "),i("span",[e._v(e._s(e.liveShoppingData.item.unit.names.name))]),e._v(" "),e.liveShoppingData.item.variation.mayShowUnitPrice?i("span",[e._v("| "+e._s(e.prices.price.basePrice))]):e._e()]):e._e(),e._v(" "),i("span",{staticClass:"vat small text-muted"},[e._v("\n                * "),e.showNetPrices?[e._v(e._s(e.$translate("Ceres::Template.itemExclVAT")))]:[e._v(e._s(e.$translate("Ceres::Template.itemInclVAT")))],e._v(" "+e._s(e.$translate("Ceres::Template.itemExclusive"))+"\n                "),e.$ceres.config.global.shippingCostsCategoryId>0?i("a",{attrs:{"data-toggle":"modal",href:"#shippingscosts",title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))]):i("a",{attrs:{title:e.$translate("Ceres::Template.itemShippingCosts")}},[e._v(e._s(e.$translate("Ceres::Template.itemShippingCosts")))])],2)])])],2)};n._withStripped=!0;i(94),i(16),i(50);var l=i(150),o=i.n(l),p={props:{liveShoppingData:{type:Object,required:!0},displaySettings:{type:Object,default:function(){return{showCrossPrice:!0,showStock:!0,showStockProgress:!0,showTimer:!0,showTimerProgress:!0}}},prices:{type:Object,required:!0},isActiveByStock:{type:Boolean},showNetPrices:{type:Boolean}},data:function(){return{currentInterval:null,duration:null,hasClosed:null,hasStarted:null,itemPriceRebatePercentage:0,itemQuantityRemaining:0,momentBegin:null,momentEnd:null,quantitySoldPercentage:0,timePercentage:0}},computed:{oldPriceBefore:function(){return this.$translate("Ceres::Template.liveShoppingBefore",{price:"<del>"+this.prices.rrp.unitPrice.formatted+"</del>"})},oldPriceRrp:function(){return this.$translate("Ceres::Template.liveShoppingRrp",{price:"<del>"+this.prices.rrp.unitPrice.formatted+"</del>"})}},created:function(){this.initializeDataAndTimer()},methods:{initializeDataAndTimer:function(){var e=this,t=o()();this.momentBegin=o.a.unix(this.liveShoppingData.liveShopping.fromTime),this.momentEnd=o.a.unix(this.liveShoppingData.liveShopping.toTime),this.hasStarted=this.momentBegin.valueOf()<t.valueOf(),this.hasClosed=this.momentEnd.valueOf()<t.valueOf(),this.setQuantitySoldPercentage(),this.hasStarted&&!this.hasClosed&&this.setItemPriceRebatePercentage(),clearInterval(this.currentInterval),this.calculations(),this.currentInterval=setInterval((function(){e.calculations()}),1e3)},setQuantitySoldPercentage:function(){var e=this.liveShoppingData.liveShopping,t=100-e.quantitySold/e.quantityMax*100;this.itemQuantityRemaining=e.quantityMax-e.quantitySold,this.quantitySoldPercentage=t.toFixed(App.config.item.storeSpecial)},setItemPriceRebatePercentage:function(){var e=this.prices.price.price.value,t=this.prices.rrp&&this.prices.rrp.price.value||0;if(0===t)this.itemPriceRebatePercentage=0;else{var i=100-e/t*100;i=(i=i.toFixed(App.config.item.storeSpecial)).replace(".",App.decimalSeparator),this.itemPriceRebatePercentage=i}},calculations:function(){var e,t=o()(),i=0;e=this.momentEnd.diff(this.momentBegin,"second"),i=this.hasStarted?this.momentEnd.diff(t,"second"):this.momentBegin.diff(t,"second"),this.timePercentage=(i/e*100).toFixed(App.config.item.storeSpecial),this.duration=this.getDuration(i);var s=!this.hasStarted&&this.momentBegin<t,r=!this.hasClosed&&this.momentEnd<t;(s||r)&&(clearInterval(this.currentInterval),this.$emit("reload-offer"))},getDuration:function(e){var t=Math.floor(e/86400);e-=60*t*60*24;var i=Math.floor(e/3600);e-=60*i*60;var s=Math.floor(e/60);return{days:t,hours:i,minutes:s,seconds:e-=60*s}}},watch:{liveShoppingData:function(){this.initializeDataAndTimer()}}},c=i(11),u=Object(c.a)(p,n,[],!1,null,null,null);u.options.__file="resources/js/src/app/components/liveShopping/LiveShoppingDetails.vue";var d=u.exports,h=i(338);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var f=Object.freeze({past:1,now:2,future:3}),g={components:{LiveShoppingDetails:d,ItemStoreSpecial:h.a},props:{liveShoppingId:{type:Number,required:!0,validator:function(e){return e%1==0&&e>=1&&e<=10}},displaySettings:{type:Object},paddingClasses:{type:String,default:null},paddingInlineStyles:{type:String,default:null},sorting:{type:String,default:null},showNetPrices:{type:Boolean}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){m(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({currentOffer:function(){return this.liveShoppingOffers[this.liveShoppingId]},isActive:function(){return this.isActiveByTime&&this.isActiveByStock},isActiveByTime:function(){if(!Object(a.d)(this.currentOffer)){var e=1e3*parseInt(this.currentOffer.liveShopping.fromTime),t=1e3*parseInt(this.currentOffer.liveShopping.toTime),i=Date.now();return e<i&&i<t}return!1},isActiveByStock:function(){if(!Object(a.d)(this.currentOffer)){var e=this.currentOffer.liveShopping;return e.quantitySold<e.quantityMax}return!1},storeSpecial:function(){if(!Object(a.d)(this.currentOffer)){if(this.isActive)return{id:1};var e=this.whenIsCurrentOffer(),t="";return e===f.past?t=this.$translate("Ceres::Template.liveShoppingOfferClosed"):e===f.future?t=this.$translate("Ceres::Template.liveShoppingNextOffer"):e===f.now&&(t=this.$translate("Ceres::Template.liveShoppingOfferSoldOut")),{id:-1,names:{name:t}}}return null},prices:function(){var e=this.currentOffer.item.prices,t={price:e.default,rrp:e.rrp,isRrpDefaultPrice:!1};return Object(a.d)(e.specialOffer)||(t.price=e.specialOffer,t.rrp=e.default||e.rrp,t.isRrpDefaultPrice=!!e.default),t}},Object(r.e)({liveShoppingOffers:function(e){return e.liveShopping.liveShoppingOffers}})),created:function(){this.$store.dispatch("retrieveLiveShoppingOffer",{liveShoppingId:this.liveShoppingId,sorting:this.sorting})},methods:{whenIsCurrentOffer:function(){var e=1e3*parseInt(this.currentOffer.liveShopping.fromTime),t=1e3*parseInt(this.currentOffer.liveShopping.toTime),i=Date.now();return e<i&&i>t?f.past:e<i&&i<t?f.now:f.future},reloadOffer:function(){this.$store.dispatch("retrieveLiveShoppingOffer",{liveShoppingId:this.liveShoppingId,sorting:this.sorting})}}},S=Object(c.a)(g,s,[],!1,null,null,null);S.options.__file="resources/js/src/app/components/liveShopping/LiveShoppingItem.vue";t.default=S.exports}}]);
//# sourceMappingURL=ceres-8.min.js.map